{"code":"!function(t){var e={};function r(l){if(e[l])return e[l].exports;var i=e[l]={i:l,l:!1,exports:{}};return t[l].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,l){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:l})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var l=Object.create(null);if(r.r(l),Object.defineProperty(l,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)r.d(l,i,function(e){return t[e]}.bind(null,i));return l},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=0)}([function(t,e,r){\"use strict\";function l(t,e,r,l){if(\"moveLocation\"===t){if(void 0===l)return void console.log(\"You must provide behavior for the moveLocation\");let t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");return t.setAttribute(\"cx\",50*e+25),t.setAttribute(\"cy\",50*r+25),t.setAttribute(\"r\",14),t.setAttribute(\"class\",\"moveLocation\"),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),t.addEventListener(\"click\",l),y.appendChild(t),t}if(\"checkCircle\"!==t){if(void 0===l)return void console.log(\"You must provide behavior for the piece!\");let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\");return i.setAttribute(\"href\",t),i.setAttribute(\"x\",50*e),i.setAttribute(\"y\",50*r),i.setAttribute(\"width\",50),i.setAttribute(\"height\",50),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",l),y.appendChild(i),i}}function i(t){return t.getAttribute(\"href\").slice(0,t.getAttribute(\"href\").length-4).toLowerCase().split(\"_\")[1]}function u(t){return t.getAttribute(\"href\").slice(0,t.getAttribute(\"href\").length-4).toLowerCase().split(\"_\")[0]}function n(t){switch(t){case 0:return\"a\";case 1:return\"b\";case 2:return\"c\";case 3:return\"d\";case 4:return\"e\";case 5:return\"f\";case 6:return\"g\";case 7:return\"h\"}}r.r(e),r.d(e,\"g\",function(){return y});const o=[[],[],[],[],[],[],[],[]];var f,y,a=[[],[],[],[],[],[],[],[]],h=[[],[],[],[],[],[],[],[]],c=null;const s=[];const A={white:!1,black:!1},x={bLeft:!1,bRight:!1,wLeft:!1,wRight:!1};var m=\"white\";const b={x:-1,y:-1},g={x:4,y:0},w={x:4,y:7};var d=null,v=!1;let p=null;const k=t=>{let e=Number(t.target.getAttribute(\"x\")),r=Number(t.target.getAttribute(\"y\")),f=u(t.target),a=i(t.target);for(let t=0;t<s.length;)y.removeChild(s.shift());c=t.target,function(t,e,r,u){if(u!==m)return;switch(r){case\"pawn\":!function(t,e,r){let u=\"white\"===r;if(null===o[u?e-1:e+1][t]){let r=!1,i=Array.from(o,t=>Array.from(t));if(i[u?e-1:e+1][t]=i[e][t],i[e][t]=null,u?W(i)[w.y][w.x]&&(r=!0):R(i)[g.y][g.x]&&(r=!0),!r)if(e===(u?1:6)){let r=r=>{for(let t=0;t<s.length;)y.removeChild(s.shift());y.removeChild(o[e][t]),o[e][t]=null,o[u?e-1:e+1][t]=l(u?\"Queen_White.png\":\"Queen_Black.png\",t,u?e-1:e+1,k),m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};s.push(l(\"moveLocation\",t,e,r))}else{let r=r=>{c.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());if(o[u?e-1:e+1][t]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),null===L){let r=document.createElement(\"tr\"),l=document.createElement(\"td\");l.textContent=++C,r.appendChild(l),(l=document.createElement(\"td\")).textContent=n(t)+String(e-1),r.appendChild(l),document.getElementById(\"moveHistory\").appendChild(r),L=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=n(t)+String(e+1),L.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L),L=null}};s.push(l(\"moveLocation\",t,u?e-1:e+1,r))}if((e===u||1)&&(r=!1,(i=Array.from(o,t=>Array.from(t)))[u?e-2:e+2][t]=i[e][t],i[e][t]=null,u?W(i)[w.y][w.x]&&(r=!0):R(i)[g.y][g.x]&&(r=!0),!r&&e===(u?6:1)&&null===o[u?e-2:e+2][t])){let r=r=>{c.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());o[u?e-2:e+2][t]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=t,b.y=u?e-2:e+2,E()};s.push(l(\"moveLocation\",t,u?e-2:e+2,r))}}if(t+1<8&&null!==o[u?e-1:e+1][t+1]&&i(o[u?e-1:e+1][t+1])!==r){let r=!1,i=Array.from(o,t=>Array.from(t));if(i[u?e-1:e+1][t+1]=i[e][t],i[e][t]=null,u?W(i)[w.y][w.x]&&(r=!0):R(i)[g.y][g.x]&&(r=!0),!r)if(e===(u?1:6)){let r=r=>{for(let t=0;t<s.length;)y.removeChild(s.shift());y.removeChild(o[e][t]),o[e][t]=null;let i=l(u?\"Queen_White.png\":\"Queen_Black.png\",t+1,u?e-1:e+1,k);y.appendChild(i),y.removeChild(o[u?e-1:e+1][t+1]),o[u?e-1:e+1][t+1]=i,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};s.push(l(\"moveLocation\",t+1,u?e-1:e+1,r))}else{let r=r=>{c.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());let l=o[u?e-1:e+1][t+1];y.removeChild(l),o[u?e-1:e+1][t+1]=null,o[u?e-1:e+1][t+1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};s.push(l(\"moveLocation\",t+1,u?e-1:e+1,r))}}if(t-1>=0&&null!==o[u?e-1:e+1][t-1]&&i(o[u?e-1:e+1][t-1])!==r){let r=!1,i=Array.from(o,t=>Array.from(t));if(i[u?e-1:e+1][t-1]=i[e][t],i[e][t]=null,u?W(i)[w.y][w.x]&&(r=!0):R(i)[g.y][g.x]&&(r=!0),!r)if(e===(u?1:6)){let r=r=>{for(let t=0;t<s.length;)y.removeChild(s.shift());y.removeChild(o[e][t]),o[e][t]=null;let i=l(u?\"Queen_White.png\":\"Queen_Black.png\",t-1,u?e-1:e+1,k);y.appendChild(i),y.removeChild(o[u?e-1:e+1][t-1]),o[u?e-1:e+1][t-1]=i,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};s.push(l(\"moveLocation\",t-1,u?e-1:e+1,r))}else{let r=r=>{c.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());y.removeChild(o[u?e-1:e+1][t-1]),o[u?e-1:e+1][t-1]=null,o[u?e-1:e+1][t-1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};s.push(l(\"moveLocation\",t-1,u?e-1:e+1,r))}}if(b.x===t-1&&b.y===e&&null===o[u?e-1:e+1][t-1]){let r=!1,i=Array.from(o,t=>Array.from(t));if(i[u?e-1:e+1][t-1]=i[e][t],i[e][t]=null,i[e][t-1]=null,u?W(i)[w.y][w.x]&&(r=!0):R(i)[g.y][g.x]&&(r=!0),!r){let r=r=>{c.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());y.removeChild(o[e][t-1]),o[e][t-1]=null,o[u?e-1:e+1][t-1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};s.push(l(\"moveLocation\",t-1,u?e-1:e+1,r))}}if(b.x===t+1&&b.y===e&&null==o[u?e-1:e+1][t+1]){let r=!1,i=Array.from(o,t=>Array.from(t));if(i[u?e-1:e+1][t-1]=i[e][t],i[e][t]=null,i[e][t+1]=null,u?W(i)[w.y][w.x]&&(r=!0):R(i)[g.y][g.x]&&(r=!0),!r){let r=r=>{c.setAttribute(\"x\",moveLocation.getAttribute(\"cx\")-25),c.setAttribute(\"y\",moveLocation.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());y.removeChild(o[e][t+1]),o[e][t+1]=null,o[u?e-1:e+1][t+1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};s.push(l(\"moveLocation\",t+1,u?e-1:e+1,r))}}}(t/50,e/50,u);break;case\"knight\":!function(t,e,r){if(e<=5&&t<=6&&(null===o[e+2][t+1]||i(o[e+2][t+1])!==r)){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e+2][t+1]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y][w.x]&&(i=!0):R(u)[g.y][g.x]&&(i=!0),!i){let r=r=>{c.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());null!==o[e+2][t+1]&&(y.removeChild(o[e+2][t+1]),o[e+2][t+1]=null),o[e+2][t+1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};s.push(l(\"moveLocation\",t+1,e+2,r))}}if(e>=2&&t>=1&&(null===o[e-2][t-1]||i(o[e-2][t-1])!==r)){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e-2][t-1]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y][w.x]&&(i=!0):R(u)[g.y][g.x]&&(i=!0),!i){let r=r=>{c.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());null!==o[e-2][t-1]&&(y.removeChild(o[e-2][t-1]),o[e-2][t-1]=null),o[e-2][t-1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};s.push(l(\"moveLocation\",t-1,e-2,r))}}if(e<=5&&t>=1&&(null===o[e+2][t-1]||i(o[e+2][t-1])!==r)){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e+2][t-1]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y][w.x]&&(i=!0):R(u)[g.y][g.x]&&(i=!0),!i){let r=r=>{c.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());null!==o[e+2][t-1]&&(y.removeChild(o[e+2][t-1]),o[e+2][t-1]=null),o[e+2][t-1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};s.push(l(\"moveLocation\",t-1,e+2,r))}}if(e>=2&&t<=6&&(null===o[e-2][t+1]||i(o[e-2][t+1])!==r)){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e-2][t+1]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y][w.x]&&(i=!0):R(u)[g.y][g.x]&&(i=!0),!i){let r=r=>{c.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());null!==o[e-2][t+1]&&(y.removeChild(o[e-2][t+1]),o[e-2][t+1]=null),o[e-2][t+1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};s.push(l(\"moveLocation\",t+1,e-2,r))}}if(e<=6&&t<=5&&(null===o[e+1][t+2]||i(o[e+1][t+2])!==r)){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e+1][t+2]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y][w.x]&&(i=!0):R(u)[g.y][g.x]&&(i=!0),!i){let r=r=>{c.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());null!==o[e+1][t+2]&&(y.removeChild(o[e+1][t+2]),o[e+1][t+2]=null),o[e+1][t+2]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};s.push(l(\"moveLocation\",t+2,e+1,r))}}if(e>=1&&t>=2&&(null===o[e-1][t-2]||i(o[e-1][t-2])!==r)){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e-1][t-2]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y][w.x]&&(i=!0):R(u)[g.y][g.x]&&(i=!0),!i){let r=r=>{c.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());null!==o[e-1][t-2]&&(y.removeChild(o[e-1][t-2]),o[e-1][t-2]=null),o[e-1][t-2]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};s.push(l(\"moveLocation\",t-2,e-1,r))}}if(e>=1&&t<=5&&(null===o[e-1][t+2]||i(o[e-1][t+2])!==r)){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e-1][t+2]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y][w.x]&&(i=!0):R(u)[g.y][g.x]&&(i=!0),!i){let r=r=>{c.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());null!==o[e-1][t+2]&&(y.removeChild(o[e-1][t+2]),o[e-1][t+2]=null),o[e-1][t+2]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};s.push(l(\"moveLocation\",t+2,e-1,r))}}if(e<=6&&t>=2&&(null===o[e+1][t-2]||i(o[e+1][t-2])!==r)){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e+1][t-2]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y][w.x]&&(i=!0):R(u)[g.y][g.x]&&(i=!0),!i){let r=r=>{c.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());null!==o[e+1][t-2]&&(y.removeChild(o[e+1][t-2]),o[e+1][t-2]=null),o[e+1][t-2]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};s.push(l(\"moveLocation\",t-2,e+1,r))}}}(t/50,e/50,u);break;case\"rook\":_(t/50,e/50,u);break;case\"bishop\":B(t/50,e/50,u);break;case\"queen\":_(t/50,e/50,u),B(t/50,e/50,u);break;case\"king\":!function(t,e,r){if(e+1<8&&t+1<8&&null!==o[e+1][t+1]&&i(o[e+1][t+1])!==r){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e+1][t+1]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y+1][w.x+1]&&(i=!0):R(u)[g.y+1][g.x+1]&&(i=!0),!i){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());y.removeChild(o[e+1][t+1]),o[e+1][t+1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t+1,w.y=e+1):(A.black=!0,g.x=t+1,g.y=e+1)};s.push(l(\"moveLocation\",t+1,e+1,i))}}else if(e+1<8&&t+1<8&&null===o[e+1][t+1]){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e+1][t+1]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y+1][w.x+1]&&(i=!0):R(u)[g.y+1][g.x+1]&&(i=!0),!i){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());o[e+1][t+1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t+1,w.y=e+1):(A.black=!0,g.x=t+1,g.y=e+1)};s.push(l(\"moveLocation\",t+1,e+1,i))}}if(e-1>=0&&t-1>=0&&null!==o[e-1][t-1]&&i(o[e-1][t-1])!==r){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e-1][t-1]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y-1][w.x-1]&&(i=!0):R(u)[g.y-1][g.x-1]&&(i=!0),!i){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());y.removeChild(o[e-1][t-1]),o[e-1][t-1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t-1,w.y=e-1):(A.black=!0,g.x=t-1,g.y=e-1)};s.push(l(\"moveLocation\",t-1,e-1,i))}}else if(e-1>=0&&t-1>=0&&null===o[e-1][t-1]){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e-1][t-1]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y-1][w.x-1]&&(i=!0):R(u)[g.y-1][g.x-1]&&(i=!0),!i){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());o[e-1][t-1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t-1,w.y=e-1):(A.black=!0,g.x=t-1,g.y=e-1)};s.push(l(\"moveLocation\",t-1,e-1,i))}}if(e-1>=0&&t+1<8&&null!==o[e-1][t+1]&&i(o[e-1][t+1])!==r){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e-1][t+1]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y-1][w.x-1]&&(i=!0):R(u)[g.y-1][g.x-1]&&(i=!0),!i){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());y.removeChild(o[e-1][t+1]),o[e-1][t+1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t+1,w.y=e-1):(A.black=!0,g.x=t+1,g.y=e-1)};s.push(l(\"moveLocation\",t+1,e-1,i))}}else if(e-1>=0&&t+1<8&&null===o[e-1][t+1]){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e-1][t+1]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y-1][w.x+1]&&(i=!0):R(u)[g.y-1][g.x+1]&&(i=!0),!i){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());o[e-1][t+1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t+1,w.y=e-1):(A.black=!0,g.x=t+1,g.y=e-1)};s.push(l(\"moveLocation\",t+1,e-1,i))}}if(e+1<8&&t-1>=0&&null!==o[e+1][t-1]&&i(o[e+1][t-1])!==r){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e+1][t-1]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y+1][w.x-1]&&(i=!0):R(u)[g.y+1][g.x-1]&&(i=!0),!i){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());y.removeChild(o[e+1][t-1]),o[e+1][t-1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t-1,w.y=e+1):(A.black=!0,g.x=t-1,g.y=e+1)};s.push(l(\"moveLocation\",t-1,e+1,i))}}else if(e+1<8&&t-1>=0&&null===o[e+1][t-1]){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e+1][t-1]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y+1][w.x-1]&&(i=!0):R(u)[g.y+1][g.x-1]&&(i=!0),!i){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());o[e+1][t-1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t-1,w.y=e+1):(A.black=!0,g.x=t-1,g.y=e+1)};s.push(l(\"moveLocation\",t-1,e+1,i))}}if(e+1<8&&null!==o[e+1][t]&&i(o[e+1][t])!==r){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e+1][t]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y+1][w.x]&&(i=!0):R(u)[g.y+1][g.x]&&(i=!0),!i){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());y.removeChild(o[e+1][t]),o[e+1][t]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t,w.y=e+1):(A.black=!0,g.x=t,g.y=e+1)};s.push(l(\"moveLocation\",t,e+1,i))}}else if(e+1<8&&null===o[e+1][t]){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e+1][t]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y+1][w.x]&&(i=!0):R(u)[g.y+1][g.x]&&(i=!0),!i){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());o[e+1][t]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t,w.y=e+1):(A.black=!0,g.x=t,g.y=e+1)};s.push(l(\"moveLocation\",t,e+1,i))}}if(e-1>=0&&null!==o[e-1][t]&&i(o[e-1][t])!==r){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e-1][t]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y-1][w.x]&&(i=!0):R(u)[g.y-1][g.x]&&(i=!0),!i){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());y.removeChild(o[e-1][t]),o[e-1][t]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t,w.y=e-1):(A.black=!0,g.x=t,g.y=e-1)};s.push(l(\"moveLocation\",t,e-1,i))}}else if(e-1>=0&&null===o[e-1][t]){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e-1][t]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y-1][w.x]&&(i=!0):R(u)[g.y-1][g.x]&&(i=!0),!i){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());o[e-1][t]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t,w.y=e-1):(A.black=!0,g.x=t,g.y=e-1)};s.push(l(\"moveLocation\",t,e-1,i))}}if(t+1<8&&null!==o[e][t+1]&&i(o[e][t+1])!==r){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e][t+1]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y][w.x+1]&&(i=!0):R(u)[g.y][g.x+1]&&(i=!0),!i){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());y.removeChild(o[e][t+1]),o[e][t+1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t+1,w.y=e):(A.black=!0,g.x=t+1,g.y=e)};s.push(l(\"moveLocation\",t+1,e,i))}}else if(t+1<8&&null===o[e][t+1]){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e][t+1]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y][w.x+1]&&(i=!0):R(u)[g.y][g.x+1]&&(i=!0),!i){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());o[e][t+1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t+1,w.y=e):(A.black=!0,g.x=t+1,g.y=e)};s.push(l(\"moveLocation\",t+1,e,i))}}if(t-1>=0&&null!==o[e][t-1]&&i(o[e][t-1])!==r){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e][t-1]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y][w.x-1]&&(i=!0):R(u)[g.y][g.x-1]&&(i=!0),!i){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());y.removeChild(o[e][t-1]),o[e][t-1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t-1,w.y=e):(A.black=!0,g.x=t-1,g.y=e)};s.push(l(\"moveLocation\",t-1,e,i))}}else if(t-1>=0&&null===o[e][t-1]){let i=!1,u=Array.from(o,t=>Array.from(t));if(u[e][t-1]=u[e][t],u[e][t]=null,\"white\"===r?W(u)[w.y][w.x-1]&&(i=!0):R(u)[g.y][g.x-1]&&(i=!0),!i){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());o[e][t-1]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t-1,w.y=e):(A.black=!0,g.x=t-1,g.y=e)};s.push(l(\"moveLocation\",t-1,e,i))}}let u=\"white\"===r?A.white:A.black;if(!u&&!v){if(!(u=\"white\"===r?x.wLeft:x.bLeft)&&null===o[\"white\"===r?7:0][1]&&null===o[\"white\"===r?7:0][2]&&null===o[\"white\"===r?7:0][3]){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());let i=o[\"white\"===r?7:0][0];i.setAttribute(\"x\",50*(t-1)),o[e][t-2]=o[e][t],o[e][t-1]=i,o[e][t]=null,o[\"white\"===r?7:0][0]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t-2,w.y=e,x.wLeft=!0):(A.black=!0,g.x=t-2,g.y=e,x.bLeft=!0)};s.push(l(\"moveLocation\",t-2,e,i))}if(!(u=(\"white\"===r?x.wRight:x.bRight)||(\"white\"===r?A.white:A.black))&&null===o[\"white\"===r?7:0][5]&&null===o[\"white\"===r?7:0][6]){let i=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());let i=o[\"white\"===r?7:0][7];i.setAttribute(\"x\",50*(t+1)),o[e][t+2]=o[e][t],o[e][t+1]=i,o[e][t]=null,o[\"white\"===r?7:0][7]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?(A.white=!0,w.x=t+2,w.y=e,x.wRight=!0):(A.black=!0,g.x=t+2,g.y=e,x.bRight=!0)};s.push(l(\"moveLocation\",t+2,e,i))}}}(t/50,e/50,u)}}(e,r,f,a)};let C=0,L=null;function _(t,e,r){for(let u=t+1;u<8;u++){let n=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());null!==o[e][u]&&(o[e][u]=o[e][t]),o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?0===t?x.wLeft=!0:x.wRight=!0:0===t?x.bLeft=!0:x.bRight=!0};if(null!==o[e][u]){if(i(o[e][u])!==r){let i=!1,f=Array.from(o,t=>Array.from(t));f[e][u]=f[e][t],f[e][t]=null,\"white\"===r?W(f)[w.y][w.x]&&(i=!0):R(f)[g.y][g.x]&&(i=!0),i||s.push(l(\"moveLocation\",u,e,n))}break}let f=!1,a=Array.from(o,t=>Array.from(t));a[e][u]=a[e][t],a[e][t]=null,\"white\"===r?W(a)[w.y][w.x]&&(f=!0):R(a)[g.y][g.x]&&(f=!0),f||s.push(l(\"moveLocation\",u,e,n))}for(let u=t-1;u>=0;u--){let n=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());null!==o[e][u]&&y.removeChild(o[e][u]),o[e][u]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?0===t?x.wLeft=!0:x.wRight=!0:0===t?x.bLeft=!0:x.bRight=!0};if(null!==o[e][u]){if(i(o[e][u])!==r){let i=!1,f=Array.from(o,t=>Array.from(t));f[e][u]=f[e][t],f[e][t]=null,\"white\"===r?W(f)[w.y][w.x]&&(i=!0):R(f)[g.y][g.x]&&(i=!0),i||s.push(l(\"moveLocation\",u,e,n))}break}let f=!1,a=Array.from(o,t=>Array.from(t));a[e][u]=a[e][t],a[e][t]=null,\"white\"===r?W(a)[w.y][w.x]&&(f=!0):R(a)[g.y][g.x]&&(f=!0),f||s.push(l(\"moveLocation\",u,e,n))}for(let u=e+1;u<8;u++){let n=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());null!==o[u][t]&&y.removeChild(o[u][t]),o[u][t]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?0===t?x.wLeft=!0:x.wRight=!0:0===t?x.bLeft=!0:x.bRight=!0};if(null!==o[u][t]){if(i(o[u][t])!==r){let i=!1,f=Array.from(o,t=>Array.from(t));f[u][t]=f[e][t],f[e][t]=null,\"white\"===r?W(f)[w.y][w.x]&&(i=!0):R(f)[g.y][g.x]&&(i=!0),i||s.push(l(\"moveLocation\",t,u,n))}break}let f=!1,a=Array.from(o,t=>Array.from(t));a[u][t]=a[e][t],a[e][t]=null,\"white\"===r?W(a)[w.y][w.x]&&(f=!0):R(a)[g.y][g.x]&&(f=!0),f||s.push(l(\"moveLocation\",t,u,n))}for(let u=e-1;u>=0;u--){let n=l=>{c.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());null!==o[u][t]&&y.removeChild(o[u][t]),o[u][t]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E(),\"white\"===r?0===t?x.wLeft=!0:x.wRight=!0:0===t?x.bLeft=!0:x.bRight=!0};if(null!==o[u][t]){if(i(o[u][t])!==r){let i=!1,f=Array.from(o,t=>Array.from(t));f[u][t]=f[e][t],f[e][t]=null,\"white\"===r?W(f)[w.y][w.x]&&(i=!0):R(f)[g.y][g.x]&&(i=!0),i||s.push(l(\"moveLocation\",t,u,n))}break}let f=!1,a=Array.from(o,t=>Array.from(t));a[u][t]=a[e][t],a[e][t]=null,\"white\"===r?W(a)[w.y][w.x]&&(f=!0):R(a)[g.y][g.x]&&(f=!0),f||s.push(l(\"moveLocation\",t,u,n))}}function B(t,e,r){for(let u=1;e+u<8&&t+u<8;u++){let n=r=>{c.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());null!==o[e+u][t+u]&&y.removeChild(o[e+u][t+u]),o[e+u][t+u]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};if(null!==o[e+u][t+u]){if(i(o[e+u][t+u])!==r){let i=!1,f=Array.from(o,t=>Array.from(t));f[e+u][t+u]=f[e][t],f[e][t]=null,\"white\"===r?W(f)[w.y][w.x]&&(i=!0):R(f)[g.y][g.x]&&(i=!0),i||s.push(l(\"moveLocation\",t+u,e+u,n))}break}let f=!1,a=Array.from(o,t=>Array.from(t));a[e+u][t+u]=a[e][t],a[e][t]=null,\"white\"===r?W(a)[w.y][w.x]&&(f=!0):R(a)[g.y][g.x]&&(f=!0),f||s.push(l(\"moveLocation\",t+u,e+u,n))}for(let u=1;e-u>=0&&t-u>=0;u++){let n=r=>{c.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());null!==o[e-u][t-u]&&y.removeChild(o[e-u][t-u]),o[e-u][t-u]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};if(null!==o[e-u][t-u]){if(i(o[e-u][t-u])!==r){let i=!1,f=Array.from(o,t=>Array.from(t));f[e-u][t-u]=f[e][t],f[e][t]=null,\"white\"===r?W(f)[w.y][w.x]&&(i=!0):R(f)[g.y][g.x]&&(i=!0),i||s.push(l(\"moveLocation\",t-u,e-u,n))}break}let f=!1,a=Array.from(o,t=>Array.from(t));a[e-u][t-u]=a[e][t],a[e][t]=null,\"white\"===r?W(a)[w.y][w.x]&&(f=!0):R(a)[g.y][g.x]&&(f=!0),f||s.push(l(\"moveLocation\",t-u,e-u,n))}for(let u=1;e+u<8&&t-u>=0;u++){let n=r=>{c.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());null!==o[e+u][t-u]&&y.removeChild(o[e+u][t-u]),o[e+u][t-u]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};if(null!==o[e+u][t-u]){if(i(o[e+u][t-u])!==r){let i=!1,f=Array.from(o,t=>Array.from(t));f[e+u][t-u]=f[e][t],f[e][t]=null,\"white\"===r?W(f)[w.y][w.x]&&(i=!0):R(f)[g.y][g.x]&&(i=!0),i||s.push(l(\"moveLocation\",t-u,e+u,n))}break}let f=!1,a=Array.from(o,t=>Array.from(t));a[e+u][t-u]=a[e][t],a[e][t]=null,\"white\"===r?W(a)[w.y][w.x]&&(f=!0):R(a)[g.y][g.x]&&(f=!0),f||s.push(l(\"moveLocation\",t-u,e+u,n))}for(let u=1;e-u>=0&&t+u<8;u++){let n=r=>{c.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),c.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)y.removeChild(s.shift());null!==o[e-u][t+u]&&y.removeChild(o[e-u][t+u]),o[e-u][t+u]=o[e][t],o[e][t]=null,m=\"white\"===m?\"black\":\"white\",b.x=-1,b.y=-1,E()};if(null!==o[e-u][t+u]){if(i(o[e-u][t+u])!==r){let i=!1,f=Array.from(o,t=>Array.from(t));f[e-u][t+u]=f[e][t],f[e][t]=null,\"white\"===r?W(f)[w.y][w.x]&&(i=!0):R(f)[g.y][g.x]&&(i=!0),i||s.push(l(\"moveLocation\",t+u,e-u,n))}break}let f=!1,a=Array.from(o,t=>Array.from(t));a[e-u][t+u]=a[e][t],a[e][t]=null,\"white\"===r?W(a)[w.y][w.x]&&(f=!0):R(a)[g.y][g.x]&&(f=!0),f||s.push(l(\"moveLocation\",t+u,e-u,n))}}function E(){a=R(o),h=W(o)}function R(t){let e=[[],[],[],[],[],[],[],[]];for(let t=0;t<8;t++)for(let r=0;r<8;r++)e[r][t]=!1;for(let r=0;r<8;r++)for(let l=0;l<8;l++)if(null!==t[l][r]&&\"black\"!==i(t[l][r]))switch(u(t[l][r])){case\"pawn\":S(r,l,e,\"white\");break;case\"knight\":P(r,l,e);break;case\"bishop\":O(r,l,e,t);break;case\"rook\":Q(r,l,e,t);break;case\"queen\":Q(r,l,e,t),O(r,l,e,t);case\"king\":j(r,l,e)}return e}function W(t){let e=[[],[],[],[],[],[],[],[]];for(let t=0;t<8;t++)for(let r=0;r<8;r++)e[r][t]=!1;for(let r=0;r<8;r++)for(let l=0;l<8;l++)if(null!==t[l][r]&&\"white\"!==i(t[l][r]))switch(u(t[l][r])){case\"pawn\":S(r,l,e,\"black\");break;case\"knight\":P(r,l,e);break;case\"bishop\":O(r,l,e,t);break;case\"rook\":Q(r,l,e,t);break;case\"queen\":Q(r,l,e,t),O(r,l,e,t);break;case\"king\":j(r,l,e)}return e}function S(t,e,r,l){\"white\"===l?(t-1>=0&&(r[e-1][t-1]=!0),t+1<8&&(r[e-1][t+1]=!0)):(t-1>=0&&(r[e+1][t-1]=!0),t+1<8&&(r[e+1][t+1]=!0))}function P(t,e,r){e+2<8&&t+1<8&&(r[e+2][t+1]=!0),e+2<8&&t-1>=0&&(r[e+2][t-1]=!0),e-2>=0&&t+1<8&&(r[e-2][t+1]=!0),e-2>=0&&t-1>=0&&(r[e-2][t-1]=!0),e+1<8&&t+2<8&&(r[e+1][t+2]=!0),e+1<8&&t-2>=0&&(r[e+1][t-2]=!0),e-1>=0&&t+2<8&&(r[e-1][t+2]=!0),e-1>=0&&t-2>=0&&(r[e-1][t-2]=!0)}function O(t,e,r,l){for(let i=1;t+i<8&&e+i<8&&(r[e+i][t+i]=!0,null===l[e+i][t+i]);i++);for(let i=1;t-i>=0&&e-i>=0&&(r[e-i][t-i]=!0,null===l[e-i][t-i]);i++);for(let i=1;t-i>=0&&e+i<8&&(r[e+i][t-i]=!0,null===l[e+i][t-i]);i++);for(let i=1;t+i<8&&e-i>=0&&(r[e-i][t+i]=!0,null===l[e-i][t+i]);i++);}function Q(t,e,r,l){for(let i=1;t+i<8&&(r[e][t+i]=!0,null===l[e][t+i]);i++);for(let i=1;t-i>=0&&(r[e][t-i]=!0,null===l[e][t-i]);i++);for(let i=1;e+i<8&&(r[e+i][t]=!0,null===l[e+i][t]);i++);for(let i=1;e-i>=0&&(r[e-i][t]=!0,null===l[e-i][t]);i++);}function j(t,e,r){e+1<8&&t+1<8&&(r[e+1][t+1]=!0),e+1<8&&t-1>=0&&(r[e+1][t-1]=!0),e-1>=0&&t+1<8&&(r[e-1][t+1]=!0),e-1>=0&&t-1>=0&&(r[e-1][t-1]=!0),e+1<8&&(r[e+1][t]=!0),e-1>=0&&(r[e-1][t]=!0),t+1<8&&(r[e][t+1]=!0),t-1>=0&&(r[e][t-1]=!0)}function M(t,e,r){let l=\"white\"===r;if(null===o[l?e-1:e+1][t]){let r=Array.from(o,t=>Array.from(t));if(r[l?e-1:e+1][t]=r[e][t],r[e][t]=null,l){if(!W(r)[w.y][w.x])return console.log(\"up1\",t,e),!0}else if(!R(r)[g.y][g.x])return console.log(\"up1\",t,e),!0;if(null===o[l?e-2:e+2][t])if((r=Array.from(o,t=>Array.from(t)))[l?e-2:e+2][t]=r[e][t],r[e][t]=null,l){if(!W(r)[w.y][w.x])return console.log(\"up2\",t,e),!0}else if(!R(r)[g.y][g.x])return console.log(\"up2\",t,e),!0}if(t+1<8&&null!==o[l?e-1:e+1][t+1]&&i(o[l?e-1:e+1][t+1])!==r){let r=Array.from(o,t=>Array.from(t));if(r[l?e-1:e+1][t+1]=r[e][t],r[e][t]=null,l){if(!W(r)[w.y][w.x])return console.log(\"up1right1\",t,e),!0}else if(!R(r)[g.y][g.x])return console.log(\"up1right1\",t,e),!0}if(t-1>=0&&null!==o[l?e-1:e+1][t-1]&&i(o[l?e-1:e+1][t-1])!==r){let r=Array.from(o,t=>Array.from(t));if(r[l?e-1:e+1][t-1]=r[e][t],r[e][t]=null,l){if(!W(r)[w.y][w.x])return console.log(\"up1left1\",t,e),!0}else if(!R(r)[g.y][g.x])return console.log(\"up1left1\",t,e),!0}if(b.x===t-1&&b.y===e&&null===o[l?e-1:e+1][t-1]){let r=Array.from(o,t=>Array.from(t));if(r[l?e-1:e+1][t-1]=r[e][t],r[e][t]=null,r[e][t-1]=null,l){if(!W(r)[w.y][w.x])return console.log(\"epleft\",t,e),!0}else if(!R(r)[g.y][g.x])return console.log(\"epleft\",t,e),!0}if(b.x===t+1&&b.y===e&&null==o[l?e-1:e+1][t+1]){let r=Array.from(o,t=>Array.from(t));if(r[l?e-1:e+1][t-1]=r[e][t],r[e][t]=null,r[e][t+1]=null,l){if(!W(r)[w.y][w.x])return console.log(\"epright\",t,e),!0}else if(!R(r)[g.y][g.x])return console.log(\"epright\",t,e),!0}return!1}function N(t,e,r){if(e<=5&&t<=6&&(null===o[e+2][t+1]||i(o[e+2][t+1])!==r)){let l=Array.from(o,t=>Array.from(t));if(l[e+2][t+1]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y][w.x])return!0}else if(!R(l)[g.y][g.x])return!0}if(e>=2&&t>=1&&(null===o[e-2][t-1]||i(o[e-2][t-1])!==r)){let l=Array.from(o,t=>Array.from(t));if(l[e-2][t-1]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y][w.x])return!0}else if(!R(l)[g.y][g.x])return!0}if(e<=5&&t>=1&&(null===o[e+2][t-1]||i(o[e+2][t-1])!==r)){let l=Array.from(o,t=>Array.from(t));if(l[e+2][t-1]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y][w.x])return!0}else if(!R(l)[g.y][g.x])return!0}if(e>=2&&t<=6&&(null===o[e-2][t+1]||i(o[e-2][t+1])!==r)){let l=Array.from(o,t=>Array.from(t));if(l[e-2][t+1]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y][w.x])return!0}else if(!R(l)[g.y][g.x])return!0}if(e<=6&&t<=5&&(null===o[e+1][t+2]||i(o[e+1][t+2])!==r)){let l=Array.from(o,t=>Array.from(t));if(l[e+1][t+2]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y][w.x])return!0}else if(!R(l)[g.y][g.x])return!0}if(e>=1&&t>=2&&(null===o[e-1][t-2]||i(o[e-1][t-2])!==r)){let l=Array.from(o,t=>Array.from(t));if(l[e-1][t-2]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y][w.x])return!0}else if(!R(l)[g.y][g.x])return!0}if(e>=1&&t<=5&&(null===o[e-1][t+2]||i(o[e-1][t+2])!==r)){let l=Array.from(o,t=>Array.from(t));if(l[e-1][t+2]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y][w.x])return!0}else if(!R(l)[g.y][g.x])return!0}if(e<=6&&t>=2&&(null===o[e+1][t-2]||i(o[e+1][t-2])!==r)){let l=Array.from(o,t=>Array.from(t));if(l[e+1][t-2]=l[e][t],l[e][XMLHttpRequestUpload]=null,\"white\"===r){if(!W(l)[w.y][w.x])return!0}else if(!R(l)[g.y][g.x])return!0}return!1}function I(t,e,r){for(let l=1;e+l<8&&t+l<8;l++){if(null===o[e+l][t+l]||i(o[e+l][t+l])!==r){let i=Array.from(o,t=>Array.from(t));if(i[e+l][t+l]=i[e][t],i[e][t]=null,\"white\"===r){if(!W(i)[w.y][w.x])return!0}else if(!R(i)[g.y][g.x])return!0}if(null!==o[e+l][t+1])break}for(let l=1;e-l>=0&&t-l>=0;l++){if(null===o[e-l][t-l]||i(o[e-l][t-l])!==r){let i=Array.from(o,t=>Array.from(t));if(i[e-l][t-l]=i[e][t],i[e][t]=null,\"white\"===r){if(!W(i)[w.y][w.x])return!0}else if(!R(i)[g.y][g.x])return!0}if(null!==o[e-l][t-l])break}for(let l=1;e+l<8&&t-l>=0;l++){if(null===o[e+l][t-l]||i(o[e+l][t-l])!==r){let i=Array.from(o,t=>Array.from(t));if(i[e+l][t-l]=i[e][t],i[e][t]=null,\"white\"===r){if(!W(i)[w.y][w.x])return!0}else if(!R(i)[g.y][g.x])return!0}if(null===o[e+l][t-l])break}for(let l=1;e-l>=0&&t+l<8;l++){if(null===o[e-l][t+l]||i(o[e-l][t+l])!==r){let i=Array.from(o,t=>Array.from(t));if(i[e-l][t+l]=i[e][t],i[e][t]=null,\"white\"===r){if(!W(i)[w.y][w.x])return!0}else if(!R(i)[g.y][g.x])return!0}if(null!==o[e-l][t-l])break}return!1}function K(t,e,r){for(let l=t+1;l<8;l++){if(null!==o[e][l]){if(i(o[e][l])!==r){let i=Array.from(o,t=>Array.from(t));if(i[e][l]=i[e][t],i[e][t]=null,\"white\"===r){if(!W(i)[w.y][w.x])return!0}else if(!R(i)[g.y][g.x])return!0}break}let u=Array.from(o,t=>Array.from(t));if(u[e][l]=u[e][t],u[e][t]=null,\"white\"===r){if(!W(u)[w.y][w.x])return!0}else if(!R(u)[g.y][g.x])return!0}for(let l=t-1;l>=0;l--){if(null!==o[e][l]){if(i(o[e][l])!==r){let i=Array.from(o,t=>Array.from(t));if(i[e][l]=i[e][t],i[e][t]=null,\"white\"===r){if(!W(i)[w.y][w.x])return!0}else if(!R(i)[g.y][g.x])return!0}break}let u=Array.from(o,t=>Array.from(t));if(u[e][l]=u[e][t],u[e][t]=null,\"white\"===r){if(!W(u)[w.y][w.x])return!0}else if(!R(u)[g.y][g.x])return!0}for(let l=e+1;l<8;l++){if(null!==o[l][t]){if(i(o[l][t])!==r){let i=Array.from(o,t=>Array.from(t));if(i[l][t]=i[e][t],i[e][t]=null,\"white\"===r){if(!W(i)[w.y][w.x])return!0}else if(!R(i)[g.y][g.x])return!0}break}let u=Array.from(o,t=>Array.from(t));if(u[l][t]=u[e][t],u[e][t]=null,\"white\"===r){if(!W(u)[w.y][w.x])return!0}else if(!R(u)[g.y][g.x])return!0}for(let l=e-1;l>=0;l--){if(null!==o[l][t]){if(i(o[l][t])!==r){let i=Array.from(o,t=>Array.from(t));if(i[l][t]=i[e][t],i[e][t]=null,\"white\"===r){if(!W(i)[w.y][w.x])return!0}else if(!R(i)[g.y][g.x])return!0}break}let u=Array.from(o,t=>Array.from(t));if(u[l][t]=u[e][t],u[e][t]=null,\"white\"===r){if(!W(u)[w.y][w.x])return!0}else if(!R(u)[g.y][g.x])return!0}return!1}function q(t,e,r){if(e+1<8&&t+1<8&&null!==o[e+1][t+1]&&i(o[e+1][t+1])!==r){let l=Array.from(o,t=>Array.from(t));if(l[e+1][t+1]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y+1][w.x+1])return!0}else if(!R(l)[g.y+1][g.x+1])return!0}else if(e+1<8&&t+1<8&&null===o[e+1][t+1]){let l=Array.from(o,t=>Array.from(t));if(l[e+1][t+1]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y+1][w.x+1])return!0}else if(!R(l)[g.y+1][g.x+1])return!0}if(e-1>=0&&t-1>=0&&null!==o[e-1][t-1]&&i(o[e-1][t-1])!==r){let l=Array.from(o,t=>Array.from(t));if(l[e-1][t-1]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y-1][w.x-1])return!0}else if(!R(l)[g.y-1][g.x-1])return!0}else if(e-1>=0&&t-1>=0&&null===o[e-1][t-1]){let l=Array.from(o,t=>Array.from(t));if(l[e-1][t-1]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y-1][w.x-1])return!0}else if(!R(l)[g.y-1][g.x-1])return!0}if(e-1>=0&&t+1<8&&null!==o[e-1][t+1]&&i(o[e-1][t+1])!==r){let l=Array.from(o,t=>Array.from(t));if(l[e-1][t-1]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y-1][w.x-1])return!0}else if(!R(l)[g.y-1][g.x-1])return!0}else if(e-1>=0&&t+1<8&&null===o[e-1][t+1]){let l=Array.from(o,t=>Array.from(t));if(l[e-1][t+1]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y-1][w.x+1])return!0}else if(!R(l)[g.y-1][g.x+1])return!0}if(e+1<8&&t-1>=0&&null!==o[e+1][t-1]&&i(o[e+1][t-1])!==r){let l=Array.from(o,t=>Array.from(t));if(l[e+1][t-1]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y+1][w.x-1])return!0}else if(!R(l)[g.y+1][g.x-1])return!0}else if(e+1<8&&t-1>=0&&null===o[e+1][t-1]){let l=Array.from(o,t=>Array.from(t));if(l[e+1][t-1]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y+1][w.x-1])return!0}else if(!R(l)[g.y+1][g.x-1])return!0}if(e+1<8&&null!==o[e+1][t]&&i(o[e+1][t])!==r){let l=Array.from(o,t=>Array.from(t));if(l[e+1][t]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y+1][w.x])return!0}else if(!R(l)[g.y+1][g.x])return!0}else if(e+1<8&&null===o[e+1][t]){let l=Array.from(o,t=>Array.from(t));if(l[e+1][t]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y+1][w.x])return!0}else if(!R(l)[g.y+1][g.x])return!0}if(e-1>=0&&null!==o[e-1][t]&&i(o[e-1][t])!==r){let l=Array.from(o,t=>Array.from(t));if(l[e-1][t]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y-1][w.x])return!0}else if(!R(l)[g.y-1][g.x])return!0}else if(e-1>=0&&null===o[e-1][t]){let l=Array.from(o,t=>Array.from(t));if(l[e-1][t]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y-1][w.x])return!0}else if(!R(l)[g.y-1][g.x])return!0}if(t+1<8&&null!==o[e][t+1]&&i(o[e][t+1])!==r){let l=Array.from(o,t=>Array.from(t));if(l[e][t+1]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y][w.x+1])return!0}else if(!R(l)[g.y][g.x+1])return!0}else if(t+1<8&&null===o[e][t+1]){let l=Array.from(o,t=>Array.from(t));if(l[e][t+1]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y][w.x+1])return!0}else if(!R(l)[g.y][g.x+1])return!0}if(t-1>=0&&null!==o[e][t-1]&&i(o[e][t-1])!==r){let l=Array.from(o,t=>Array.from(t));if(l[e][t-1]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y][w.x-1])return!0}else if(!R(l)[g.y][g.x-1])return!0}else if(t-1>=0&&null===o[e][t-1]){let l=Array.from(o,t=>Array.from(t));if(l[e][t-1]=l[e][t],l[e][t]=null,\"white\"===r){if(!W(l)[w.y][w.x-1])return!0}else if(!R(l)[g.y][g.x-1])return!0}return!1}window.addEventListener(\"load\",t=>{f=document.getElementById(\"board\"),y=document.getElementById(\"g\");for(let t=0;t<64;t++){let e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"rect\");e.setAttribute(\"x\",50*Math.floor(t/8)),e.setAttribute(\"y\",t%8*50),e.setAttribute(\"width\",\"50\"),e.setAttribute(\"height\",\"50\"),e.setAttribute(\"class\",\"tile\"),e.setAttribute(\"fill\",(Math.floor(t/8)+t%8)%2==0?\"white\":\"black\"),y.appendChild(e)}!function(){for(let t=0;t<8;t++)o[6][t]=l(\"Pawn_White.png\",t,6,k),o[1][t]=l(\"Pawn_Black.png\",t,1,k);for(let t=0;t<8;t++)o[2][t]=null,o[3][t]=null,o[4][t]=null,o[5][t]=null;o[0][0]=l(\"Rook_Black.png\",0,0,k),o[7][0]=l(\"Rook_White.png\",0,7,k),o[0][7]=l(\"Rook_Black.png\",7,0,k),o[7][7]=l(\"Rook_White.png\",7,7,k),o[0][6]=l(\"Knight_Black.png\",6,0,k),o[7][6]=l(\"Knight_White.png\",6,7,k),o[0][1]=l(\"Knight_Black.png\",1,0,k),o[7][1]=l(\"Knight_White.png\",1,7,k),o[0][5]=l(\"Bishop_Black.png\",5,0,k),o[7][5]=l(\"Bishop_White.png\",5,7,k),o[0][2]=l(\"Bishop_Black.png\",2,0,k),o[7][2]=l(\"Bishop_White.png\",2,7,k),o[0][4]=l(\"King_Black.png\",4,0,k),o[7][4]=l(\"King_White.png\",4,7,k),o[0][3]=l(\"Queen_Black.png\",3,0,k),o[7][3]=l(\"Queen_White.png\",3,7,k)}(),E();let e=setInterval(()=>{if(v&&function(){for(let t=0;t<8;t++)for(let e=0;e<8;e++)if(null!==o[e][t]&&i(o[e][t])===m)switch(u(o[e][t])){case\"pawn\":if(M(t,e,m))return!1;break;case\"knight\":if(N(t,e,m))return!1;break;case\"bishop\":if(I(t,e,m))return!1;break;case\"rook\":if(K(t,e,m))return!1;break;case\"queen\":if(I(t,e,m)||K(t,e,m))return!1;break;case\"king\":if(q(t,e,m))return!1}return!0}()&&(alert(\"Game Over!\\n\"+(\"white\"===m?\"Black\":\"White\")+\" wins!\"),clearInterval(e)),\"white\"===m)if(h[w.y][w.x]){null!==d&&(y.removeChild(d),d=null);let t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");t.setAttribute(\"cx\",50*w.x+25),t.setAttribute(\"cy\",50*w.y+25),t.setAttribute(\"r\",25),t.setAttribute(\"fill\",\"url(#grad1)\"),t.setAttribute(\"id\",\"checkCircle\"),t.addEventListener(\"click\",t=>{p=t}),y.appendChild(t),d=t,v=!0}else null!==d?(y.removeChild(d),d=null,v=!1):v=!1;else if(\"black\"===m)if(a[g.y][g.x]){null!==d&&(y.removeChild(d),d=null);let t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");t.setAttribute(\"cx\",50*g.x+25),t.setAttribute(\"cy\",50*g.y+25),t.setAttribute(\"r\",25),t.setAttribute(\"fill\",\"url(#grad1)\"),t.setAttribute(\"id\",\"checkCircle\"),t.addEventListener(\"click\",t=>{p=t}),y.appendChild(t),d=t,v=!0}else null!==d?(y.removeChild(d),d=null,v=!1):v=!1;null!==p&&(o[\"white\"===m?w.y:g.y][\"white\"===m?w.x:g.x].dispatchEvent(p),p=null)},250)}),document.addEventListener(\"click\",t=>{if(t.target===document.body||t.target===f||\"tile\"===t.target.getAttribute(\"class\")){c=null;for(let t=0;t<s.length;)y.removeChild(s.shift())}})}]);","extractedComments":[]}