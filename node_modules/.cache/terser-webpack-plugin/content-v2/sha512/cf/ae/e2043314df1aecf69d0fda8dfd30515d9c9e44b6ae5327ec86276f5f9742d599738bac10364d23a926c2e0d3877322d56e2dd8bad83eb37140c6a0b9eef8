{"code":"!function(t){var e={};function r(i){if(e[i])return e[i].exports;var l=e[i]={i:i,l:!1,exports:{}};return t[i].call(l.exports,l,l.exports,r),l.l=!0,l.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var l in t)r.d(i,l,function(e){return t[e]}.bind(null,l));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=0)}([function(t,e,r){\"use strict\";function i(t,e,r,i){if(\"moveLocation\"===t){if(void 0===i)return void console.log(\"You must provide behavior for the moveLocation\");let t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");return t.setAttribute(\"cx\",50*e+25),t.setAttribute(\"cy\",50*r+25),t.setAttribute(\"r\",14),t.setAttribute(\"class\",\"moveLocation\"),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),t.addEventListener(\"click\",i),o.appendChild(t),t}if(\"checkCircle\"!==t){if(void 0===i)return void console.log(\"You must provide behavior for the piece!\");let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\");return l.setAttribute(\"href\",t),l.setAttribute(\"x\",50*e),l.setAttribute(\"y\",50*r),l.setAttribute(\"width\",50),l.setAttribute(\"height\",50),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",i),o.appendChild(l),l}}r.r(e),r.d(e,\"g\",function(){return o});const l=[[],[],[],[],[],[],[],[]];var n,o,u=[[],[],[],[],[],[],[],[]],c=[[],[],[],[],[],[],[],[]],s=null;const f=[];const h={white:!1,black:!1},a={bLeft:!1,bRight:!1,wLeft:!1,wRight:!1};var y=\"white\";const A={x:-1,y:-1},b={x:4,y:0},w={x:4,y:7};var x=null,m=!1;let g=null;const d=t=>{let e=Number(t.target.getAttribute(\"x\")),r=Number(t.target.getAttribute(\"y\")),n=B(t.target),u=R(t.target);for(let t=0;t<f.length;)o.removeChild(f.shift());s=t.target,function(t,e,r,n){if(n!==y)return;switch(r){case\"pawn\":!function(t,e,r){let n=\"white\"===r;if(null===l[n?e-1:e+1][t]){let r=!1,u=Array.from(l,t=>Array.from(t));if(u[n?e-1:e+1][t]=u[e][t],u[e][t]=null,n?L(u)[w.y][w.x]&&(r=!0):C(u)[b.y][b.x]&&(r=!0),!r)if(e===(n?1:6)){let r=r=>{for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e][t]),l[e][t]=null,l[n?e-1:e+1][t]=i(n?\"Queen_White.png\":\"Queen_Black.png\",t,e,d),y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()};f.push(i(\"moveLocation\",t,e,r))}else{let r=r=>{s.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[n?e-1:e+1][t]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()};f.push(i(\"moveLocation\",t,n?e-1:e+1,r))}if((e===n||1)&&(r=!1,(u=Array.from(l,t=>Array.from(t)))[n?e-2:e+2][t]=u[e][t],u[e][t]=null,n?L(u)[w.y][w.x]&&(r=!0):C(u)[b.y][b.x]&&(r=!0),!r&&e===(n?6:1)&&null===l[n?e-2:e+2][t])){let r=r=>{s.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[n?e-2:e+2][t]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=t,A.y=n?e-2:e+2,k()};f.push(i(\"moveLocation\",t,n?e-2:e+2,r))}}if(t+1<8&&null!==l[n?e-1:e+1][t+1]&&R(l[n?e-1:e+1][t+1])!==r){let r=!1,u=Array.from(l,t=>Array.from(t));if(u[n?e-1:e+1][t+1]=u[e][t],u[e][t]=null,n?L(u)[w.y][w.x]&&(r=!0):C(u)[b.y][b.x]&&(r=!0),!r)if(e===(n?1:6)){let r=r=>{for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e][t]),l[e][t]=null;let u=i(n?\"Queen_White.png\":\"Queen_Black.png\",t+1,n?e-1:e+1,d);o.appendChild(u),o.removeChild(l[n?e-1:e+1][t+1]),l[n?e-1:e+1][t+1]=u,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()};f.push(i(\"moveLocation\",t+1,n?e-1:e+1,r))}else{let r=r=>{s.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());let i=l[n?e-1:e+1][t+1];o.removeChild(i),l[n?e-1:e+1][t+1]=null,l[n?e-1:e+1][t+1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()};f.push(i(\"moveLocation\",t+1,n?e-1:e+1,r))}}if(t-1>=0&&null!==l[n?e-1:e+1][t-1]&&R(l[n?e-1:e+1][t-1])!==r){let r=!1,u=Array.from(l,t=>Array.from(t));if(u[n?e-1:e+1][t-1]=u[e][t],u[e][t]=null,n?L(u)[w.y][w.x]&&(r=!0):C(u)[b.y][b.x]&&(r=!0),!r)if(e===(n?1:6)){let r=r=>{for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e][t]),l[e][t]=null;let u=i(n?\"Queen_White.png\":\"Queen_Black.png\",t-1,n?e-1:e+1,d);o.appendChild(u),o.removeChild(l[n?e-1:e+1][t-1]),l[n?e-1:e+1][t-1]=u,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()};f.push(i(\"moveLocation\",t-1,n?e-1:e+1,r))}else{let r=r=>{s.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[n?e-1:e+1][t-1]),l[n?e-1:e+1][t-1]=null,l[n?e-1:e+1][t-1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()};f.push(i(\"moveLocation\",t-1,n?e-1:e+1,r))}}if(A.x===t-1&&A.y===e&&null===l[n?e-1:e+1][t-1]){let r=!1,u=Array.from(l,t=>Array.from(t));if(u[n?e-1:e+1][t-1]=u[e][t],u[e][t]=null,u[e][t-1]=null,n?L(u)[w.y][w.x]&&(r=!0):C(u)[b.y][b.x]&&(r=!0),!r){let r=r=>{s.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e][t-1]),l[e][t-1]=null,l[n?e-1:e+1][t-1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()};f.push(i(\"moveLocation\",t-1,n?e-1:e+1,r))}}if(A.x===t+1&&A.y===e&&null==l[n?e-1:e+1][t+1]){let r=!1,u=Array.from(l,t=>Array.from(t));if(u[n?e-1:e+1][t-1]=u[e][t],u[e][t]=null,u[e][t+1]=null,n?L(u)[w.y][w.x]&&(r=!0):C(u)[b.y][b.x]&&(r=!0),!r){let r=r=>{s.setAttribute(\"x\",moveLocation.getAttribute(\"cx\")-25),s.setAttribute(\"y\",moveLocation.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e][t+1]),l[e][t+1]=null,l[n?e-1:e+1][t+1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()};f.push(i(\"moveLocation\",t+1,n?e-1:e+1,r))}}}(t/50,e/50,n);break;case\"knight\":!function(t,e,r){if(e<=5&&t<=6&&(null===l[e+2][t+1]||R(l[e+2][t+1])!==r)){let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e+2][t+1]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let r=r=>{s.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());null!==l[e+2][t+1]&&(o.removeChild(l[e+2][t+1]),l[e+2][t+1]=null),l[e+2][t+1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()};f.push(i(\"moveLocation\",t+1,e+2,r))}}if(e>=2&&t>=1&&(null===l[e-2][t-1]||R(l[e-2][t-1])!==r)){let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e-2][t-1]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let r=r=>{s.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());null!==l[e-2][t-1]&&(o.removeChild(l[e-2][t-1]),l[e-2][t-1]=null),l[e-2][t-1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()};f.push(i(\"moveLocation\",t-1,e-2,r))}}if(e<=5&&t>=1&&(null===l[e+2][t-1]||R(l[e+2][t-1])!==r)){let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e+2][t-1]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let r=r=>{s.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());null!==l[e+2][t-1]&&(o.removeChild(l[e+2][t-1]),l[e+2][t-1]=null),l[e+2][t-1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()};f.push(i(\"moveLocation\",t-1,e+2,r))}}if(e>=2&&t<=6&&(null===l[e-2][t+1]||R(l[e-2][t+1])!==r)){let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e-2][t+1]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let r=r=>{s.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());null!==l[e-2][t+1]&&(o.removeChild(l[e-2][t+1]),l[e-2][t+1]=null),l[e-2][t+1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()};f.push(i(\"moveLocation\",t+1,e-2,r))}}if(e<=6&&t<=5&&(null===l[e+1][t+2]||R(l[e+1][t+2])!==r)){let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e+1][t+2]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let r=r=>{s.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());null!==l[e+1][t+2]&&(o.removeChild(l[e+1][t+2]),l[e+1][t+2]=null),l[e+1][t+2]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()};f.push(i(\"moveLocation\",t+2,e+1,r))}}if(e>=1&&t>=2&&(null===l[e-1][t-2]||R(l[e-1][t-2])!==r)){let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e-1][t-2]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let r=r=>{s.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());null!==l[e-1][t-2]&&(o.removeChild(l[e-1][t-2]),l[e-1][t-2]=null),l[e-1][t-2]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()};f.push(i(\"moveLocation\",t-2,e-1,r))}}if(e>=1&&t<=5&&(null===l[e-1][t+2]||R(l[e-1][t+2])!==r)){let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e-1][t+2]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let r=r=>{s.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());null!==l[e-1][t+2]&&(o.removeChild(l[e-1][t+2]),l[e-1][t+2]=null),l[e-1][t+2]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()};f.push(i(\"moveLocation\",t+2,e-1,r))}}if(e<=6&&t>=2&&(null===l[e+1][t-2]||R(l[e+1][t-2])!==r)){let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e+1][t-2]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let r=r=>{s.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());null!==l[e+1][t-2]&&(o.removeChild(l[e+1][t-2]),l[e+1][t-2]=null),l[e+1][t-2]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()};f.push(i(\"moveLocation\",t-2,e+1,r))}}}(t/50,e/50,n);break;case\"rook\":p(t/50,e/50,n);break;case\"bishop\":v(t/50,e/50,n);break;case\"queen\":p(t/50,e/50,n),v(t/50,e/50,n);break;case\"king\":!function(t,e,r){if(e+1<8&&t+1<8&&null!==l[e+1][t+1]&&R(l[e+1][t+1])!==r){let i=!1,n=Array.from(l,t=>Array.from(t));if(n[e+1][t+1]=n[e][t],n[e][t]=null,\"white\"===r?L(n)[w.y+1][w.x+1]&&(i=!0):C(n)[b.y+1][b.x+1]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t+1)+25),i.setAttribute(\"cy\",50*(e+1)+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e+1][t+1]),l[e+1][t+1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t+1,w.y=e+1):(h.black=!0,b.x=t+1,b.y=e+1)}),o.appendChild(i),f.push(i)}}else if(e+1<8&&t+1<8&&null===l[e+1][t+1]){let i=!1,n=Array.from(l,t=>Array.from(t));if(n[e+1][t+1]=n[e][t],n[e][t]=null,\"white\"===r?L(n)[w.y+1][w.x+1]&&(i=!0):C(n)[b.y+1][b.x+1]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t+1)+25),i.setAttribute(\"cy\",50*(e+1)+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[e+1][t+1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t+1,w.y=e+1):(h.black=!0,b.x=t+1,b.y=e+1)}),o.appendChild(i),f.push(i)}}if(e-1>=0&&t-1>=0&&null!==l[e-1][t-1]&&R(l[e-1][t-1])!==r){let i=!1,n=Array.from(l,t=>Array.from(t));if(n[e-1][t-1]=n[e][t],n[e][t]=null,\"white\"===r?L(n)[w.y-1][w.x-1]&&(i=!0):C(n)[b.y-1][b.x-1]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t-1)+25),i.setAttribute(\"cy\",50*(e-1)+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e-1][t-1]),l[e-1][t-1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t-1,w.y=e-1):(h.black=!0,b.x=t-1,b.y=e-1)}),o.appendChild(i),f.push(i)}}else if(e-1>=0&&t-1>=0&&null===l[e-1][t-1]){let i=!1,n=Array.from(l,t=>Array.from(t));if(n[e-1][t-1]=n[e][t],n[e][t]=null,\"white\"===r?L(n)[w.y-1][w.x-1]&&(i=!0):C(n)[b.y-1][b.x-1]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t-1)+25),i.setAttribute(\"cy\",50*(e-1)+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[e-1][t-1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t-1,w.y=e-1):(h.black=!0,b.x=t-1,b.y=e-1)}),o.appendChild(i),f.push(i)}}if(e-1>=0&&t+1<8&&null!==l[e-1][t+1]&&R(l[e-1][t+1])!==r){let i=!1,n=Array.from(l,t=>Array.from(t));if(n[e-1][t-1]=n[e][t],n[e][t]=null,\"white\"===r?L(n)[w.y-1][w.x-1]&&(i=!0):C(n)[b.y-1][b.x-1]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t+1)+25),i.setAttribute(\"cy\",50*(e-1)+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e-1][t+1]),l[e-1][t+1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t+1,w.y=e-1):(h.black=!0,b.x=t+1,b.y=e-1)}),o.appendChild(i),f.push(i)}}else if(e-1>=0&&t+1<8&&null===l[e-1][t+1]){let i=!1,n=Array.from(l,t=>Array.from(t));if(n[e-1][t+1]=n[e][t],n[e][t]=null,\"white\"===r?L(n)[w.y-1][w.x+1]&&(i=!0):C(n)[b.y-1][b.x+1]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t+1)+25),i.setAttribute(\"cy\",50*(e-1)+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[e-1][t+1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t+1,w.y=e-1):(h.black=!0,b.x=t+1,b.y=e-1)}),o.appendChild(i),f.push(i)}}if(e+1<8&&t-1>=0&&null!==l[e+1][t-1]&&R(l[e+1][t-1])!==r){let i=!1,n=Array.from(l,t=>Array.from(t));if(n[e+1][t-1]=n[e][t],n[e][t]=null,\"white\"===r?L(n)[w.y+1][w.x-1]&&(i=!0):C(n)[b.y+1][b.x-1]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t-1)+25),i.setAttribute(\"cy\",50*(e+1)+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e+1][t-1]),l[e+1][t-1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t-1,w.y=e+1):(h.black=!0,b.x=t-1,b.y=e+1)}),o.appendChild(i),f.push(i)}}else if(e+1<8&&t-1>=0&&null===l[e+1][t-1]){let i=!1,n=Array.from(l,t=>Array.from(t));if(n[e+1][t-1]=n[e][t],n[e][t]=null,\"white\"===r?L(n)[w.y+1][w.x-1]&&(i=!0):C(n)[b.y+1][b.x-1]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t-1)+25),i.setAttribute(\"cy\",50*(e+1)+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[e+1][t-1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t-1,w.y=e+1):(h.black=!0,b.x=t-1,b.y=e+1)}),o.appendChild(i),f.push(i)}}if(e+1<8&&null!==l[e+1][t]&&R(l[e+1][t])!==r){let i=!1,n=Array.from(l,t=>Array.from(t));if(n[e+1][t]=n[e][t],n[e][t]=null,\"white\"===r?L(n)[w.y+1][w.x]&&(i=!0):C(n)[b.y+1][b.x]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*t+25),i.setAttribute(\"cy\",50*(e+1)+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e+1][t]),l[e+1][t]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t,w.y=e+1):(h.black=!0,b.x=t,b.y=e+1)}),o.appendChild(i),f.push(i)}}else if(e+1<8&&null===l[e+1][t]){let i=!1,n=Array.from(l,t=>Array.from(t));if(n[e+1][t]=n[e][t],n[e][t]=null,\"white\"===r?L(n)[w.y+1][w.x]&&(i=!0):C(n)[b.y+1][b.x]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*t+25),i.setAttribute(\"cy\",50*(e+1)+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[e+1][t]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t,w.y=e+1):(h.black=!0,b.x=t,b.y=e+1)}),o.appendChild(i),f.push(i)}}if(e-1>=0&&null!==l[e-1][t]&&R(l[e-1][t])!==r){let i=!1,n=Array.from(l,t=>Array.from(t));if(n[e-1][t]=n[e][t],n[e][t]=null,\"white\"===r?L(n)[w.y-1][w.x]&&(i=!0):C(n)[b.y-1][b.x]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*t+25),i.setAttribute(\"cy\",50*(e-1)+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e-1][t]),l[e-1][t]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t,w.y=e-1):(h.black=!0,b.x=t,b.y=e-1)}),o.appendChild(i),f.push(i)}}else if(e-1>=0&&null===l[e-1][t]){let i=!1,n=Array.from(l,t=>Array.from(t));if(n[e-1][t]=n[e][t],n[e][t]=null,\"white\"===r?L(n)[w.y-1][w.x]&&(i=!0):C(n)[b.y-1][b.x]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*t+25),i.setAttribute(\"cy\",50*(e-1)+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[e-1][t]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t,w.y=e-1):(h.black=!0,b.x=t,b.y=e-1)}),o.appendChild(i),f.push(i)}}if(t+1<8&&null!==l[e][t+1]&&R(l[e][t+1])!==r){let i=!1,n=Array.from(l,t=>Array.from(t));if(n[e][t+1]=n[e][t],n[e][t]=null,\"white\"===r?L(n)[w.y][w.x+1]&&(i=!0):C(n)[b.y][b.x+1]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t+1)+25),i.setAttribute(\"cy\",50*e+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e][t+1]),l[e][t+1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t+1,w.y=e):(h.black=!0,b.x=t+1,b.y=e)}),o.appendChild(i),f.push(i)}}else if(t+1<8&&null===l[e][t+1]){let i=!1,n=Array.from(l,t=>Array.from(t));if(n[e][t+1]=n[e][t],n[e][t]=null,\"white\"===r?L(n)[w.y][w.x+1]&&(i=!0):C(n)[b.y][b.x+1]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t+1)+25),i.setAttribute(\"cy\",50*e+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[e][t+1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t+1,w.y=e):(h.black=!0,b.x=t+1,b.y=e)}),o.appendChild(i),f.push(i)}}if(t-1>=0&&null!==l[e][t-1]&&R(l[e][t-1])!==r){let i=!1,n=Array.from(l,t=>Array.from(t));if(n[e][t-1]=n[e][t],n[e][t]=null,\"white\"===r?L(n)[w.y][w.x-1]&&(i=!0):C(n)[b.y][b.x-1]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t-1)+25),i.setAttribute(\"cy\",50*e+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e][t-1]),l[e][t-1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t-1,w.y=e):(h.black=!0,b.x=t-1,b.y=e)}),o.appendChild(i),f.push(i)}}else if(t-1>=0&&null===l[e][t-1]){let i=!1,n=Array.from(l,t=>Array.from(t));if(n[e][t-1]=n[e][t],n[e][t]=null,\"white\"===r?L(n)[w.y][w.x-1]&&(i=!0):C(n)[b.y][b.x-1]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t-1)+25),i.setAttribute(\"cy\",50*e+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[e][t-1]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t-1,w.y=e):(h.black=!0,b.x=t-1,b.y=e)}),o.appendChild(i),f.push(i)}}let i=\"white\"===r?h.white:h.black;if(!i&&!m){if(!(i=\"white\"===r?a.wLeft:a.bLeft)&&null===l[\"white\"===r?7:0][1]&&null===l[\"white\"===r?7:0][2]&&null===l[\"white\"===r?7:0][3]){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t-2)+25),i.setAttribute(\"cy\",50*e+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());let u=l[\"white\"===r?7:0][0];u.setAttribute(\"x\",50*(t-1)),l[e][t-2]=l[e][t],l[e][t-1]=u,l[e][t]=null,l[\"white\"===r?7:0][0]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t-2,w.y=e,a.wLeft=!0):(h.black=!0,b.x=t-2,b.y=e,a.bLeft=!0)}),o.appendChild(i),f.push(i)}if(!(i=(\"white\"===r?a.wRight:a.bRight)||(\"white\"===r?h.white:h.black))&&null===l[\"white\"===r?7:0][5]&&null===l[\"white\"===r?7:0][6]){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t+2)+25),i.setAttribute(\"cy\",50*e+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{s.setAttribute(\"x\",i.getAttribute(\"cx\")-25),s.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());let u=l[\"white\"===r?7:0][7];u.setAttribute(\"x\",50*(t+1)),l[e][t+2]=l[e][t],l[e][t+1]=u,l[e][t]=null,l[\"white\"===r?7:0][7]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?(h.white=!0,w.x=t+2,w.y=e,a.wRight=!0):(h.black=!0,b.x=t+2,b.y=e,a.bRight=!0)}),o.appendChild(i),f.push(i)}}}(t/50,e/50,n)}}(e,r,n,u)};function p(t,e,r){for(let i=t+1;i<8;i++){if(null!==l[e][i]){if(R(l[e][i])!==r){let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e][i]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*i+25),n.setAttribute(\"cy\",50*e+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",u=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e][i]),l[e][i]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?0===t?a.wLeft=!0:a.wRight=!0:0===t?a.bLeft=!0:a.bRight=!0}),o.appendChild(n),f.push(n)}}break}let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e][i]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*i+25),n.setAttribute(\"cy\",50*e+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",u=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[e][i]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?0===t?a.wLeft=!0:a.wRight=!0:0===t?a.bLeft=!0:a.bRight=!0}),o.appendChild(n),f.push(n)}}for(let i=t-1;i>=0;i--){if(null!==l[e][i]){if(R(l[e][i])!==r){let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e][i]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*i+25),n.setAttribute(\"cy\",50*e+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",u=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e][i]),l[e][i]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?0===t?a.wLeft=!0:a.wRight=!0:0===t?a.bLeft=!0:a.bRight=!0}),o.appendChild(n),f.push(n)}}break}let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e][i]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*i+25),n.setAttribute(\"cy\",50*e+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",u=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[e][i]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?0===t?a.wLeft=!0:a.wRight=!0:0===t?a.bLeft=!0:a.bRight=!0}),o.appendChild(n),f.push(n)}}for(let i=e+1;i<8;i++){if(null!==l[i][t]){if(R(l[i][t])!==r){let n=!1,u=Array.from(l,t=>Array.from(t));if(u[i][t]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*t+25),n.setAttribute(\"cy\",50*i+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",u=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[i][t]),l[i][t]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?0===t?a.wLeft=!0:a.wRight=!0:0===t?a.bLeft=!0:a.bRight=!0}),o.appendChild(n),f.push(n)}}break}let n=!1,u=Array.from(l,t=>Array.from(t));if(u[i][t]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*t+25),n.setAttribute(\"cy\",50*i+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",u=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[i][t]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?0===t?a.wLeft=!0:a.wRight=!0:0===t?a.bLeft=!0:a.bRight=!0}),o.appendChild(n),f.push(n)}}for(let i=e-1;i>=0;i--){if(null!==l[i][t]){if(R(l[i][t])!==r){let n=!1,u=Array.from(l,t=>Array.from(t));if(u[i][t]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*t+25),n.setAttribute(\"cy\",50*i+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",u=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[i][t]),l[i][t]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?0===t?a.wLeft=!0:a.wRight=!0:0===t?a.bLeft=!0:a.bRight=!0}),o.appendChild(n),f.push(n)}}break}let n=!1,u=Array.from(l,t=>Array.from(t));if(u[i][t]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*t+25),n.setAttribute(\"cy\",50*i+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",u=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[i][t]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k(),\"white\"===r?0===t?a.wLeft=!0:a.wRight=!0:0===t?a.bLeft=!0:a.bRight=!0}),o.appendChild(n),f.push(n)}}}function v(t,e,r){for(let i=1;e+i<8&&t+i<8;i++){if(null!==l[e+i][t+i]){if(R(l[e+i][t+i])!==r){let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e+i][t+i]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",50*(t+i)+25),r.setAttribute(\"cy\",50*(e+i)+25),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",n=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e+i][t+i]),l[e+i][t+i]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()}),o.appendChild(r),f.push(r)}}break}let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e+i][t+i]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",50*(t+i)+25),r.setAttribute(\"cy\",50*(e+i)+25),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",n=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[e+i][t+i]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()}),o.appendChild(r),f.push(r)}}for(let i=1;e-i>=0&&t-i>=0;i++){if(null!==l[e-i][t-i]){if(R(l[e-i][t-i])!==r){let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e-i][t-i]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",50*(t-i)+25),r.setAttribute(\"cy\",50*(e-i)+25),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",n=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e-i][t-i]),l[e-i][t-i]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()}),o.appendChild(r),f.push(r)}}break}let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e-i][t-i]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",50*(t-i)+25),r.setAttribute(\"cy\",50*(e-i)+25),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",n=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[e-i][t-i]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()}),o.appendChild(r),f.push(r)}}for(let i=1;e+i<8&&t-i>=0;i++){if(null!==l[e+i][t-i]){if(R(l[e+i][t-i])!==r){let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e+i][t-i]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",50*(t-i)+25),r.setAttribute(\"cy\",50*(e+i)+25),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",n=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e+i][t-i]),l[e+i][t-i]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()}),o.appendChild(r),f.push(r)}}break}let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e+i][t-i]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",50*(t-i)+25),r.setAttribute(\"cy\",50*(e+i)+25),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",n=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[e+i][t-i]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()}),o.appendChild(r),f.push(r)}}for(let i=1;e-i>=0&&t+i<8;i++){if(null!==l[e-i][t+i]){if(R(l[e-i][t+i])!==r){let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e-i][t+i]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",50*(t+i)+25),r.setAttribute(\"cy\",50*(e-i)+25),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",n=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());o.removeChild(l[e-i][t+i]),l[e-i][t+i]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()}),o.appendChild(r),f.push(r)}}break}let n=!1,u=Array.from(l,t=>Array.from(t));if(u[e-i][t+i]=u[e][t],u[e][t]=null,\"white\"===r?L(u)[w.y][w.x]&&(n=!0):C(u)[b.y][b.x]&&(n=!0),!n){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",50*(t+i)+25),r.setAttribute(\"cy\",50*(e-i)+25),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",n=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<f.length;)o.removeChild(f.shift());l[e-i][t+i]=l[e][t],l[e][t]=null,y=\"white\"===y?\"black\":\"white\",A.x=-1,A.y=-1,k()}),o.appendChild(r),f.push(r)}}}function k(){u=C(l),c=L(l)}function C(t){let e=[[],[],[],[],[],[],[],[]];for(let t=0;t<8;t++)for(let r=0;r<8;r++)e[r][t]=!1;for(let r=0;r<8;r++)for(let i=0;i<8;i++)if(null!==t[i][r]&&\"black\"!==R(t[i][r]))switch(B(t[i][r])){case\"pawn\":E(r,i,e,\"white\");break;case\"knight\":S(r,i,e);break;case\"bishop\":P(r,i,e,t);break;case\"rook\":N(r,i,e,t);break;case\"queen\":N(r,i,e,t),P(r,i,e,t);case\"king\":_(r,i,e)}return e}function L(t){let e=[[],[],[],[],[],[],[],[]];for(let t=0;t<8;t++)for(let r=0;r<8;r++)e[r][t]=!1;for(let r=0;r<8;r++)for(let i=0;i<8;i++)if(null!==t[i][r]&&\"white\"!==R(t[i][r]))switch(B(t[i][r])){case\"pawn\":E(r,i,e,\"black\");break;case\"knight\":S(r,i,e);break;case\"bishop\":P(r,i,e,t);break;case\"rook\":N(r,i,e,t);break;case\"queen\":N(r,i,e,t),P(r,i,e,t);break;case\"king\":_(r,i,e)}return e}function E(t,e,r,i){\"white\"===i?(t-1>=0&&(r[e-1][t-1]=!0),t+1<8&&(r[e-1][t+1]=!0)):(t-1>=0&&(r[e+1][t-1]=!0),t+1<8&&(r[e+1][t+1]=!0))}function S(t,e,r){e+2<8&&t+1<8&&(r[e+2][t+1]=!0),e+2<8&&t-1>=0&&(r[e+2][t-1]=!0),e-2>=0&&t+1<8&&(r[e-2][t+1]=!0),e-2>=0&&t-1>=0&&(r[e-2][t-1]=!0),e+1<8&&t+2<8&&(r[e+1][t+2]=!0),e+1<8&&t-2>=0&&(r[e+1][t-2]=!0),e-1>=0&&t+2<8&&(r[e-1][t+2]=!0),e-1>=0&&t-2>=0&&(r[e-1][t-2]=!0)}function P(t,e,r,i){for(let l=1;t+l<8&&e+l<8&&(r[e+l][t+l]=!0,null===i[e+l][t+l]);l++);for(let l=1;t-l>=0&&e-l>=0&&(r[e-l][t-l]=!0,null===i[e-l][t-l]);l++);for(let l=1;t-l>=0&&e+l<8&&(r[e+l][t-l]=!0,null===i[e+l][t-l]);l++);for(let l=1;t+l<8&&e-l>=0&&(r[e-l][t+l]=!0,null===i[e-l][t+l]);l++);}function N(t,e,r,i){for(let l=1;t+l<8&&(r[e][t+l]=!0,null===i[e][t+l]);l++);for(let l=1;t-l>=0&&(r[e][t-l]=!0,null===i[e][t-l]);l++);for(let l=1;e+l<8&&(r[e+l][t]=!0,null===i[e+l][t]);l++);for(let l=1;e-l>=0&&(r[e-l][t]=!0,null===i[e-l][t]);l++);}function _(t,e,r){e+1<8&&t+1<8&&(r[e+1][t+1]=!0),e+1<8&&t-1>=0&&(r[e+1][t-1]=!0),e-1>=0&&t+1<8&&(r[e-1][t+1]=!0),e-1>=0&&t-1>=0&&(r[e-1][t-1]=!0),e+1<8&&(r[e+1][t]=!0),e-1>=0&&(r[e-1][t]=!0),t+1<8&&(r[e][t+1]=!0),t-1>=0&&(r[e][t-1]=!0)}function R(t){return t.getAttribute(\"href\").slice(0,t.getAttribute(\"href\").length-4).toLowerCase().split(\"_\")[1]}function B(t){return t.getAttribute(\"href\").slice(0,t.getAttribute(\"href\").length-4).toLowerCase().split(\"_\")[0]}function W(t,e,r){let i=\"white\"===r;if(null===l[i?e-1:e+1][t]){let r=Array.from(l,t=>Array.from(t));if(r[i?e-1:e+1][t]=r[e][t],r[e][t]=null,i){if(!L(r)[w.y][w.x])return console.log(\"up1\",t,e),!0}else if(!C(r)[b.y][b.x])return console.log(\"up1\",t,e),!0;if(null===l[i?e-2:e+2][t])if((r=Array.from(l,t=>Array.from(t)))[i?e-2:e+2][t]=r[e][t],r[e][t]=null,i){if(!L(r)[w.y][w.x])return console.log(\"up2\",t,e),!0}else if(!C(r)[b.y][b.x])return console.log(\"up2\",t,e),!0}if(t+1<8&&null!==l[i?e-1:e+1][t+1]&&R(l[i?e-1:e+1][t+1])!==r){let r=Array.from(l,t=>Array.from(t));if(r[i?e-1:e+1][t+1]=r[e][t],r[e][t]=null,i){if(!L(r)[w.y][w.x])return console.log(\"up1right1\",t,e),!0}else if(!C(r)[b.y][b.x])return console.log(\"up1right1\",t,e),!0}if(t-1>=0&&null!==l[i?e-1:e+1][t-1]&&R(l[i?e-1:e+1][t-1])!==r){let r=Array.from(l,t=>Array.from(t));if(r[i?e-1:e+1][t-1]=r[e][t],r[e][t]=null,i){if(!L(r)[w.y][w.x])return console.log(\"up1left1\",t,e),!0}else if(!C(r)[b.y][b.x])return console.log(\"up1left1\",t,e),!0}if(A.x===t-1&&A.y===e&&null===l[i?e-1:e+1][t-1]){let r=Array.from(l,t=>Array.from(t));if(r[i?e-1:e+1][t-1]=r[e][t],r[e][t]=null,r[e][t-1]=null,i){if(!L(r)[w.y][w.x])return console.log(\"epleft\",t,e),!0}else if(!C(r)[b.y][b.x])return console.log(\"epleft\",t,e),!0}if(A.x===t+1&&A.y===e&&null==l[i?e-1:e+1][t+1]){let r=Array.from(l,t=>Array.from(t));if(r[i?e-1:e+1][t-1]=r[e][t],r[e][t]=null,r[e][t+1]=null,i){if(!L(r)[w.y][w.x])return console.log(\"epright\",t,e),!0}else if(!C(r)[b.y][b.x])return console.log(\"epright\",t,e),!0}return!1}function O(t,e,r){if(e<=5&&t<=6&&(null===l[e+2][t+1]||R(l[e+2][t+1])!==r)){let i=Array.from(l,t=>Array.from(t));if(i[e+2][t+1]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y][w.x])return!0}else if(!C(i)[b.y][b.x])return!0}if(e>=2&&t>=1&&(null===l[e-2][t-1]||R(l[e-2][t-1])!==r)){let i=Array.from(l,t=>Array.from(t));if(i[e-2][t-1]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y][w.x])return!0}else if(!C(i)[b.y][b.x])return!0}if(e<=5&&t>=1&&(null===l[e+2][t-1]||R(l[e+2][t-1])!==r)){let i=Array.from(l,t=>Array.from(t));if(i[e+2][t-1]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y][w.x])return!0}else if(!C(i)[b.y][b.x])return!0}if(e>=2&&t<=6&&(null===l[e-2][t+1]||R(l[e-2][t+1])!==r)){let i=Array.from(l,t=>Array.from(t));if(i[e-2][t+1]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y][w.x])return!0}else if(!C(i)[b.y][b.x])return!0}if(e<=6&&t<=5&&(null===l[e+1][t+2]||R(l[e+1][t+2])!==r)){let i=Array.from(l,t=>Array.from(t));if(i[e+1][t+2]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y][w.x])return!0}else if(!C(i)[b.y][b.x])return!0}if(e>=1&&t>=2&&(null===l[e-1][t-2]||R(l[e-1][t-2])!==r)){let i=Array.from(l,t=>Array.from(t));if(i[e-1][t-2]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y][w.x])return!0}else if(!C(i)[b.y][b.x])return!0}if(e>=1&&t<=5&&(null===l[e-1][t+2]||R(l[e-1][t+2])!==r)){let i=Array.from(l,t=>Array.from(t));if(i[e-1][t+2]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y][w.x])return!0}else if(!C(i)[b.y][b.x])return!0}if(e<=6&&t>=2&&(null===l[e+1][t-2]||R(l[e+1][t-2])!==r)){let i=Array.from(l,t=>Array.from(t));if(i[e+1][t-2]=i[e][t],i[e][XMLHttpRequestUpload]=null,\"white\"===r){if(!L(i)[w.y][w.x])return!0}else if(!C(i)[b.y][b.x])return!0}return!1}function Q(t,e,r){for(let i=1;e+i<8&&t+i<8;i++){if(null===l[e+i][t+i]||R(l[e+i][t+i])!==r){let n=Array.from(l,t=>Array.from(t));if(n[e+i][t+i]=n[e][t],n[e][t]=null,\"white\"===r){if(!L(n)[w.y][w.x])return!0}else if(!C(n)[b.y][b.x])return!0}if(null!==l[e+i][t+1])break}for(let i=1;e-i>=0&&t-i>=0;i++){if(null===l[e-i][t-i]||R(l[e-i][t-i])!==r){let n=Array.from(l,t=>Array.from(t));if(n[e-i][t-i]=n[e][t],n[e][t]=null,\"white\"===r){if(!L(n)[w.y][w.x])return!0}else if(!C(n)[b.y][b.x])return!0}if(null!==l[e-i][t-i])break}for(let i=1;e+i<8&&t-i>=0;i++){if(null===l[e+i][t-i]||R(l[e+i][t-i])!==r){let n=Array.from(l,t=>Array.from(t));if(n[e+i][t-i]=n[e][t],n[e][t]=null,\"white\"===r){if(!L(n)[w.y][w.x])return!0}else if(!C(n)[b.y][b.x])return!0}if(null===l[e+i][t-i])break}for(let i=1;e-i>=0&&t+i<8;i++){if(null===l[e-i][t+i]||R(l[e-i][t+i])!==r){let n=Array.from(l,t=>Array.from(t));if(n[e-i][t+i]=n[e][t],n[e][t]=null,\"white\"===r){if(!L(n)[w.y][w.x])return!0}else if(!C(n)[b.y][b.x])return!0}if(null!==l[e-i][t-i])break}return!1}function j(t,e,r){for(let i=t+1;i<8;i++){if(null!==l[e][i]){if(R(l[e][i])!==r){let n=Array.from(l,t=>Array.from(t));if(n[e][i]=n[e][t],n[e][t]=null,\"white\"===r){if(!L(n)[w.y][w.x])return!0}else if(!C(n)[b.y][b.x])return!0}break}let n=Array.from(l,t=>Array.from(t));if(n[e][i]=n[e][t],n[e][t]=null,\"white\"===r){if(!L(n)[w.y][w.x])return!0}else if(!C(n)[b.y][b.x])return!0}for(let i=t-1;i>=0;i--){if(null!==l[e][i]){if(R(l[e][i])!==r){let n=Array.from(l,t=>Array.from(t));if(n[e][i]=n[e][t],n[e][t]=null,\"white\"===r){if(!L(n)[w.y][w.x])return!0}else if(!C(n)[b.y][b.x])return!0}break}let n=Array.from(l,t=>Array.from(t));if(n[e][i]=n[e][t],n[e][t]=null,\"white\"===r){if(!L(n)[w.y][w.x])return!0}else if(!C(n)[b.y][b.x])return!0}for(let i=e+1;i<8;i++){if(null!==l[i][t]){if(R(l[i][t])!==r){let n=Array.from(l,t=>Array.from(t));if(n[i][t]=n[e][t],n[e][t]=null,\"white\"===r){if(!L(n)[w.y][w.x])return!0}else if(!C(n)[b.y][b.x])return!0}break}let n=Array.from(l,t=>Array.from(t));if(n[i][t]=n[e][t],n[e][t]=null,\"white\"===r){if(!L(n)[w.y][w.x])return!0}else if(!C(n)[b.y][b.x])return!0}for(let i=e-1;i>=0;i--){if(null!==l[i][t]){if(R(l[i][t])!==r){let n=Array.from(l,t=>Array.from(t));if(n[i][t]=n[e][t],n[e][t]=null,\"white\"===r){if(!L(n)[w.y][w.x])return!0}else if(!C(n)[b.y][b.x])return!0}break}let n=Array.from(l,t=>Array.from(t));if(n[i][t]=n[e][t],n[e][t]=null,\"white\"===r){if(!L(n)[w.y][w.x])return!0}else if(!C(n)[b.y][b.x])return!0}return!1}function M(t,e,r){if(e+1<8&&t+1<8&&null!==l[e+1][t+1]&&R(l[e+1][t+1])!==r){let i=Array.from(l,t=>Array.from(t));if(i[e+1][t+1]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y+1][w.x+1])return!0}else if(!C(i)[b.y+1][b.x+1])return!0}else if(e+1<8&&t+1<8&&null===l[e+1][t+1]){let i=Array.from(l,t=>Array.from(t));if(i[e+1][t+1]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y+1][w.x+1])return!0}else if(!C(i)[b.y+1][b.x+1])return!0}if(e-1>=0&&t-1>=0&&null!==l[e-1][t-1]&&R(l[e-1][t-1])!==r){let i=Array.from(l,t=>Array.from(t));if(i[e-1][t-1]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y-1][w.x-1])return!0}else if(!C(i)[b.y-1][b.x-1])return!0}else if(e-1>=0&&t-1>=0&&null===l[e-1][t-1]){let i=Array.from(l,t=>Array.from(t));if(i[e-1][t-1]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y-1][w.x-1])return!0}else if(!C(i)[b.y-1][b.x-1])return!0}if(e-1>=0&&t+1<8&&null!==l[e-1][t+1]&&R(l[e-1][t+1])!==r){let i=Array.from(l,t=>Array.from(t));if(i[e-1][t-1]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y-1][w.x-1])return!0}else if(!C(i)[b.y-1][b.x-1])return!0}else if(e-1>=0&&t+1<8&&null===l[e-1][t+1]){let i=Array.from(l,t=>Array.from(t));if(i[e-1][t+1]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y-1][w.x+1])return!0}else if(!C(i)[b.y-1][b.x+1])return!0}if(e+1<8&&t-1>=0&&null!==l[e+1][t-1]&&R(l[e+1][t-1])!==r){let i=Array.from(l,t=>Array.from(t));if(i[e+1][t-1]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y+1][w.x-1])return!0}else if(!C(i)[b.y+1][b.x-1])return!0}else if(e+1<8&&t-1>=0&&null===l[e+1][t-1]){let i=Array.from(l,t=>Array.from(t));if(i[e+1][t-1]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y+1][w.x-1])return!0}else if(!C(i)[b.y+1][b.x-1])return!0}if(e+1<8&&null!==l[e+1][t]&&R(l[e+1][t])!==r){let i=Array.from(l,t=>Array.from(t));if(i[e+1][t]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y+1][w.x])return!0}else if(!C(i)[b.y+1][b.x])return!0}else if(e+1<8&&null===l[e+1][t]){let i=Array.from(l,t=>Array.from(t));if(i[e+1][t]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y+1][w.x])return!0}else if(!C(i)[b.y+1][b.x])return!0}if(e-1>=0&&null!==l[e-1][t]&&R(l[e-1][t])!==r){let i=Array.from(l,t=>Array.from(t));if(i[e-1][t]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y-1][w.x])return!0}else if(!C(i)[b.y-1][b.x])return!0}else if(e-1>=0&&null===l[e-1][t]){let i=Array.from(l,t=>Array.from(t));if(i[e-1][t]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y-1][w.x])return!0}else if(!C(i)[b.y-1][b.x])return!0}if(t+1<8&&null!==l[e][t+1]&&R(l[e][t+1])!==r){let i=Array.from(l,t=>Array.from(t));if(i[e][t+1]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y][w.x+1])return!0}else if(!C(i)[b.y][b.x+1])return!0}else if(t+1<8&&null===l[e][t+1]){let i=Array.from(l,t=>Array.from(t));if(i[e][t+1]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y][w.x+1])return!0}else if(!C(i)[b.y][b.x+1])return!0}if(t-1>=0&&null!==l[e][t-1]&&R(l[e][t-1])!==r){let i=Array.from(l,t=>Array.from(t));if(i[e][t-1]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y][w.x-1])return!0}else if(!C(i)[b.y][b.x-1])return!0}else if(t-1>=0&&null===l[e][t-1]){let i=Array.from(l,t=>Array.from(t));if(i[e][t-1]=i[e][t],i[e][t]=null,\"white\"===r){if(!L(i)[w.y][w.x-1])return!0}else if(!C(i)[b.y][b.x-1])return!0}return!1}window.addEventListener(\"load\",t=>{n=document.getElementById(\"board\"),o=document.getElementById(\"g\");for(let t=0;t<64;t++){let e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"rect\");e.setAttribute(\"x\",50*Math.floor(t/8)),e.setAttribute(\"y\",t%8*50),e.setAttribute(\"width\",\"50\"),e.setAttribute(\"height\",\"50\"),e.setAttribute(\"class\",\"tile\"),e.setAttribute(\"fill\",(Math.floor(t/8)+t%8)%2==0?\"white\":\"black\"),o.appendChild(e)}!function(){for(let t=0;t<8;t++)l[6][t]=i(\"Pawn_White.png\",t,6,d),l[1][t]=i(\"Pawn_Black.png\",t,1,d);for(let t=0;t<8;t++)l[2][t]=null,l[3][t]=null,l[4][t]=null,l[5][t]=null;l[0][0]=i(\"Rook_Black.png\",0,0,d),l[7][0]=i(\"Rook_White.png\",0,7,d),l[0][7]=i(\"Rook_Black.png\",7,0,d),l[7][7]=i(\"Rook_White.png\",7,7,d),l[0][6]=i(\"Knight_Black.png\",6,0,d),l[7][6]=i(\"Knight_White.png\",6,7,d),l[0][1]=i(\"Knight_Black.png\",1,0,d),l[7][1]=i(\"Knight_White.png\",1,7,d),l[0][5]=i(\"Bishop_Black.png\",5,0,d),l[7][5]=i(\"Bishop_White.png\",5,7,d),l[0][2]=i(\"Bishop_Black.png\",2,0,d),l[7][2]=i(\"Bishop_White.png\",2,7,d),l[0][4]=i(\"King_Black.png\",4,0,d),l[7][4]=i(\"King_White.png\",4,7,d),l[0][3]=i(\"Queen_Black.png\",3,0,d),l[7][3]=i(\"Queen_White.png\",3,7,d)}(),k(),console.table(u),console.table(c);let e=setInterval(()=>{if(m&&function(){for(let t=0;t<8;t++)for(let e=0;e<8;e++)if(null!==l[e][t]&&R(l[e][t])===y)switch(B(l[e][t])){case\"pawn\":if(W(t,e,y))return console.log(\"pawn\"),!1;break;case\"knight\":if(O(t,e,y))return console.log(\"knight\"),!1;break;case\"bishop\":if(Q(t,e,y))return console.log(\"bishop\"),!1;break;case\"rook\":if(j(t,e,y))return console.log(\"rook\"),!1;break;case\"queen\":if(Q(t,e,y)||j(t,e,y))return console.log(\"queen\"),!1;break;case\"king\":if(M(t,e,y))return console.log(\"king\"),!1}return!0}()&&(alert(\"Game Over!\\n\"+(\"white\"===y?\"Black\":\"White\")+\" wins!\"),clearInterval(e)),\"white\"===y)if(c[w.y][w.x]){null!==x&&(o.removeChild(x),x=null);let t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");t.setAttribute(\"cx\",50*w.x+25),t.setAttribute(\"cy\",50*w.y+25),t.setAttribute(\"r\",25),t.setAttribute(\"fill\",\"url(#grad1)\"),t.setAttribute(\"id\",\"checkCircle\"),t.addEventListener(\"click\",t=>{g=t}),o.appendChild(t),x=t,m=!0}else null!==x?(o.removeChild(x),x=null,m=!1):m=!1;else if(\"black\"===y)if(u[b.y][b.x]){null!==x&&(o.removeChild(x),x=null);let t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");t.setAttribute(\"cx\",50*b.x+25),t.setAttribute(\"cy\",50*b.y+25),t.setAttribute(\"r\",25),t.setAttribute(\"fill\",\"url(#grad1)\"),t.setAttribute(\"id\",\"checkCircle\"),t.addEventListener(\"click\",t=>{g=t}),o.appendChild(t),x=t,m=!0}else null!==x?(o.removeChild(x),x=null,m=!1):m=!1;null!==g&&(l[\"white\"===y?w.y:b.y][\"white\"===y?w.x:b.x].dispatchEvent(g),g=null)},250)}),document.addEventListener(\"click\",t=>{if(t.target===document.body||t.target===n||\"tile\"===t.target.getAttribute(\"class\")){s=null;for(let t=0;t<f.length;)o.removeChild(f.shift())}})}]);","extractedComments":[]}