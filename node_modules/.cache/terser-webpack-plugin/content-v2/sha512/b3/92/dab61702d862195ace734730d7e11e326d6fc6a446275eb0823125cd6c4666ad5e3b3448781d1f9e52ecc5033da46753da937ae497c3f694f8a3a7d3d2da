{"code":"!function(t){var e={};function r(i){if(e[i])return e[i].exports;var l=e[i]={i:i,l:!1,exports:{}};return t[i].call(l.exports,l,l.exports,r),l.l=!0,l.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var l in t)r.d(i,l,function(e){return t[e]}.bind(null,l));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=0)}([function(t,e,r){\"use strict\";r.r(e),r.d(e,\"g\",function(){return o}),function(){var t=new Error(\"Cannot find module 'renderer.js'\");throw t.code=\"MODULE_NOT_FOUND\",t}();const i=[[],[],[],[],[],[],[],[]];var l,o,n=[[],[],[],[],[],[],[],[]],u=[[],[],[],[],[],[],[],[]],s=null;const c=[];const a={white:!1,black:!1},b={bLeft:!1,bRight:!1,wLeft:!1,wRight:!1};var h=\"white\";const A={x:-1,y:-1},f={x:4,y:0},y={x:4,y:7};var w=null,d=!1;let p=null;function g(t,e,r,l){if(l===h)switch(r){case\"pawn\":!function(t,e,r){let l=\"white\"===r;if(null===i[l?e-1:e+1][t]){let r=!1,n=Array.from(i,t=>Array.from(t));if(n[l?e-1:e+1][t]=n[e][t],n[e][t]=null,l?C(n)[y.y][y.x]&&(r=!0):k(n)[f.y][f.x]&&(r=!0),!r){if(e===(l?1:6)){let r=r=>{for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e][t]),i[e][t]=null,i[l?e-1:e+1][t]=!function(){var t=new Error(\"Cannot find module 'renderer.js'\");throw t.code=\"MODULE_NOT_FOUND\",t}()(l?\"Queen_White.png\":\"Queen_Black.png\",t,e,t=>{let e=Number(t.toElement.getAttribute(\"x\")),r=Number(t.toElement.getAttribute(\"y\")),i=t.toElement.getAttribute(\"href\"),l=i.slice(0,i.length-4).toLowerCase(),n=l.split(\"_\")[0],u=l.split(\"_\")[1];for(let t=0;t<c.length;)o.removeChild(c.shift());s=t.toElement,g(e,r,n,u)}),h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()};!function(){var t=new Error(\"Cannot find module 'renderer.js'\");throw t.code=\"MODULE_NOT_FOUND\",t}()(\"moveLocation\",t,e,r)}else moveLocation.addEventListener(\"click\",r=>{s.setAttribute(\"x\",moveLocation.getAttribute(\"cx\")-25),s.setAttribute(\"y\",moveLocation.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[l?e/50-1:e/50+1][t/50]=i[e/50][t/50],i[e/50][t/50]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()});o.appendChild(moveLocation),c.push(moveLocation)}if(r=!1,(n=Array.from(i,t=>Array.from(t)))[l?e/50-2:e/50+2][t/50]=n[e/50][t/50],n[e/50][t/50]=null,l?C(n)[y.y][y.x]&&(r=!0):k(n)[f.y][f.x]&&(r=!0),!r&&e/50==(l?6:1)&&null===i[l?e/50-2:e/50+2][t/50]){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",t+25),r.setAttribute(\"cy\",25+(l?e-100:e+100)),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",n=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[l?e/50-2:e/50+2][t/50]=i[e/50][t/50],i[e/50][t/50]=null,h=\"white\"===h?\"black\":\"white\",A.x=t/50,A.y=l?e/50-2:e/50+2,v()}),o.appendChild(r),c.push(r)}}if(t/50+1<8&&null!==i[l?e/50-1:e/50+1][t/50+1]&&_(i[l?e/50-1:e/50+1][t/50+1])!==r){let r=!1,n=Array.from(i,t=>Array.from(t));if(n[l?e/50-1:e/50+1][t/50+1]=n[e/50][t/50],n[e/50][t/50]=null,l?C(n)[y.y][y.x]&&(r=!0):k(n)[f.y][f.x]&&(r=!0),!r){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",t+75),r.setAttribute(\"cy\",25+(l?e-50:e+50)),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),e/50==(l?1:6)?r.addEventListener(\"click\",n=>{for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e/50][t/50]),i[e/50][t/50]=null;let u=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\");u.setAttribute(\"href\",l?\"Queen_White.png\":\"Queen_Black.png\"),u.setAttribute(\"x\",r.getAttribute(\"cx\")-25),u.setAttribute(\"y\",r.getAttribute(\"cy\")-25),u.setAttribute(\"width\",50),u.setAttribute(\"height\",50),u.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),u.addEventListener(\"click\",t=>{let e=Number(t.toElement.getAttribute(\"x\")),r=Number(t.toElement.getAttribute(\"y\")),i=t.toElement.getAttribute(\"href\"),l=i.slice(0,i.length-4).toLowerCase(),n=l.split(\"_\")[0],u=l.split(\"_\")[1];for(let t=0;t<c.length;)o.removeChild(c.shift());s=t.toElement,g(e,r,n,u)}),o.appendChild(u),o.removeChild(i[l?e/50-1:e/50+1][t/50+1]),i[l?e/50-1:e/50+1][t/50+1]=u,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}):r.addEventListener(\"click\",n=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());removeLocation=i[l?e/50-1:e/50+1][t/50+1],o.removeChild(removeLocation),i[l?e/50-1:e/50+1][t/50+1]=null,i[l?e/50-1:e/50+1][t/50+1]=i[e/50][t/50],i[e/50][t/50]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(r),c.push(r)}}if(t/50-1>=0&&null!==i[l?e/50-1:e/50+1][t/50-1]&&_(i[l?e/50-1:e/50+1][t/50-1])!==r){let r=!1,n=Array.from(i,t=>Array.from(t));if(n[l?e/50-1:e/50+1][t/50-1]=n[e/50][t/50],n[e/50][t/50]=null,l?C(n)[y.y][y.x]&&(r=!0):k(n)[f.y][f.x]&&(r=!0),!r){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",t-25),r.setAttribute(\"cy\",25+(l?e-50:e+50)),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),e/50==(l?1:6)?r.addEventListener(\"click\",n=>{for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e/50][t/50]),i[e/50][t/50]=null;let u=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\");u.setAttribute(\"href\",l?\"Queen_White.png\":\"Queen_Black.png\"),u.setAttribute(\"x\",r.getAttribute(\"cx\")-25),u.setAttribute(\"y\",r.getAttribute(\"cy\")-25),u.setAttribute(\"width\",50),u.setAttribute(\"height\",50),u.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),u.addEventListener(\"click\",t=>{let e=Number(t.toElement.getAttribute(\"x\")),r=Number(t.toElement.getAttribute(\"y\")),i=t.toElement.getAttribute(\"href\"),l=i.slice(0,i.length-4).toLowerCase(),n=l.split(\"_\")[0],u=l.split(\"_\")[1];for(let t=0;t<c.length;)o.removeChild(c.shift());s=t.toElement,g(e,r,n,u)}),o.appendChild(u),o.removeChild(i[l?e/50-1:e/50+1][t/50-1]),i[l?e/50-1:e/50+1][t/50-1]=u,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}):r.addEventListener(\"click\",n=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[l?e/50-1:e/50+1][t/50-1]),i[l?e/50-1:e/50+1][t/50-1]=null,i[l?e/50-1:e/50+1][t/50-1]=i[e/50][t/50],i[e/50][t/50]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(r),c.push(r)}}if(A.x===t/50-1&&A.y===e/50&&null===i[l?e/50-1:e/50+1][t/50-1]){let r=!1,n=Array.from(i,t=>Array.from(t));if(n[l?e/50-1:e/50+1][t/50-1]=n[e/50][t/50],n[e/50][t/50]=null,n[e/50][t/50-1]=null,l?C(n)[y.y][y.x]&&(r=!0):k(n)[f.y][f.x]&&(r=!0),!r){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",t-25),r.setAttribute(\"cy\",25+(l?e-50:e+50)),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",n=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e/50][t/50-1]),i[e/50][t/50-1]=null,i[l?e/50-1:e/50+1][t/50-1]=i[e/50][t/50],i[e/50][t/50]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(r),c.push(r)}}if(A.x===t/50+1&&A.y===e/50&&null==i[l?e/50-1:e/50+1][t/50+1]){let r=!1,n=Array.from(i,t=>Array.from(t));if(n[l?e/50-1:e/50+1][t/50-1]=n[e/50][t/50],n[e/50][t/50]=null,n[e/50][t/50+1]=null,l?C(n)[y.y][y.x]&&(r=!0):k(n)[f.y][f.x]&&(r=!0),!r){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",t+75),r.setAttribute(\"cy\",25+(l?e-50:e+50)),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",n=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e/50][t/50+1]),i[e/50][t/50+1]=null,i[l?e/50-1:e/50+1][t/50+1]=i[e/50][t/50],i[e/50][t/50]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(r),c.push(r)}}}(t/50,e/50,l);break;case\"knight\":!function(t,e,r){if(e<=250&&t<=300&&(null===i[e/50+2][t/50+1]||_(i[e/50+2][t/50+1])!==r)){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e/50+2][t/50+1]=n[e/50][t/50],n[e/50][t/50]=null,\"white\"===r?C(n)[y.y][y.x]&&(l=!0):k(n)[f.y][f.x]&&(l=!0),!l){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",t+75),r.setAttribute(\"cy\",e+125),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropagation()\"'),r.addEventListener(\"click\",l=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());null!==i[e/50+2][t/50+1]&&(o.removeChild(i[e/50+2][t/50+1]),i[e/50+2][t/50+1]=null),i[e/50+2][t/50+1]=i[e/50][t/50],i[e/50][t/50]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(r),c.push(r)}}if(e>=100&&t>=50&&(null===i[e/50-2][t/50-1]||_(i[e/50-2][t/50-1])!==r)){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e/50-2][t/50-1]=n[e/50][t/50],n[e/50][t/50]=null,\"white\"===r?C(n)[y.y][y.x]&&(l=!0):k(n)[f.y][f.x]&&(l=!0),!l){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",t-25),r.setAttribute(\"cy\",e-75),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",l=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());null!==i[e/50-2][t/50-1]&&(o.removeChild(i[e/50-2][t/50-1]),i[e/50-2][t/50-1]=null),i[e/50-2][t/50-1]=i[e/50][t/50],i[e/50][t/50]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(r),c.push(r)}}if(e<=250&&t>=50&&(null===i[e/50+2][t/50-1]||_(i[e/50+2][t/50-1])!==r)){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e/50+2][t/50-1]=n[e/50][t/50],n[e/50][t/50]=null,\"white\"===r?C(n)[y.y][y.x]&&(l=!0):k(n)[f.y][f.x]&&(l=!0),!l){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",t-25),r.setAttribute(\"cy\",e+125),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropagation()\"'),r.addEventListener(\"click\",l=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());null!==i[e/50+2][t/50-1]&&(o.removeChild(i[e/50+2][t/50-1]),i[e/50+2][t/50-1]=null),i[e/50+2][t/50-1]=i[e/50][t/50],i[e/50][t/50]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(r),c.push(r)}}if(e>=100&&t<=300&&(null===i[e/50-2][t/50+1]||_(i[e/50-2][t/50+1])!==r)){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e/50-2][t/50+1]=n[e/50][t/50],n[e/50][t/50]=null,\"white\"===r?C(n)[y.y][y.x]&&(l=!0):k(n)[f.y][f.x]&&(l=!0),!l){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",t+75),r.setAttribute(\"cy\",e-75),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",l=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());null!==i[e/50-2][t/50+1]&&(o.removeChild(i[e/50-2][t/50+1]),i[e/50-2][t/50+1]=null),i[e/50-2][t/50+1]=i[e/50][t/50],i[e/50][t/50]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(r),c.push(r)}}if(e<=300&&t<=250&&(null===i[e/50+1][t/50+2]||_(i[e/50+1][t/50+2])!==r)){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e/50+1][t/50+2]=n[e/50][t/50],n[e/50][t/50]=null,\"white\"===r?C(n)[y.y][y.x]&&(l=!0):k(n)[f.y][f.x]&&(l=!0),!l){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",t+125),r.setAttribute(\"cy\",e+75),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropagation()\"'),r.addEventListener(\"click\",l=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());null!==i[e/50+1][t/50+2]&&(o.removeChild(i[e/50+1][t/50+2]),i[e/50+1][t/50+2]=null),i[e/50+1][t/50+2]=i[e/50][t/50],i[e/50][t/50]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(r),c.push(r)}}if(e>=50&&t>=100&&(null===i[e/50-1][t/50-2]||_(i[e/50-1][t/50-2])!==r)){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e/50-1][t/50-2]=n[e/50][t/50],n[e/50][t/50]=null,\"white\"===r?C(n)[y.y][y.x]&&(l=!0):k(n)[f.y][f.x]&&(l=!0),!l){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",t-75),r.setAttribute(\"cy\",e-25),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",l=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());null!==i[e/50-1][t/50-2]&&(o.removeChild(i[e/50-1][t/50-2]),i[e/50-1][t/50-2]=null),i[e/50-1][t/50-2]=i[e/50][t/50],i[e/50][t/50]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(r),c.push(r)}}if(e>=50&&t<=250&&(null===i[e/50-1][t/50+2]||_(i[e/50-1][t/50+2])!==r)){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e/50-1][t/50+2]=n[e/50][t/50],n[e/50][t/50]=null,\"white\"===r?C(n)[y.y][y.x]&&(l=!0):k(n)[f.y][f.x]&&(l=!0),!l){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",t+125),r.setAttribute(\"cy\",e-25),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropagation()\"'),r.addEventListener(\"click\",l=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());null!==i[e/50-1][t/50+2]&&(o.removeChild(i[e/50-1][t/50+2]),i[e/50-1][t/50+2]=null),i[e/50-1][t/50+2]=i[e/50][t/50],i[e/50][t/50]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(r),c.push(r)}}if(e<=300&&t>=100&&(null===i[e/50+1][t/50-2]||_(i[e/50+1][t/50-2])!==r)){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e/50+1][t/50-2]=n[e/50][t/50],n[e/50][t/50]=null,\"white\"===r?C(n)[y.y][y.x]&&(l=!0):k(n)[f.y][f.x]&&(l=!0),!l){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",t-75),r.setAttribute(\"cy\",e+75),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",l=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());null!==i[e/50+1][t/50-2]&&(o.removeChild(i[e/50+1][t/50-2]),i[e/50+1][t/50-2]=null),i[e/50+1][t/50-2]=i[e/50][t/50],i[e/50][t/50]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(r),c.push(r)}}}(t,e,l);break;case\"rook\":m(t/50,e/50,l);break;case\"bishop\":x(t/50,e/50,l);break;case\"queen\":m(t/50,e/50,l),x(t/50,e/50,l);break;case\"king\":!function(t,e,r){if(e+1<8&&t+1<8&&null!==i[e+1][t+1]&&_(i[e+1][t+1])!==r){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e+1][t+1]=n[e][t],n[e][t]=null,\"white\"===r?C(n)[y.y+1][y.x+1]&&(l=!0):k(n)[f.y+1][f.x+1]&&(l=!0),!l){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*(t+1)+25),l.setAttribute(\"cy\",50*(e+1)+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e+1][t+1]),i[e+1][t+1]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t+1,y.y=e+1):(a.black=!0,f.x=t+1,f.y=e+1)}),o.appendChild(l),c.push(l)}}else if(e+1<8&&t+1<8&&null===i[e+1][t+1]){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e+1][t+1]=n[e][t],n[e][t]=null,\"white\"===r?C(n)[y.y+1][y.x+1]&&(l=!0):k(n)[f.y+1][f.x+1]&&(l=!0),!l){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*(t+1)+25),l.setAttribute(\"cy\",50*(e+1)+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[e+1][t+1]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t+1,y.y=e+1):(a.black=!0,f.x=t+1,f.y=e+1)}),o.appendChild(l),c.push(l)}}if(e-1>=0&&t-1>=0&&null!==i[e-1][t-1]&&_(i[e-1][t-1])!==r){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e-1][t-1]=n[e][t],n[e][t]=null,\"white\"===r?C(n)[y.y-1][y.x-1]&&(l=!0):k(n)[f.y-1][f.x-1]&&(l=!0),!l){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*(t-1)+25),l.setAttribute(\"cy\",50*(e-1)+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e-1][t-1]),i[e-1][t-1]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t-1,y.y=e-1):(a.black=!0,f.x=t-1,f.y=e-1)}),o.appendChild(l),c.push(l)}}else if(e-1>=0&&t-1>=0&&null===i[e-1][t-1]){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e-1][t-1]=n[e][t],n[e][t]=null,\"white\"===r?C(n)[y.y-1][y.x-1]&&(l=!0):k(n)[f.y-1][f.x-1]&&(l=!0),!l){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*(t-1)+25),l.setAttribute(\"cy\",50*(e-1)+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[e-1][t-1]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t-1,y.y=e-1):(a.black=!0,f.x=t-1,f.y=e-1)}),o.appendChild(l),c.push(l)}}if(e-1>=0&&t+1<8&&null!==i[e-1][t+1]&&_(i[e-1][t+1])!==r){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e-1][t-1]=n[e][t],n[e][t]=null,\"white\"===r?C(n)[y.y-1][y.x-1]&&(l=!0):k(n)[f.y-1][f.x-1]&&(l=!0),!l){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*(t+1)+25),l.setAttribute(\"cy\",50*(e-1)+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e-1][t+1]),i[e-1][t+1]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t+1,y.y=e-1):(a.black=!0,f.x=t+1,f.y=e-1)}),o.appendChild(l),c.push(l)}}else if(e-1>=0&&t+1<8&&null===i[e-1][t+1]){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e-1][t+1]=n[e][t],n[e][t]=null,\"white\"===r?C(n)[y.y-1][y.x+1]&&(l=!0):k(n)[f.y-1][f.x+1]&&(l=!0),!l){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*(t+1)+25),l.setAttribute(\"cy\",50*(e-1)+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[e-1][t+1]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t+1,y.y=e-1):(a.black=!0,f.x=t+1,f.y=e-1)}),o.appendChild(l),c.push(l)}}if(e+1<8&&t-1>=0&&null!==i[e+1][t-1]&&_(i[e+1][t-1])!==r){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e+1][t-1]=n[e][t],n[e][t]=null,\"white\"===r?C(n)[y.y+1][y.x-1]&&(l=!0):k(n)[f.y+1][f.x-1]&&(l=!0),!l){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*(t-1)+25),l.setAttribute(\"cy\",50*(e+1)+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e+1][t-1]),i[e+1][t-1]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t-1,y.y=e+1):(a.black=!0,f.x=t-1,f.y=e+1)}),o.appendChild(l),c.push(l)}}else if(e+1<8&&t-1>=0&&null===i[e+1][t-1]){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e+1][t-1]=n[e][t],n[e][t]=null,\"white\"===r?C(n)[y.y+1][y.x-1]&&(l=!0):k(n)[f.y+1][f.x-1]&&(l=!0),!l){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*(t-1)+25),l.setAttribute(\"cy\",50*(e+1)+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[e+1][t-1]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t-1,y.y=e+1):(a.black=!0,f.x=t-1,f.y=e+1)}),o.appendChild(l),c.push(l)}}if(e+1<8&&null!==i[e+1][t]&&_(i[e+1][t])!==r){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e+1][t]=n[e][t],n[e][t]=null,\"white\"===r?C(n)[y.y+1][y.x]&&(l=!0):k(n)[f.y+1][f.x]&&(l=!0),!l){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*t+25),l.setAttribute(\"cy\",50*(e+1)+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e+1][t]),i[e+1][t]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t,y.y=e+1):(a.black=!0,f.x=t,f.y=e+1)}),o.appendChild(l),c.push(l)}}else if(e+1<8&&null===i[e+1][t]){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e+1][t]=n[e][t],n[e][t]=null,\"white\"===r?C(n)[y.y+1][y.x]&&(l=!0):k(n)[f.y+1][f.x]&&(l=!0),!l){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*t+25),l.setAttribute(\"cy\",50*(e+1)+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[e+1][t]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t,y.y=e+1):(a.black=!0,f.x=t,f.y=e+1)}),o.appendChild(l),c.push(l)}}if(e-1>=0&&null!==i[e-1][t]&&_(i[e-1][t])!==r){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e-1][t]=n[e][t],n[e][t]=null,\"white\"===r?C(n)[y.y-1][y.x]&&(l=!0):k(n)[f.y-1][f.x]&&(l=!0),!l){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*t+25),l.setAttribute(\"cy\",50*(e-1)+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e-1][t]),i[e-1][t]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t,y.y=e-1):(a.black=!0,f.x=t,f.y=e-1)}),o.appendChild(l),c.push(l)}}else if(e-1>=0&&null===i[e-1][t]){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e-1][t]=n[e][t],n[e][t]=null,\"white\"===r?C(n)[y.y-1][y.x]&&(l=!0):k(n)[f.y-1][f.x]&&(l=!0),!l){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*t+25),l.setAttribute(\"cy\",50*(e-1)+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[e-1][t]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t,y.y=e-1):(a.black=!0,f.x=t,f.y=e-1)}),o.appendChild(l),c.push(l)}}if(t+1<8&&null!==i[e][t+1]&&_(i[e][t+1])!==r){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e][t+1]=n[e][t],n[e][t]=null,\"white\"===r?C(n)[y.y][y.x+1]&&(l=!0):k(n)[f.y][f.x+1]&&(l=!0),!l){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*(t+1)+25),l.setAttribute(\"cy\",50*e+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e][t+1]),i[e][t+1]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t+1,y.y=e):(a.black=!0,f.x=t+1,f.y=e)}),o.appendChild(l),c.push(l)}}else if(t+1<8&&null===i[e][t+1]){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e][t+1]=n[e][t],n[e][t]=null,\"white\"===r?C(n)[y.y][y.x+1]&&(l=!0):k(n)[f.y][f.x+1]&&(l=!0),!l){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*(t+1)+25),l.setAttribute(\"cy\",50*e+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[e][t+1]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t+1,y.y=e):(a.black=!0,f.x=t+1,f.y=e)}),o.appendChild(l),c.push(l)}}if(t-1>=0&&null!==i[e][t-1]&&_(i[e][t-1])!==r){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e][t-1]=n[e][t],n[e][t]=null,\"white\"===r?C(n)[y.y][y.x-1]&&(l=!0):k(n)[f.y][f.x-1]&&(l=!0),!l){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*(t-1)+25),l.setAttribute(\"cy\",50*e+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e][t-1]),i[e][t-1]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t-1,y.y=e):(a.black=!0,f.x=t-1,f.y=e)}),o.appendChild(l),c.push(l)}}else if(t-1>=0&&null===i[e][t-1]){let l=!1,n=Array.from(i,t=>Array.from(t));if(n[e][t-1]=n[e][t],n[e][t]=null,\"white\"===r?C(n)[y.y][y.x-1]&&(l=!0):k(n)[f.y][f.x-1]&&(l=!0),!l){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*(t-1)+25),l.setAttribute(\"cy\",50*e+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[e][t-1]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t-1,y.y=e):(a.black=!0,f.x=t-1,f.y=e)}),o.appendChild(l),c.push(l)}}let l=\"white\"===r?a.white:a.black;if(!l&&!d){if(!(l=\"white\"===r?b.wLeft:b.bLeft)&&null===i[\"white\"===r?7:0][1]&&null===i[\"white\"===r?7:0][2]&&null===i[\"white\"===r?7:0][3]){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*(t-2)+25),l.setAttribute(\"cy\",50*e+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());let u=i[\"white\"===r?7:0][0];u.setAttribute(\"x\",50*(t-1)),i[e][t-2]=i[e][t],i[e][t-1]=u,i[e][t]=null,i[\"white\"===r?7:0][0]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t-2,y.y=e,b.wLeft=!0):(a.black=!0,f.x=t-2,f.y=e,b.bLeft=!0)}),o.appendChild(l),c.push(l)}if(!(l=(\"white\"===r?b.wRight:b.bRight)||(\"white\"===r?a.white:a.black))&&null===i[\"white\"===r?7:0][5]&&null===i[\"white\"===r?7:0][6]){let l=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");l.setAttribute(\"cx\",50*(t+2)+25),l.setAttribute(\"cy\",50*e+25),l.setAttribute(\"r\",13),l.setAttribute(\"class\",\"moveLocation\"),l.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.addEventListener(\"click\",n=>{s.setAttribute(\"x\",l.getAttribute(\"cx\")-25),s.setAttribute(\"y\",l.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());let u=i[\"white\"===r?7:0][7];u.setAttribute(\"x\",50*(t+1)),i[e][t+2]=i[e][t],i[e][t+1]=u,i[e][t]=null,i[\"white\"===r?7:0][7]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?(a.white=!0,y.x=t+2,y.y=e,b.wRight=!0):(a.black=!0,f.x=t+2,f.y=e,b.bRight=!0)}),o.appendChild(l),c.push(l)}}}(t/50,e/50,l)}}function m(t,e,r){for(let l=t+1;l<8;l++){if(null!==i[e][l]){if(_(i[e][l])!==r){let n=!1,u=Array.from(i,t=>Array.from(t));if(u[e][l]=u[e][t],u[e][t]=null,\"white\"===r?C(u)[y.y][y.x]&&(n=!0):k(u)[f.y][f.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*l+25),n.setAttribute(\"cy\",50*e+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",u=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e][l]),i[e][l]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?0===t?b.wLeft=!0:b.wRight=!0:0===t?b.bLeft=!0:b.bRight=!0}),o.appendChild(n),c.push(n)}}break}let n=!1,u=Array.from(i,t=>Array.from(t));if(u[e][l]=u[e][t],u[e][t]=null,\"white\"===r?C(u)[y.y][y.x]&&(n=!0):k(u)[f.y][f.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*l+25),n.setAttribute(\"cy\",50*e+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",u=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[e][l]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?0===t?b.wLeft=!0:b.wRight=!0:0===t?b.bLeft=!0:b.bRight=!0}),o.appendChild(n),c.push(n)}}for(let l=t-1;l>=0;l--){if(null!==i[e][l]){if(_(i[e][l])!==r){let n=!1,u=Array.from(i,t=>Array.from(t));if(u[e][l]=u[e][t],u[e][t]=null,\"white\"===r?C(u)[y.y][y.x]&&(n=!0):k(u)[f.y][f.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*l+25),n.setAttribute(\"cy\",50*e+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",u=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e][l]),i[e][l]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?0===t?b.wLeft=!0:b.wRight=!0:0===t?b.bLeft=!0:b.bRight=!0}),o.appendChild(n),c.push(n)}}break}let n=!1,u=Array.from(i,t=>Array.from(t));if(u[e][l]=u[e][t],u[e][t]=null,\"white\"===r?C(u)[y.y][y.x]&&(n=!0):k(u)[f.y][f.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*l+25),n.setAttribute(\"cy\",50*e+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",u=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[e][l]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?0===t?b.wLeft=!0:b.wRight=!0:0===t?b.bLeft=!0:b.bRight=!0}),o.appendChild(n),c.push(n)}}for(let l=e+1;l<8;l++){if(null!==i[l][t]){if(_(i[l][t])!==r){let n=!1,u=Array.from(i,t=>Array.from(t));if(u[l][t]=u[e][t],u[e][t]=null,\"white\"===r?C(u)[y.y][y.x]&&(n=!0):k(u)[f.y][f.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*t+25),n.setAttribute(\"cy\",50*l+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",u=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[l][t]),i[l][t]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?0===t?b.wLeft=!0:b.wRight=!0:0===t?b.bLeft=!0:b.bRight=!0}),o.appendChild(n),c.push(n)}}break}let n=!1,u=Array.from(i,t=>Array.from(t));if(u[l][t]=u[e][t],u[e][t]=null,\"white\"===r?C(u)[y.y][y.x]&&(n=!0):k(u)[f.y][f.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*t+25),n.setAttribute(\"cy\",50*l+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",u=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[l][t]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?0===t?b.wLeft=!0:b.wRight=!0:0===t?b.bLeft=!0:b.bRight=!0}),o.appendChild(n),c.push(n)}}for(let l=e-1;l>=0;l--){if(null!==i[l][t]){if(_(i[l][t])!==r){let n=!1,u=Array.from(i,t=>Array.from(t));if(u[l][t]=u[e][t],u[e][t]=null,\"white\"===r?C(u)[y.y][y.x]&&(n=!0):k(u)[f.y][f.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*t+25),n.setAttribute(\"cy\",50*l+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",u=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[l][t]),i[l][t]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?0===t?b.wLeft=!0:b.wRight=!0:0===t?b.bLeft=!0:b.bRight=!0}),o.appendChild(n),c.push(n)}}break}let n=!1,u=Array.from(i,t=>Array.from(t));if(u[l][t]=u[e][t],u[e][t]=null,\"white\"===r?C(u)[y.y][y.x]&&(n=!0):k(u)[f.y][f.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*t+25),n.setAttribute(\"cy\",50*l+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",u=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[l][t]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v(),\"white\"===r?0===t?b.wLeft=!0:b.wRight=!0:0===t?b.bLeft=!0:b.bRight=!0}),o.appendChild(n),c.push(n)}}}function x(t,e,r){for(let l=1;e+l<8&&t+l<8;l++){let n=!1,u=Array.from(i,t=>Array.from(t));if(u[e+l][t+l]=u[e][t],u[e][t]=null,\"white\"===r?C(u)[y.y][y.x]&&(n=!0):k(u)[f.y][f.x]&&(n=!0),!n){if(null!==i[e+l][t+l]){if(_(i[e+l][t+l])!==r){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",50*(t+l)+25),r.setAttribute(\"cy\",50*(e+l)+25),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",n=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e+l][t+l]),i[e+l][t+l]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(r),c.push(r)}break}let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*(t+l)+25),n.setAttribute(\"cy\",50*(e+l)+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",r=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[e+l][t+l]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(n),c.push(n)}}for(let l=1;e-l>=0&&t-l>=0;l++){let n=!1,u=Array.from(i,t=>Array.from(t));if(u[e-l][t-l]=u[e][t],u[e][t]=null,\"white\"===r?C(u)[y.y][y.x]&&(n=!0):k(u)[f.y][f.x]&&(n=!0),!n){if(null!==i[e-l][t-l]){if(_(i[e-l][t-l])!==r){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",50*(t-l)+25),r.setAttribute(\"cy\",50*(e-l)+25),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",n=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e-l][t-l]),i[e-l][t-l]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(r),c.push(r)}break}let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*(t-l)+25),n.setAttribute(\"cy\",50*(e-l)+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",r=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[e-l][t-l]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(n),c.push(n)}}for(let l=1;e+l<8&&t-l>=0;l++){let n=!1,u=Array.from(i,t=>Array.from(t));if(u[e+l][t-l]=u[e][t],u[e][t]=null,\"white\"===r?C(u)[y.y][y.x]&&(n=!0):k(u)[f.y][f.x]&&(n=!0),!n){if(null!==i[e+l][t-l]){if(_(i[e+l][t-l])!==r){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",50*(t-l)+25),r.setAttribute(\"cy\",50*(e+l)+25),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",n=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e+l][t-l]),i[e+l][t-l]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(r),c.push(r)}break}let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*(t-l)+25),n.setAttribute(\"cy\",50*(e+l)+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",r=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[e+l][t-l]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(n),c.push(n)}}for(let l=1;e-l>=0&&t+l<8;l++){let n=!1,u=Array.from(i,t=>Array.from(t));if(u[e-l][t+l]=u[e][t],u[e][t]=null,\"white\"===r?C(u)[y.y][y.x]&&(n=!0):k(u)[f.y][f.x]&&(n=!0),!n){if(null!==i[e-l][t+l]){if(_(i[e-l][t+l])!==r){let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");r.setAttribute(\"cx\",50*(t+l)+25),r.setAttribute(\"cy\",50*(e-l)+25),r.setAttribute(\"r\",13),r.setAttribute(\"class\",\"moveLocation\"),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),r.addEventListener(\"click\",n=>{s.setAttribute(\"x\",r.getAttribute(\"cx\")-25),s.setAttribute(\"y\",r.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());o.removeChild(i[e-l][t+l]),i[e-l][t+l]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(r),c.push(r)}break}let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*(t+l)+25),n.setAttribute(\"cy\",50*(e-l)+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",r=>{s.setAttribute(\"x\",n.getAttribute(\"cx\")-25),s.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<c.length;)o.removeChild(c.shift());i[e-l][t+l]=i[e][t],i[e][t]=null,h=\"white\"===h?\"black\":\"white\",A.x=-1,A.y=-1,v()}),o.appendChild(n),c.push(n)}}}function v(){n=k(i),u=C(i)}function k(t){let e=[[],[],[],[],[],[],[],[]];for(let t=0;t<8;t++)for(let r=0;r<8;r++)e[r][t]=!1;for(let r=0;r<8;r++)for(let i=0;i<8;i++)if(null!==t[i][r]&&\"black\"!==_(t[i][r]))switch(R(t[i][r])){case\"pawn\":E(r,i,e,\"white\");break;case\"knight\":L(r,i,e);break;case\"bishop\":N(r,i,e,t);break;case\"rook\":S(r,i,e,t);break;case\"queen\":S(r,i,e,t),N(r,i,e,t);case\"king\":P(r,i,e)}return e}function C(t){let e=[[],[],[],[],[],[],[],[]];for(let t=0;t<8;t++)for(let r=0;r<8;r++)e[r][t]=!1;for(let r=0;r<8;r++)for(let i=0;i<8;i++)if(null!==t[i][r]&&\"white\"!==_(t[i][r]))switch(R(t[i][r])){case\"pawn\":E(r,i,e,\"black\");break;case\"knight\":L(r,i,e);break;case\"bishop\":N(r,i,e,t);break;case\"rook\":S(r,i,e,t);break;case\"queen\":S(r,i,e,t),N(r,i,e,t);break;case\"king\":P(r,i,e)}return e}function E(t,e,r,i){\"white\"===i?(t-1>=0&&(r[e-1][t-1]=!0),t+1<8&&(r[e-1][t+1]=!0)):(t-1>=0&&(r[e+1][t-1]=!0),t+1<8&&(r[e+1][t+1]=!0))}function L(t,e,r){e+2<8&&t+1<8&&(r[e+2][t+1]=!0),e+2<8&&t-1>=0&&(r[e+2][t-1]=!0),e-2>=0&&t+1<8&&(r[e-2][t+1]=!0),e-2>=0&&t-1>=0&&(r[e-2][t-1]=!0),e+1<8&&t+2<8&&(r[e+1][t+2]=!0),e+1<8&&t-2>=0&&(r[e+1][t-2]=!0),e-1>=0&&t+2<8&&(r[e-1][t+2]=!0),e-1>=0&&t-2>=0&&(r[e-1][t-2]=!0)}function N(t,e,r,i){for(let l=1;t+l<8&&e+l<8&&(r[e+l][t+l]=!0,null===i[e+l][t+l]);l++);for(let l=1;t-l>=0&&e-l>=0&&(r[e-l][t-l]=!0,null===i[e-l][t-l]);l++);for(let l=1;t-l>=0&&e+l<8&&(r[e+l][t-l]=!0,null===i[e+l][t-l]);l++);for(let l=1;t+l<8&&e-l>=0&&(r[e-l][t+l]=!0,null===i[e-l][t+l]);l++);}function S(t,e,r,i){for(let l=1;t+l<8&&(r[e][t+l]=!0,null===i[e][t+l]);l++);for(let l=1;t-l>=0&&(r[e][t-l]=!0,null===i[e][t-l]);l++);for(let l=1;e+l<8&&(r[e+l][t]=!0,null===i[e+l][t]);l++);for(let l=1;e-l>=0&&(r[e-l][t]=!0,null===i[e-l][t]);l++);}function P(t,e,r){e+1<8&&t+1<8&&(r[e+1][t+1]=!0),e+1<8&&t-1>=0&&(r[e+1][t-1]=!0),e-1>=0&&t+1<8&&(r[e-1][t+1]=!0),e-1>=0&&t-1>=0&&(r[e-1][t-1]=!0),e+1<8&&(r[e+1][t]=!0),e-1>=0&&(r[e-1][t]=!0),t+1<8&&(r[e][t+1]=!0),t-1>=0&&(r[e][t-1]=!0)}function _(t){return t.getAttribute(\"href\").slice(0,t.getAttribute(\"href\").length-4).toLowerCase().split(\"_\")[1]}function R(t){return t.getAttribute(\"href\").slice(0,t.getAttribute(\"href\").length-4).toLowerCase().split(\"_\")[0]}function B(t,e,r){let l=\"white\"===r;if(null===i[l?e-1:e+1][t]){let r=Array.from(i,t=>Array.from(t));if(r[l?e-1:e+1][t]=r[e][t],r[e][t]=null,l){if(!C(r)[y.y][y.x])return console.log(\"up1\",t,e),!0}else if(!k(r)[f.y][f.x])return console.log(\"up1\",t,e),!0;if(null===i[l?e-2:e+2][t])if((r=Array.from(i,t=>Array.from(t)))[l?e-2:e+2][t]=r[e][t],r[e][t]=null,l){if(!C(r)[y.y][y.x])return console.log(\"up2\",t,e),!0}else if(!k(r)[f.y][f.x])return console.log(\"up2\",t,e),!0}if(t+1<8&&null!==i[l?e-1:e+1][t+1]&&_(i[l?e-1:e+1][t+1])!==r)if(boardCopy=Array.from(i,t=>Array.from(t)),boardCopy[l?e-1:e+1][t+1]=boardCopy[e][t],boardCopy[e][t]=null,l){if(!C(boardCopy)[y.y][y.x])return console.log(\"up1right1\",t,e),!0}else if(!k(boardCopy)[f.y][f.x])return console.log(\"up1right1\",t,e),!0;if(t-1>=0&&null!==i[l?e-1:e+1][t-1]&&_(i[l?e-1:e+1][t-1])!==r)if(boardCopy=Array.from(i,t=>Array.from(t)),boardCopy[l?e-1:e+1][t-1]=boardCopy[e][t],boardCopy[e][t]=null,l){if(!C(boardCopy)[y.y][y.x])return console.log(\"up1left1\",t,e),!0}else if(!k(boardCopy)[f.y][f.x])return console.log(\"up1left1\",t,e),!0;if(A.x===t-1&&A.y===e&&null===i[l?e-1:e+1][t-1])if(boardCopy=Array.from(i,t=>Array.from(t)),boardCopy[l?e-1:e+1][t-1]=boardCopy[e][t],boardCopy[e][t]=null,boardCopy[e][t-1]=null,l){if(!C(boardCopy)[y.y][y.x])return console.log(\"epleft\",t,e),!0}else if(!k(boardCopy)[f.y][f.x])return console.log(\"epleft\",t,e),!0;if(A.x===t+1&&A.y===e&&null==i[l?e-1:e+1][t+1])if(boardCopy=Array.from(i,t=>Array.from(t)),boardCopy[l?e-1:e+1][t-1]=boardCopy[e][t],boardCopy[e][t]=null,boardCopy[e][t+1]=null,l){if(!C(boardCopy)[y.y][y.x])return console.log(\"epright\",t,e),!0}else if(!k(boardCopy)[f.y][f.x])return console.log(\"epright\",t,e),!0;return!1}function O(t,e,r){if(e<=5&&t<=6&&(null===i[e+2][t+1]||_(i[e+2][t+1])!==r))if(boardCopy=Array.from(i,t=>Array.from(t)),boardCopy[e+2][t+1]=boardCopy[e][t],boardCopy[e][t]=null,\"white\"===r){if(!C(boardCopy)[y.y][y.x])return!0}else if(!k(boardCopy)[f.y][f.x])return!0;if(e>=2&&t>=1&&(null===i[e-2][t-1]||_(i[e-2][t-1])!==r))if(boardCopy=Array.from(i,t=>Array.from(t)),boardCopy[e-2][t-1]=boardCopy[e][t],boardCopy[e][t]=null,\"white\"===r){if(!C(boardCopy)[y.y][y.x])return!0}else if(!k(boardCopy)[f.y][f.x])return!0;if(e<=5&&t>=1&&(null===i[e+2][t-1]||_(i[e+2][t-1])!==r))if(boardCopy=Array.from(i,t=>Array.from(t)),boardCopy[e+2][t-1]=boardCopy[e][t],boardCopy[e][t]=null,\"white\"===r){if(!C(boardCopy)[y.y][y.x])return!0}else if(!k(boardCopy)[f.y][f.x])return!0;if(e>=2&&t<=6&&(null===i[e-2][t+1]||_(i[e-2][t+1])!==r))if(boardCopy=Array.from(i,t=>Array.from(t)),boardCopy[e-2][t+1]=boardCopy[e][t],boardCopy[e][t]=null,\"white\"===r){if(!C(boardCopy)[y.y][y.x])return!0}else if(!k(boardCopy)[f.y][f.x])return!0;if(e<=6&&t<=5&&(null===i[e+1][t+2]||_(i[e+1][t+2])!==r))if(boardCopy=Array.from(i,t=>Array.from(t)),boardCopy[e+1][t+2]=boardCopy[e][t],boardCopy[e][t]=null,\"white\"===r){if(!C(boardCopy)[y.y][y.x])return!0}else if(!k(boardCopy)[f.y][f.x])return!0;if(e>=1&&t>=2&&(null===i[e-1][t-2]||_(i[e-1][t-2])!==r))if(boardCopy=Array.from(i,t=>Array.from(t)),boardCopy[e-1][t-2]=boardCopy[e][t],boardCopy[e][t]=null,\"white\"===r){if(!C(boardCopy)[y.y][y.x])return!0}else if(!k(boardCopy)[f.y][f.x])return!0;if(e>=1&&t<=5&&(null===i[e-1][t+2]||_(i[e-1][t+2])!==r))if(boardCopy=Array.from(i,t=>Array.from(t)),boardCopy[e-1][t+2]=boardCopy[e][t],boardCopy[e][t]=null,\"white\"===r){if(!C(boardCopy)[y.y][y.x])return!0}else if(!k(boardCopy)[f.y][f.x])return!0;if(e<=6&&t>=2&&(null===i[e+1][t-2]||_(i[e+1][t-2])!==r))if(boardCopy=Array.from(i,t=>Array.from(t)),boardCopy[e+1][t-2]=boardCopy[e][t],boardCopy[e][XMLHttpRequestUpload]=null,\"white\"===r){if(!C(boardCopy)[y.y][y.x])return!0}else if(!k(boardCopy)[f.y][f.x])return!0;return!1}function W(t,e,r){for(let l=1;e+l<8&&t+l<8;l++){let o=Array.from(i,t=>Array.from(t));if(o[e+l][t+l]=o[e][t],o[e][t]=null,\"white\"===r){if(!C(o)[y.y][y.x])return!0}else if(!k(o)[f.y][f.x])return!0}for(let l=1;e-l>=0&&t-l>=0;l++){let o=Array.from(i,t=>Array.from(t));if(o[e-l][t-l]=o[e][t],o[e][t]=null,\"white\"===r){if(!C(o)[y.y][y.x])return!0}else if(!k(o)[f.y][f.x])return!0}for(let l=1;e+l<8&&t-l>=0;l++){let o=Array.from(i,t=>Array.from(t));if(o[e+l][t-l]=o[e][t],o[e][t]=null,\"white\"===r){if(!C(o)[y.y][y.x])return!0}else if(!k(o)[f.y][f.x])return!0}for(let l=1;e-l>=0&&t+l<8;l++){let o=Array.from(i,t=>Array.from(t));if(o[e-l][t+l]=o[e][t],o[e][t]=null,\"white\"===r){if(!C(o)[y.y][y.x])return!0}else if(!k(o)[f.y][f.x])return!0}return!1}function j(t,e,r){for(let l=t+1;l<8;l++){if(null!==i[e][l]){if(_(i[e][l])!==r){let o=Array.from(i,t=>Array.from(t));if(o[e][l]=o[e][t],o[e][t]=null,\"white\"===r){if(!C(o)[y.y][y.x])return!0}else if(!k(o)[f.y][f.x])return!0}break}let o=Array.from(i,t=>Array.from(t));if(o[e][l]=o[e][t],o[e][t]=null,\"white\"===r){if(!C(o)[y.y][y.x])return!0}else if(!k(o)[f.y][f.x])return!0}for(let l=t-1;l>=0;l--){if(null!==i[e][l]){if(_(i[e][l])!==r){let o=Array.from(i,t=>Array.from(t));if(o[e][l]=o[e][t],o[e][t]=null,\"white\"===r){if(!C(o)[y.y][y.x])return!0}else if(!k(o)[f.y][f.x])return!0}break}let o=Array.from(i,t=>Array.from(t));if(o[e][l]=o[e][t],o[e][t]=null,\"white\"===r){if(!C(o)[y.y][y.x])return!0}else if(!k(o)[f.y][f.x])return!0}for(let l=e+1;l<8;l++){if(null!==i[l][t]){if(_(i[l][t])!==r){let o=Array.from(i,t=>Array.from(t));if(o[l][t]=o[e][t],o[e][t]=null,\"white\"===r){if(!C(o)[y.y][y.x])return!0}else if(!k(o)[f.y][f.x])return!0}break}let o=Array.from(i,t=>Array.from(t));if(o[l][t]=o[e][t],o[e][t]=null,\"white\"===r){if(!C(o)[y.y][y.x])return!0}else if(!k(o)[f.y][f.x])return!0}for(let l=e-1;l>=0;l--){if(null!==i[l][t]){if(_(i[l][t])!==r){let o=Array.from(i,t=>Array.from(t));if(o[l][t]=o[e][t],o[e][t]=null,\"white\"===r){if(!C(o)[y.y][y.x])return!0}else if(!k(o)[f.y][f.x])return!0}break}let o=Array.from(i,t=>Array.from(t));if(o[l][t]=o[e][t],o[e][t]=null,\"white\"===r){if(!C(o)[y.y][y.x])return!0}else if(!k(o)[f.y][f.x])return!0}return!1}function M(t,e,r){if(e+1<8&&t+1<8&&null!==i[e+1][t+1]&&_(i[e+1][t+1])!==r){let l=Array.from(i,t=>Array.from(t));if(l[e+1][t+1]=l[e][t],l[e][t]=null,\"white\"===r){if(!C(l)[y.y+1][y.x+1])return!0}else if(!k(l)[f.y+1][f.x+1])return!0}else if(e+1<8&&t+1<8&&null===i[e+1][t+1]){let l=Array.from(i,t=>Array.from(t));if(l[e+1][t+1]=l[e][t],l[e][t]=null,\"white\"===r){if(!C(l)[y.y+1][y.x+1])return!0}else if(!k(l)[f.y+1][f.x+1])return!0}if(e-1>=0&&t-1>=0&&null!==i[e-1][t-1]&&_(i[e-1][t-1])!==r){let l=Array.from(i,t=>Array.from(t));if(l[e-1][t-1]=l[e][t],l[e][t]=null,\"white\"===r){if(!C(l)[y.y-1][y.x-1])return!0}else if(!k(l)[f.y-1][f.x-1])return!0}else if(e-1>=0&&t-1>=0&&null===i[e-1][t-1]){let l=Array.from(i,t=>Array.from(t));if(l[e-1][t-1]=l[e][t],l[e][t]=null,\"white\"===r){if(!C(l)[y.y-1][y.x-1])return!0}else if(!k(l)[f.y-1][f.x-1])return!0}if(e-1>=0&&t+1<8&&null!==i[e-1][t+1]&&_(i[e-1][t+1])!==r){let l=Array.from(i,t=>Array.from(t));if(l[e-1][t-1]=l[e][t],l[e][t]=null,\"white\"===r){if(!C(l)[y.y-1][y.x-1])return!0}else if(!k(l)[f.y-1][f.x-1])return!0}else if(e-1>=0&&t+1<8&&null===i[e-1][t+1]){let l=Array.from(i,t=>Array.from(t));if(l[e-1][t+1]=l[e][t],l[e][t]=null,\"white\"===r){if(!C(l)[y.y-1][y.x+1])return!0}else if(!k(l)[f.y-1][f.x+1])return!0}if(e+1<8&&t-1>=0&&null!==i[e+1][t-1]&&_(i[e+1][t-1])!==r){let l=Array.from(i,t=>Array.from(t));if(l[e+1][t-1]=l[e][t],l[e][t]=null,\"white\"===r){if(!C(l)[y.y+1][y.x-1])return!0}else if(!k(l)[f.y+1][f.x-1])return!0}else if(e+1<8&&t-1>=0&&null===i[e+1][t-1]){let l=Array.from(i,t=>Array.from(t));if(l[e+1][t-1]=l[e][t],l[e][t]=null,\"white\"===r){if(!C(l)[y.y+1][y.x-1])return!0}else if(!k(l)[f.y+1][f.x-1])return!0}if(e+1<8&&null!==i[e+1][t]&&_(i[e+1][t])!==r){let l=Array.from(i,t=>Array.from(t));if(l[e+1][t]=l[e][t],l[e][t]=null,\"white\"===r){if(!C(l)[y.y+1][y.x])return!0}else if(!k(l)[f.y+1][f.x])return!0}else if(e+1<8&&null===i[e+1][t]){let l=Array.from(i,t=>Array.from(t));if(l[e+1][t]=l[e][t],l[e][t]=null,\"white\"===r){if(!C(l)[y.y+1][y.x])return!0}else if(!k(l)[f.y+1][f.x])return!0}if(e-1>=0&&null!==i[e-1][t]&&_(i[e-1][t])!==r){let l=Array.from(i,t=>Array.from(t));if(l[e-1][t]=l[e][t],l[e][t]=null,\"white\"===r){if(!C(l)[y.y-1][y.x])return!0}else if(!k(l)[f.y-1][f.x])return!0}else if(e-1>=0&&null===i[e-1][t]){let l=Array.from(i,t=>Array.from(t));if(l[e-1][t]=l[e][t],l[e][t]=null,\"white\"===r){if(!C(l)[y.y-1][y.x])return!0}else if(!k(l)[f.y-1][f.x])return!0}if(t+1<8&&null!==i[e][t+1]&&_(i[e][t+1])!==r){let l=Array.from(i,t=>Array.from(t));if(l[e][t+1]=l[e][t],l[e][t]=null,\"white\"===r){if(!C(l)[y.y][y.x+1])return!0}else if(!k(l)[f.y][f.x+1])return!0}else if(t+1<8&&null===i[e][t+1]){let l=Array.from(i,t=>Array.from(t));if(l[e][t+1]=l[e][t],l[e][t]=null,\"white\"===r){if(!C(l)[y.y][y.x+1])return!0}else if(!k(l)[f.y][f.x+1])return!0}if(t-1>=0&&null!==i[e][t-1]&&_(i[e][t-1])!==r){let l=Array.from(i,t=>Array.from(t));if(l[e][t-1]=l[e][t],l[e][t]=null,\"white\"===r){if(!C(l)[y.y][y.x-1])return!0}else if(!k(l)[f.y][f.x-1])return!0}else if(t-1>=0&&null===i[e][t-1]){let l=Array.from(i,t=>Array.from(t));if(l[e][t-1]=l[e][t],l[e][t]=null,\"white\"===r){if(!C(l)[y.y][y.x-1])return!0}else if(!k(l)[f.y][f.x-1])return!0}return!1}window.addEventListener(\"load\",t=>{l=document.getElementById(\"board\"),o=document.getElementById(\"g\");for(let t=0;t<64;t++){let e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"rect\");e.setAttribute(\"x\",50*Math.floor(t/8)),e.setAttribute(\"y\",t%8*50),e.setAttribute(\"width\",\"50\"),e.setAttribute(\"height\",\"50\"),e.setAttribute(\"class\",\"tile\"),e.setAttribute(\"fill\",(Math.floor(t/8)+t%8)%2==0?\"white\":\"black\"),o.appendChild(e)}!function(){for(let t=0;t<8;t++){let e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\");e.setAttribute(\"href\",\"Pawn_White.png\"),e.setAttribute(\"x\",50*t),e.setAttribute(\"y\",300),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(e);let r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\");r.setAttribute(\"href\",\"Pawn_Black.png\"),r.setAttribute(\"x\",50*t),r.setAttribute(\"y\",50),r.setAttribute(\"width\",50),r.setAttribute(\"height\",50),r.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(r),i[1][t]=r,i[6][t]=e}for(let t=0;t<8;t++)i[2][t]=null,i[3][t]=null,i[4][t]=null,i[5][t]=null;let t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\");t.setAttribute(\"href\",\"Rook_White.png\"),t.setAttribute(\"x\",0),t.setAttribute(\"y\",350),t.setAttribute(\"width\",50),t.setAttribute(\"height\",50),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(t);let e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\");e.setAttribute(\"href\",\"Rook_Black.png\"),e.setAttribute(\"x\",0),e.setAttribute(\"y\",0),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(e),i[0][0]=e,i[7][0]=t,(t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Rook_White.png\"),t.setAttribute(\"x\",350),t.setAttribute(\"y\",350),t.setAttribute(\"width\",50),t.setAttribute(\"height\",50),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(t),(e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Rook_Black.png\"),e.setAttribute(\"x\",350),e.setAttribute(\"y\",0),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(e),i[0][7]=e,i[7][7]=t,(t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Knight_White.png\"),t.setAttribute(\"x\",300),t.setAttribute(\"y\",350),t.setAttribute(\"width\",50),t.setAttribute(\"height\",50),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(t),(e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Knight_Black.png\"),e.setAttribute(\"x\",300),e.setAttribute(\"y\",0),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(e),i[0][6]=e,i[7][6]=t,(t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Knight_White.png\"),t.setAttribute(\"x\",50),t.setAttribute(\"y\",350),t.setAttribute(\"width\",50),t.setAttribute(\"height\",50),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(t),(e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Knight_Black.png\"),e.setAttribute(\"x\",50),e.setAttribute(\"y\",0),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(e),i[0][1]=e,i[7][1]=t,(t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Bishop_White.png\"),t.setAttribute(\"x\",250),t.setAttribute(\"y\",350),t.setAttribute(\"width\",50),t.setAttribute(\"height\",50),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(t),(e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Bishop_Black.png\"),e.setAttribute(\"x\",250),e.setAttribute(\"y\",0),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(e),i[0][5]=e,i[7][5]=t,(t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Bishop_White.png\"),t.setAttribute(\"x\",100),t.setAttribute(\"y\",350),t.setAttribute(\"width\",50),t.setAttribute(\"height\",50),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(t),(e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Bishop_Black.png\"),e.setAttribute(\"x\",100),e.setAttribute(\"y\",0),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(e),i[0][2]=e,i[7][2]=t,(t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"King_White.png\"),t.setAttribute(\"x\",200),t.setAttribute(\"y\",350),t.setAttribute(\"width\",50),t.setAttribute(\"height\",50),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(t),(e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"King_Black.png\"),e.setAttribute(\"x\",200),e.setAttribute(\"y\",0),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(e),i[0][4]=e,i[7][4]=t,(t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Queen_White.png\"),t.setAttribute(\"x\",150),t.setAttribute(\"y\",350),t.setAttribute(\"width\",50),t.setAttribute(\"height\",50),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(t),(e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Queen_Black.png\"),e.setAttribute(\"x\",150),e.setAttribute(\"y\",0),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.appendChild(e),i[0][3]=e,i[7][3]=t}(),i.forEach(t=>{t.forEach(t=>{null!==t&&t.addEventListener(\"click\",t=>{let e=Number(t.toElement.getAttribute(\"x\")),r=Number(t.toElement.getAttribute(\"y\")),i=t.toElement.getAttribute(\"href\"),l=i.slice(0,i.length-4).toLowerCase(),n=l.split(\"_\")[0],u=l.split(\"_\")[1];for(let t=0;t<c.length;)o.removeChild(c.shift());s=t.toElement,g(e,r,n,u)})})}),v();let e=setInterval(()=>{if(d&&function(){for(let t=0;t<8;t++)for(let e=0;e<8;e++)if(null!==i[e][t]&&_(i[e][t])===h)switch(R(i[e][t])){case\"pawn\":if(B(t,e,h))return console.log(\"pawn\"),!1;break;case\"knight\":if(O(t,e,h))return console.log(\"knight\"),!1;break;case\"bishop\":if(W(t,e,h))return console.log(\"bishop\"),!1;break;case\"rook\":if(j(t,e,h))return console.log(\"rook\"),!1;break;case\"queen\":if(W(t,e,h)||j(t,e,h))return console.log(\"queen\"),!1;break;case\"king\":if(M(t,e,h))return console.log(\"king\"),!1}return!0}()&&(alert(\"Game Over!\\n\"+(\"white\"===h?\"Black\":\"White\")+\" wins!\"),clearInterval(e)),\"white\"===h)if(u[y.y][y.x]){null!==w&&(o.removeChild(w),w=null);let t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");t.setAttribute(\"cx\",50*y.x+25),t.setAttribute(\"cy\",50*y.y+25),t.setAttribute(\"r\",25),t.setAttribute(\"fill\",\"url(#grad1)\"),t.setAttribute(\"id\",\"checkCircle\"),t.addEventListener(\"click\",t=>{p=t}),o.appendChild(t),w=t,d=!0}else null!==w?(o.removeChild(w),w=null,d=!1):d=!1;else if(\"black\"===h)if(n[f.y][f.x]){null!==w&&(o.removeChild(w),w=null);let t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");t.setAttribute(\"cx\",50*f.x+25),t.setAttribute(\"cy\",50*f.y+25),t.setAttribute(\"r\",25),t.setAttribute(\"fill\",\"url(#grad1)\"),t.setAttribute(\"id\",\"checkCircle\"),t.addEventListener(\"click\",t=>{p=t}),o.appendChild(t),w=t,d=!0}else null!==w?(o.removeChild(w),w=null,d=!1):d=!1;null!==p&&(i[\"white\"===h?y.y:f.y][\"white\"===h?y.x:f.x].dispatchEvent(p),p=null)},250)}),document.addEventListener(\"click\",t=>{if(t.target===document.body||t.target===l||\"tile\"===t.target.getAttribute(\"class\")){s=null;for(let t=0;t<c.length;)o.removeChild(c.shift())}})}]);","extractedComments":[]}