{"code":"!function(e){var t={};function l(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=t,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)l.d(i,n,function(t){return e[t]}.bind(null,n));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,\"a\",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p=\"\",l(l.s=0)}([function(e,t,l){\"use strict\";function i(e,t,l,i){if(\"moveLocation\"===e){if(void 0===i)return void console.log(\"You must provide behavior for the moveLocation\");let e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");return e.setAttribute(\"cx\",50*t+25),e.setAttribute(\"cy\",50*l+25),e.setAttribute(\"r\",14),e.setAttribute(\"class\",\"moveLocation\"),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),e.addEventListener(\"click\",i),b.appendChild(e),e}if(\"checkCircle\"!==e){if(void 0===i)return void console.log(\"You must provide behavior for the piece!\");let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\");return n.setAttribute(\"href\",e),n.setAttribute(\"x\",50*t),n.setAttribute(\"y\",50*l),n.setAttribute(\"width\",50),n.setAttribute(\"height\",50),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",i),b.appendChild(n),n}}function n(e){return e.getAttribute(\"href\").slice(0,e.getAttribute(\"href\").length-4).toLowerCase().split(\"_\")[1]}function r(e){return e.getAttribute(\"href\").slice(0,e.getAttribute(\"href\").length-4).toLowerCase().split(\"_\")[0]}function o(e){switch(e){case 0:return\"a\";case 1:return\"b\";case 2:return\"c\";case 3:return\"d\";case 4:return\"e\";case 5:return\"f\";case 6:return\"g\";case 7:return\"h\"}}function u(e,t,l,i){\"white\"===i?(e-1>=0&&(l[t-1][e-1]=!0),e+1<8&&(l[t-1][e+1]=!0)):(e-1>=0&&(l[t+1][e-1]=!0),e+1<8&&(l[t+1][e+1]=!0))}function a(e,t,l){t+2<8&&e+1<8&&(l[t+2][e+1]=!0),t+2<8&&e-1>=0&&(l[t+2][e-1]=!0),t-2>=0&&e+1<8&&(l[t-2][e+1]=!0),t-2>=0&&e-1>=0&&(l[t-2][e-1]=!0),t+1<8&&e+2<8&&(l[t+1][e+2]=!0),t+1<8&&e-2>=0&&(l[t+1][e-2]=!0),t-1>=0&&e+2<8&&(l[t-1][e+2]=!0),t-1>=0&&e-2>=0&&(l[t-1][e-2]=!0)}function d(e,t,l,i){for(let n=1;e+n<8&&t+n<8&&(l[t+n][e+n]=!0,null===i[t+n][e+n]);n++);for(let n=1;e-n>=0&&t-n>=0&&(l[t-n][e-n]=!0,null===i[t-n][e-n]);n++);for(let n=1;e-n>=0&&t+n<8&&(l[t+n][e-n]=!0,null===i[t+n][e-n]);n++);for(let n=1;e+n<8&&t-n>=0&&(l[t-n][e+n]=!0,null===i[t-n][e+n]);n++);}function c(e,t,l,i){for(let n=1;e+n<8&&(l[t][e+n]=!0,null===i[t][e+n]);n++);for(let n=1;e-n>=0&&(l[t][e-n]=!0,null===i[t][e-n]);n++);for(let n=1;t+n<8&&(l[t+n][e]=!0,null===i[t+n][e]);n++);for(let n=1;t-n>=0&&(l[t-n][e]=!0,null===i[t-n][e]);n++);}function h(e,t,l){t+1<8&&e+1<8&&(l[t+1][e+1]=!0),t+1<8&&e-1>=0&&(l[t+1][e-1]=!0),t-1>=0&&e+1<8&&(l[t-1][e+1]=!0),t-1>=0&&e-1>=0&&(l[t-1][e-1]=!0),t+1<8&&(l[t+1][e]=!0),t-1>=0&&(l[t-1][e]=!0),e+1<8&&(l[t][e+1]=!0),e-1>=0&&(l[t][e-1]=!0)}function m(e,t,l){let i=\"white\"===l;if(null===(void 0)[i?t-1:t+1][e]){let l=Array.from(void 0,e=>Array.from(e));if(l[i?t-1:t+1][e]=l[t][e],l[t][e]=null,i){if(!updateBlack(l)[whiteKing.y][whiteKing.x])return console.log(\"up1\",e,t),!0}else if(!updateWhite(l)[blackKing.y][blackKing.x])return console.log(\"up1\",e,t),!0;if(null===(void 0)[i?t-2:t+2][e])if((l=Array.from(void 0,e=>Array.from(e)))[i?t-2:t+2][e]=l[t][e],l[t][e]=null,i){if(!updateBlack(l)[whiteKing.y][whiteKing.x])return console.log(\"up2\",e,t),!0}else if(!updateWhite(l)[blackKing.y][blackKing.x])return console.log(\"up2\",e,t),!0}if(e+1<8&&null!==(void 0)[i?t-1:t+1][e+1]&&Utilities.getColor((void 0)[i?t-1:t+1][e+1])!==l){let l=Array.from(void 0,e=>Array.from(e));if(l[i?t-1:t+1][e+1]=l[t][e],l[t][e]=null,i){if(!updateBlack(l)[whiteKing.y][whiteKing.x])return console.log(\"up1right1\",e,t),!0}else if(!updateWhite(l)[blackKing.y][blackKing.x])return console.log(\"up1right1\",e,t),!0}if(e-1>=0&&null!==(void 0)[i?t-1:t+1][e-1]&&Utilities.getColor((void 0)[i?t-1:t+1][e-1])!==l){let l=Array.from(void 0,e=>Array.from(e));if(l[i?t-1:t+1][e-1]=l[t][e],l[t][e]=null,i){if(!updateBlack(l)[whiteKing.y][whiteKing.x])return console.log(\"up1left1\",e,t),!0}else if(!updateWhite(l)[blackKing.y][blackKing.x])return console.log(\"up1left1\",e,t),!0}if(epMove.x===e-1&&epMove.y===t&&null===(void 0)[i?t-1:t+1][e-1]){let l=Array.from(void 0,e=>Array.from(e));if(l[i?t-1:t+1][e-1]=l[t][e],l[t][e]=null,l[t][e-1]=null,i){if(!updateBlack(l)[whiteKing.y][whiteKing.x])return console.log(\"epleft\",e,t),!0}else if(!updateWhite(l)[blackKing.y][blackKing.x])return console.log(\"epleft\",e,t),!0}if(epMove.x===e+1&&epMove.y===t&&null==(void 0)[i?t-1:t+1][e+1]){let l=Array.from(void 0,e=>Array.from(e));if(l[i?t-1:t+1][e-1]=l[t][e],l[t][e]=null,l[t][e+1]=null,i){if(!updateBlack(l)[whiteKing.y][whiteKing.x])return console.log(\"epright\",e,t),!0}else if(!updateWhite(l)[blackKing.y][blackKing.x])return console.log(\"epright\",e,t),!0}return!1}function f(e,t,l){if(t<=5&&e<=6&&(null===(void 0)[t+2][e+1]||Utilities.getColor((void 0)[t+2][e+1])!==l)){let i=Array.from(void 0,e=>Array.from(e));if(i[t+2][e+1]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(i)[blackKing.y][blackKing.x])return!0}if(t>=2&&e>=1&&(null===(void 0)[t-2][e-1]||Utilities.getColor((void 0)[t-2][e-1])!==l)){let i=Array.from(void 0,e=>Array.from(e));if(i[t-2][e-1]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(i)[blackKing.y][blackKing.x])return!0}if(t<=5&&e>=1&&(null===(void 0)[t+2][e-1]||Utilities.getColor((void 0)[t+2][e-1])!==l)){let i=Array.from(void 0,e=>Array.from(e));if(i[t+2][e-1]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(i)[blackKing.y][blackKing.x])return!0}if(t>=2&&e<=6&&(null===(void 0)[t-2][e+1]||Utilities.getColor((void 0)[t-2][e+1])!==l)){let i=Array.from(void 0,e=>Array.from(e));if(i[t-2][e+1]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(i)[blackKing.y][blackKing.x])return!0}if(t<=6&&e<=5&&(null===(void 0)[t+1][e+2]||Utilities.getColor((void 0)[t+1][e+2])!==l)){let i=Array.from(void 0,e=>Array.from(e));if(i[t+1][e+2]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(i)[blackKing.y][blackKing.x])return!0}if(t>=1&&e>=2&&(null===(void 0)[t-1][e-2]||Utilities.getColor((void 0)[t-1][e-2])!==l)){let i=Array.from(void 0,e=>Array.from(e));if(i[t-1][e-2]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(i)[blackKing.y][blackKing.x])return!0}if(t>=1&&e<=5&&(null===(void 0)[t-1][e+2]||Utilities.getColor((void 0)[t-1][e+2])!==l)){let i=Array.from(void 0,e=>Array.from(e));if(i[t-1][e+2]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(i)[blackKing.y][blackKing.x])return!0}if(t<=6&&e>=2&&(null===(void 0)[t+1][e-2]||Utilities.getColor((void 0)[t+1][e-2])!==l)){let i=Array.from(void 0,e=>Array.from(e));if(i[t+1][e-2]=i[t][e],i[t][XMLHttpRequestUpload]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(i)[blackKing.y][blackKing.x])return!0}return!1}function g(e,t,l){for(let i=1;t+i<8&&e+i<8;i++){if(null===(void 0)[t+i][e+i]||Utilities.getColor((void 0)[t+i][e+i])!==l){let n=Array.from(void 0,e=>Array.from(e));if(n[t+i][e+i]=n[t][e],n[t][e]=null,\"white\"===l){if(!updateBlack(n)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(n)[blackKing.y][blackKing.x])return!0}if(null!==(void 0)[t+i][e+1])break}for(let i=1;t-i>=0&&e-i>=0;i++){if(null===(void 0)[t-i][e-i]||Utilities.getColor((void 0)[t-i][e-i])!==l){let n=Array.from(void 0,e=>Array.from(e));if(n[t-i][e-i]=n[t][e],n[t][e]=null,\"white\"===l){if(!updateBlack(n)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(n)[blackKing.y][blackKing.x])return!0}if(null!==(void 0)[t-i][e-i])break}for(let i=1;t+i<8&&e-i>=0;i++){if(null===(void 0)[t+i][e-i]||Utilities.getColor((void 0)[t+i][e-i])!==l){let n=Array.from(void 0,e=>Array.from(e));if(n[t+i][e-i]=n[t][e],n[t][e]=null,\"white\"===l){if(!updateBlack(n)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(n)[blackKing.y][blackKing.x])return!0}if(null===(void 0)[t+i][e-i])break}for(let i=1;t-i>=0&&e+i<8;i++){if(null===(void 0)[t-i][e+i]||Utilities.getColor((void 0)[t-i][e+i])!==l){let n=Array.from(void 0,e=>Array.from(e));if(n[t-i][e+i]=n[t][e],n[t][e]=null,\"white\"===l){if(!updateBlack(n)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(n)[blackKing.y][blackKing.x])return!0}if(null!==(void 0)[t-i][e-i])break}return!1}function p(e,t,l){for(let i=e+1;i<8;i++){if(null!==(void 0)[t][i]){if(Utilities.getColor((void 0)[t][i])!==l){let n=Array.from(void 0,e=>Array.from(e));if(n[t][i]=n[t][e],n[t][e]=null,\"white\"===l){if(!updateBlack(n)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(n)[blackKing.y][blackKing.x])return!0}break}let n=Array.from(void 0,e=>Array.from(e));if(n[t][i]=n[t][e],n[t][e]=null,\"white\"===l){if(!updateBlack(n)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(n)[blackKing.y][blackKing.x])return!0}for(let i=e-1;i>=0;i--){if(null!==(void 0)[t][i]){if(Utilities.getColor((void 0)[t][i])!==l){let n=Array.from(void 0,e=>Array.from(e));if(n[t][i]=n[t][e],n[t][e]=null,\"white\"===l){if(!updateBlack(n)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(n)[blackKing.y][blackKing.x])return!0}break}let n=Array.from(void 0,e=>Array.from(e));if(n[t][i]=n[t][e],n[t][e]=null,\"white\"===l){if(!updateBlack(n)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(n)[blackKing.y][blackKing.x])return!0}for(let i=t+1;i<8;i++){if(null!==(void 0)[i][e]){if(Utilities.getColor((void 0)[i][e])!==l){let n=Array.from(void 0,e=>Array.from(e));if(n[i][e]=n[t][e],n[t][e]=null,\"white\"===l){if(!updateBlack(n)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(n)[blackKing.y][blackKing.x])return!0}break}let n=Array.from(void 0,e=>Array.from(e));if(n[i][e]=n[t][e],n[t][e]=null,\"white\"===l){if(!updateBlack(n)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(n)[blackKing.y][blackKing.x])return!0}for(let i=t-1;i>=0;i--){if(null!==(void 0)[i][e]){if(Utilities.getColor((void 0)[i][e])!==l){let n=Array.from(void 0,e=>Array.from(e));if(n[i][e]=n[t][e],n[t][e]=null,\"white\"===l){if(!updateBlack(n)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(n)[blackKing.y][blackKing.x])return!0}break}let n=Array.from(void 0,e=>Array.from(e));if(n[i][e]=n[t][e],n[t][e]=null,\"white\"===l){if(!updateBlack(n)[whiteKing.y][whiteKing.x])return!0}else if(!updateWhite(n)[blackKing.y][blackKing.x])return!0}return!1}function y(e,t,l){if(t+1<8&&e+1<8&&null!==(void 0)[t+1][e+1]&&Utilities.getColor((void 0)[t+1][e+1])!==l){let i=Array.from(void 0,e=>Array.from(e));if(i[t+1][e+1]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y+1][whiteKing.x+1])return!0}else if(!updateWhite(i)[blackKing.y+1][blackKing.x+1])return!0}else if(t+1<8&&e+1<8&&null===(void 0)[t+1][e+1]){let i=Array.from(void 0,e=>Array.from(e));if(i[t+1][e+1]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y+1][whiteKing.x+1])return!0}else if(!updateWhite(i)[blackKing.y+1][blackKing.x+1])return!0}if(t-1>=0&&e-1>=0&&null!==(void 0)[t-1][e-1]&&Utilities.getColor((void 0)[t-1][e-1])!==l){let i=Array.from(void 0,e=>Array.from(e));if(i[t-1][e-1]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y-1][whiteKing.x-1])return!0}else if(!updateWhite(i)[blackKing.y-1][blackKing.x-1])return!0}else if(t-1>=0&&e-1>=0&&null===(void 0)[t-1][e-1]){let i=Array.from(void 0,e=>Array.from(e));if(i[t-1][e-1]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y-1][whiteKing.x-1])return!0}else if(!updateWhite(i)[blackKing.y-1][blackKing.x-1])return!0}if(t-1>=0&&e+1<8&&null!==(void 0)[t-1][e+1]&&Utilities.getColor((void 0)[t-1][e+1])!==l){let i=Array.from(void 0,e=>Array.from(e));if(i[t-1][e-1]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y-1][whiteKing.x-1])return!0}else if(!updateWhite(i)[blackKing.y-1][blackKing.x-1])return!0}else if(t-1>=0&&e+1<8&&null===(void 0)[t-1][e+1]){let i=Array.from(void 0,e=>Array.from(e));if(i[t-1][e+1]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y-1][whiteKing.x+1])return!0}else if(!updateWhite(i)[blackKing.y-1][blackKing.x+1])return!0}if(t+1<8&&e-1>=0&&null!==(void 0)[t+1][e-1]&&Utilities.getColor((void 0)[t+1][e-1])!==l){let i=Array.from(void 0,e=>Array.from(e));if(i[t+1][e-1]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y+1][whiteKing.x-1])return!0}else if(!updateWhite(i)[blackKing.y+1][blackKing.x-1])return!0}else if(t+1<8&&e-1>=0&&null===(void 0)[t+1][e-1]){let i=Array.from(void 0,e=>Array.from(e));if(i[t+1][e-1]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y+1][whiteKing.x-1])return!0}else if(!updateWhite(i)[blackKing.y+1][blackKing.x-1])return!0}if(t+1<8&&null!==(void 0)[t+1][e]&&Utilities.getColor((void 0)[t+1][e])!==l){let i=Array.from(void 0,e=>Array.from(e));if(i[t+1][e]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y+1][whiteKing.x])return!0}else if(!updateWhite(i)[blackKing.y+1][blackKing.x])return!0}else if(t+1<8&&null===(void 0)[t+1][e]){let i=Array.from(void 0,e=>Array.from(e));if(i[t+1][e]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y+1][whiteKing.x])return!0}else if(!updateWhite(i)[blackKing.y+1][blackKing.x])return!0}if(t-1>=0&&null!==(void 0)[t-1][e]&&Utilities.getColor((void 0)[t-1][e])!==l){let i=Array.from(void 0,e=>Array.from(e));if(i[t-1][e]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y-1][whiteKing.x])return!0}else if(!updateWhite(i)[blackKing.y-1][blackKing.x])return!0}else if(t-1>=0&&null===(void 0)[t-1][e]){let i=Array.from(void 0,e=>Array.from(e));if(i[t-1][e]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y-1][whiteKing.x])return!0}else if(!updateWhite(i)[blackKing.y-1][blackKing.x])return!0}if(e+1<8&&null!==(void 0)[t][e+1]&&Utilities.getColor((void 0)[t][e+1])!==l){let i=Array.from(void 0,e=>Array.from(e));if(i[t][e+1]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y][whiteKing.x+1])return!0}else if(!updateWhite(i)[blackKing.y][blackKing.x+1])return!0}else if(e+1<8&&null===(void 0)[t][e+1]){let i=Array.from(void 0,e=>Array.from(e));if(i[t][e+1]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y][whiteKing.x+1])return!0}else if(!updateWhite(i)[blackKing.y][blackKing.x+1])return!0}if(e-1>=0&&null!==(void 0)[t][e-1]&&Utilities.getColor((void 0)[t][e-1])!==l){let i=Array.from(void 0,e=>Array.from(e));if(i[t][e-1]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y][whiteKing.x-1])return!0}else if(!updateWhite(i)[blackKing.y][blackKing.x-1])return!0}else if(e-1>=0&&null===(void 0)[t][e-1]){let i=Array.from(void 0,e=>Array.from(e));if(i[t][e-1]=i[t][e],i[t][e]=null,\"white\"===l){if(!updateBlack(i)[whiteKing.y][whiteKing.x-1])return!0}else if(!updateWhite(i)[blackKing.y][blackKing.x-1])return!0}return!1}l.r(t),l.d(t,\"g\",function(){return b}),l.d(t,\"moveColor\",function(){return K}),l.d(t,\"epMove\",function(){return B}),l.d(t,\"blackKing\",function(){return W}),l.d(t,\"whiteKing\",function(){return L});const s=[[],[],[],[],[],[],[],[]];var x,b,w=[[],[],[],[],[],[],[],[]],C=[[],[],[],[],[],[],[],[]],v=null;const A=[],k={white:!1,black:!1},E={bLeft:!1,bRight:!1,wLeft:!1,wRight:!1};var K=\"white\";const B={x:-1,y:-1},W={x:4,y:0},L={x:4,y:7};var S=null,I=!1;let H=null;const U=e=>{let t=Number(e.target.getAttribute(\"x\")),l=Number(e.target.getAttribute(\"y\")),u=r(e.target),a=n(e.target);for(let e=0;e<A.length;)b.removeChild(A.shift());v=e.target,function(e,t,l,r){if(r!==K)return;switch(l){case\"pawn\":showPawn(e/50,t/50,r);break;case\"knight\":!function(e,t,l){if(t<=5&&e<=6&&(null===s[t+2][e+1]||n(s[t+2][e+1])!==l)){let n=!1,r=Array.from(s,e=>Array.from(e));if(r[t+2][e+1]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x]&&(n=!0):updateWhite(r)[W.y][W.x]&&(n=!0),!n){let l=l=>{let i=!1;v.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t+2][e+1]&&(i=!0,b.removeChild(s[t+2][e+1])),s[t+2][e+1]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++R,l.appendChild(n),(n=document.createElement(\"td\")).textContent=\"N\"+(i?\"x\":\"\")+o(e+1)+String(8-(t+2)),l.appendChild(n),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=\"N\"+(i?\"x\":\"\")+o(e+1)+String(8-(t+2)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}};A.push(i(\"moveLocation\",e+1,t+2,l))}}if(t>=2&&e>=1&&(null===s[t-2][e-1]||n(s[t-2][e-1])!==l)){let n=!1,r=Array.from(s,e=>Array.from(e));if(r[t-2][e-1]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x]&&(n=!0):updateWhite(r)[W.y][W.x]&&(n=!0),!n){let l=l=>{let i=!1;v.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t-2][e-1]&&(i=!0,b.removeChild(s[t-2][e-1])),s[t-2][e-1]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++R,l.appendChild(n),(n=document.createElement(\"td\")).textContent=\"N\"+(i?\"x\":\"\")+o(e-1)+String(8-(t-2)),l.appendChild(n),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=\"N\"+(i?\"x\":\"\")+o(e-1)+String(8-(t-2)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}};A.push(i(\"moveLocation\",e-1,t-2,l))}}if(t<=5&&e>=1&&(null===s[t+2][e-1]||n(s[t+2][e-1])!==l)){let n=!1,r=Array.from(s,e=>Array.from(e));if(r[t+2][e-1]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x]&&(n=!0):updateWhite(r)[W.y][W.x]&&(n=!0),!n){let l=l=>{let i=!1;v.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t+2][e-1]&&(i=!0,b.removeChild(s[t+2][e-1])),s[t+2][e-1]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++R,l.appendChild(n),(n=document.createElement(\"td\")).textContent=\"N\"+(i?\"x\":\"\")+o(e-1)+String(8-(t+2)),l.appendChild(n),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=\"N\"+(i?\"x\":\"\")+o(e-1)+String(8-(t+2)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}};A.push(i(\"moveLocation\",e-1,t+2,l))}}if(t>=2&&e<=6&&(null===s[t-2][e+1]||n(s[t-2][e+1])!==l)){let n=!1,r=Array.from(s,e=>Array.from(e));if(r[t-2][e+1]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x]&&(n=!0):updateWhite(r)[W.y][W.x]&&(n=!0),!n){let l=l=>{let i=!1;v.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t-2][e+1]&&(i=!0,b.removeChild(s[t-2][e+1])),s[t-2][e+1]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++R,l.appendChild(n),(n=document.createElement(\"td\")).textContent=\"N\"+(i?\"x\":\"\")+o(e+1)+String(8-(t-2)),l.appendChild(n),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=\"N\"+(i?\"x\":\"\")+o(e+1)+String(8-(t-2)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}};A.push(i(\"moveLocation\",e+1,t-2,l))}}if(t<=6&&e<=5&&(null===s[t+1][e+2]||n(s[t+1][e+2])!==l)){let n=!1,r=Array.from(s,e=>Array.from(e));if(r[t+1][e+2]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x]&&(n=!0):updateWhite(r)[W.y][W.x]&&(n=!0),!n){let l=l=>{let i=!1;v.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t+1][e+2]&&(i=!0,b.removeChild(s[t+1][e+2])),s[t+1][e+2]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++R,l.appendChild(n),(n=document.createElement(\"td\")).textContent=\"N\"+(i?\"x\":\"\")+o(e+2)+String(8-(t+1)),l.appendChild(n),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=\"N\"+(i?\"x\":\"\")+o(e+2)+String(8-(t+1)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}};A.push(i(\"moveLocation\",e+2,t+1,l))}}if(t>=1&&e>=2&&(null===s[t-1][e-2]||n(s[t-1][e-2])!==l)){let n=!1,r=Array.from(s,e=>Array.from(e));if(r[t-1][e-2]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x]&&(n=!0):updateWhite(r)[W.y][W.x]&&(n=!0),!n){let l=l=>{let i=!1;v.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t-1][e-2]&&(i=!0,b.removeChild(s[t-1][e-2])),s[t-1][e-2]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++R,l.appendChild(n),(n=document.createElement(\"td\")).textContent=\"N\"+(i?\"x\":\"\")+o(e-2)+String(8-(t-1)),l.appendChild(n),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=\"N\"+(i?\"x\":\"\")+o(e-2)+String(8-(t-1)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}};A.push(i(\"moveLocation\",e-2,t-1,l))}}if(t>=1&&e<=5&&(null===s[t-1][e+2]||n(s[t-1][e+2])!==l)){let n=!1,r=Array.from(s,e=>Array.from(e));if(r[t-1][e+2]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x]&&(n=!0):updateWhite(r)[W.y][W.x]&&(n=!0),!n){let l=l=>{let i=!1;v.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t-1][e+2]&&(i=!0,b.removeChild(s[t-1][e+2])),s[t-1][e+2]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++R,l.appendChild(n),(n=document.createElement(\"td\")).textContent=\"N\"+(i?\"x\":\"\")+o(e+2)+String(8-(t-1)),l.appendChild(n),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=\"N\"+(i?\"x\":\"\")+o(e+2)+String(8-(t-1)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}};A.push(i(\"moveLocation\",e+2,t-1,l))}}if(t<=6&&e>=2&&(null===s[t+1][e-2]||n(s[t+1][e-2])!==l)){let n=!1,r=Array.from(s,e=>Array.from(e));if(r[t+1][e-2]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x]&&(n=!0):updateWhite(r)[W.y][W.x]&&(n=!0),!n){let l=l=>{let i=!1;v.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t+1][e-2]&&(i=!0,b.removeChild(s[t+1][e-2])),s[t+1][e-2]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++R,l.appendChild(n),(n=document.createElement(\"td\")).textContent=\"N\"+(i?\"x\":\"\")+o(e-2)+String(8-(t+1)),l.appendChild(n),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=\"N\"+(i?\"x\":\"\")+o(e-2)+String(8-(t+1)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}};A.push(i(\"moveLocation\",e-2,t+1,l))}}}(e/50,t/50,r);break;case\"rook\":N(e/50,t/50,r,!1);break;case\"bishop\":O(e/50,t/50,r,!1);break;case\"queen\":N(e/50,t/50,r,!0),O(e/50,t/50,r,!0);break;case\"king\":!function(e,t,l){if(t+1<8&&e+1<8&&(null!==s[t+1][e+1]&&n(s[t+1][e+1])!==l||null===s[t+1][e+1])){let n=!1,r=Array.from(s,e=>Array.from(e));if(r[t+1][e+1]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y+1][L.x+1]&&(n=!0):updateWhite(r)[W.y+1][W.x+1]&&(n=!0),!n){let n=i=>{v.setAttribute(\"x\",i.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",i.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t+1][e+1]&&b.removeChild(s[t+1][e+1]),s[t+1][e+1]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),i=document.createElement(\"td\");i.textContent=++R,l.appendChild(i),(i=document.createElement(\"td\")).textContent=\"K\"+(capture?\"x\":\"\")+o(e+1)+String(8-(t+1)),l.appendChild(i),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=\"K\"+(capture?\"x\":\"\")+o(e+1)+String(8-(t+1)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}\"white\"===l?(k.white=!0,L.x=e+1,L.y=t+1):(k.black=!0,W.x=e+1,W.y=t+1)};A.push(i(\"moveLocation\",e+1,t+1,n))}}if(t-1>=0&&e-1>=0&&(null!==s[t-1][e-1]&&n(s[t-1][e-1])!==l||null===s[t-1][e-1])){let n=!1,r=Array.from(s,e=>Array.from(e));if(r[t-1][e-1]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y-1][L.x-1]&&(n=!0):updateWhite(r)[W.y-1][W.x-1]&&(n=!0),!n){let n=i=>{let n=!1;v.setAttribute(\"x\",i.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",i.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t-1][e-1]&&(n=!0,b.removeChild(s[t-1][e-1])),s[t-1][e-1]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),i=document.createElement(\"td\");i.textContent=++R,l.appendChild(i),(i=document.createElement(\"td\")).textContent=\"K\"+(n?\"x\":\"\")+o(e-1)+String(8-(t-1)),l.appendChild(i),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=\"K\"+(n?\"x\":\"\")+o(e-1)+String(8-(t-1)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}\"white\"===l?(k.white=!0,L.x=e-1,L.y=t-1):(k.black=!0,W.x=e-1,W.y=t-1)};A.push(i(\"moveLocation\",e-1,t-1,n))}}if(t-1>=0&&e+1<8&&(null!==s[t-1][e+1]&&n(s[t-1][e+1])!==l||null===s[t-1][e+1])){let n=!1,r=Array.from(s,e=>Array.from(e));if(r[t-1][e+1]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y-1][L.x-1]&&(n=!0):updateWhite(r)[W.y-1][W.x-1]&&(n=!0),!n){let n=i=>{let n=!1;v.setAttribute(\"x\",i.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",i.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t-1][e+1]&&(n=!0,b.removeChild(s[t-1][e+1])),s[t-1][e+1]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),i=document.createElement(\"td\");i.textContent=++R,l.appendChild(i),(i=document.createElement(\"td\")).textContent=\"K\"+(n?\"x\":\"\")+o(e+1)+String(8-(t-1)),l.appendChild(i),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=\"K\"+(n?\"x\":\"\")+o(e+1)+String(8-(t-1)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}\"white\"===l?(k.white=!0,L.x=e+1,L.y=t-1):(k.black=!0,W.x=e+1,W.y=t-1)};A.push(i(\"moveLocation\",e+1,t-1,n))}}if(t+1<8&&e-1>=0&&(null!==s[t+1][e-1]&&n(s[t+1][e-1])!==l||null===s[t+1][e-1])){let n=!1,r=Array.from(s,e=>Array.from(e));if(r[t+1][e-1]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y+1][L.x-1]&&(n=!0):updateWhite(r)[W.y+1][W.x-1]&&(n=!0),!n){let n=i=>{let n=!0;v.setAttribute(\"x\",i.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",i.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t+1][e-1]&&(n=!1,b.removeChild(s[t+1][e-1])),s[t+1][e-1]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),i=document.createElement(\"td\");i.textContent=++R,l.appendChild(i),(i=document.createElement(\"td\")).textContent=\"K\"+(n?\"x\":\"\")+o(e-1)+String(8-(t+1)),l.appendChild(i),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=\"K\"+(n?\"x\":\"\")+o(e-1)+String(8-(t+1)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}\"white\"===l?(k.white=!0,L.x=e-1,L.y=t+1):(k.black=!0,W.x=e-1,W.y=t+1)};A.push(i(\"moveLocation\",e-1,t+1,n))}}if(t+1<8&&(null!==s[t+1][e]&&n(s[t+1][e])!==l||null===s[t+1][e])){let n=!1,r=Array.from(s,e=>Array.from(e));if(r[t+1][e]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y+1][L.x]&&(n=!0):updateWhite(r)[W.y+1][W.x]&&(n=!0),!n){let n=i=>{let n=!1;v.setAttribute(\"x\",i.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",i.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t+1][e]&&(n=!0,b.removeChild(s[t+1][e])),s[t+1][e]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),i=document.createElement(\"td\");i.textContent=++R,l.appendChild(i),(i=document.createElement(\"td\")).textContent=\"K\"+(n?\"x\":\"\")+o(e)+String(8-(t+1)),l.appendChild(i),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=\"K\"+(n?\"x\":\"\")+o(e)+String(8-(t+1)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}\"white\"===l?(k.white=!0,L.x=e,L.y=t+1):(k.black=!0,W.x=e,W.y=t+1)};A.push(i(\"moveLocation\",e,t+1,n))}}if(t-1>=0&&(null!==s[t-1][e]&&n(s[t-1][e])!==l||null===s[t-1][e])){let n=!1,r=Array.from(s,e=>Array.from(e));if(r[t-1][e]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y-1][L.x]&&(n=!0):updateWhite(r)[W.y-1][W.x]&&(n=!0),!n){let n=i=>{let n=!1;v.setAttribute(\"x\",i.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",i.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t-1][e]&&(n=!0,b.removeChild(s[t-1][e])),s[t-1][e]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),i=document.createElement(\"td\");i.textContent=++R,l.appendChild(i),(i=document.createElement(\"td\")).textContent=\"K\"+(n?\"x\":\"\")+o(e)+String(8-(t-1)),l.appendChild(i),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=\"K\"+(n?\"x\":\"\")+o(e)+String(8-(t-1)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}\"white\"===l?(k.white=!0,L.x=e,L.y=t-1):(k.black=!0,W.x=e,W.y=t-1)};A.push(i(\"moveLocation\",e,t-1,n))}}if(e+1<8&&(null!==s[t][e+1]&&n(s[t][e+1])!==l||null===s[t][e+1])){let n=!1,r=Array.from(s,e=>Array.from(e));if(r[t][e+1]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x+1]&&(n=!0):updateWhite(r)[W.y][W.x+1]&&(n=!0),!n){let n=i=>{let n=!1;v.setAttribute(\"x\",i.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",i.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t][e+1]&&(n=!0,b.removeChild(s[t][e+1])),s[t][e+1]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),i=document.createElement(\"td\");i.textContent=++R,l.appendChild(i),(i=document.createElement(\"td\")).textContent=\"K\"+(n?\"x\":\"\")+o(e+1)+String(8-t),l.appendChild(i),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=\"K\"+(n?\"x\":\"\")+o(e+1)+String(8-t),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}\"white\"===l?(k.white=!0,L.x=e+1,L.y=t):(k.black=!0,W.x=e+1,W.y=t)};A.push(i(\"moveLocation\",e+1,t,n))}}if(e-1>=0&&(null!==s[t][e-1]&&n(s[t][e-1])!==l||null===s[t][e-1])){let n=!1,r=Array.from(s,e=>Array.from(e));if(r[t][e-1]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x-1]&&(n=!0):updateWhite(r)[W.y][W.x-1]&&(n=!0),!n){let n=i=>{let n=!1;v.setAttribute(\"x\",i.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",i.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t][e-1]&&(n=!0,b.removeChild(s[t][e-1])),s[t][e-1]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),i=document.createElement(\"td\");i.textContent=++R,l.appendChild(i),(i=document.createElement(\"td\")).textContent=\"K\"+(n?\"x\":\"\")+o(e-1)+String(8-t),l.appendChild(i),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=\"K\"+(n?\"x\":\"\")+o(e-1)+String(8-t),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}\"white\"===l?(k.white=!0,L.x=e-1,L.y=t):(k.black=!0,W.x=e-1,W.y=t)};A.push(i(\"moveLocation\",e-1,t,n))}}let r=\"white\"===l?k.white:k.black;if(!r&&!I){if(!(r=\"white\"===l?E.wLeft:E.bLeft)&&null===s[\"white\"===l?7:0][1]&&null===s[\"white\"===l?7:0][2]&&null===s[\"white\"===l?7:0][3]){let n=i=>{v.setAttribute(\"x\",i.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",i.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());let n=s[\"white\"===l?7:0][0];if(n.setAttribute(\"x\",50*(e-1)),s[t][e-2]=s[t][e],s[t][e-1]=n,s[t][e]=null,s[\"white\"===l?7:0][0]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let e=document.createElement(\"tr\"),t=document.createElement(\"td\");t.textContent=++R,e.appendChild(t),(t=document.createElement(\"td\")).textContent=\"O-O-O\",e.appendChild(t),document.getElementById(\"moveHistory\").appendChild(e),_=e}else{let e=document.createElement(\"td\");(e=document.createElement(\"td\")).textContent=\"O-O-O\",_.appendChild(e),document.getElementById(\"moveHistory\").appendChild(_),_=null}\"white\"===l?(k.white=!0,L.x=e-2,L.y=t,E.wLeft=!0):(k.black=!0,W.x=e-2,W.y=t,E.bLeft=!0)};A.push(i(\"moveLocation\",e-2,t,n))}if(!(r=(\"white\"===l?E.wRight:E.bRight)||(\"white\"===l?k.white:k.black))&&null===s[\"white\"===l?7:0][5]&&null===s[\"white\"===l?7:0][6]){let n=i=>{v.setAttribute(\"x\",i.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",i.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());let n=s[\"white\"===l?7:0][7];if(n.setAttribute(\"x\",50*(e+1)),s[t][e+2]=s[t][e],s[t][e+1]=n,s[t][e]=null,s[\"white\"===l?7:0][7]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let e=document.createElement(\"tr\"),t=document.createElement(\"td\");t.textContent=++R,e.appendChild(t),(t=document.createElement(\"td\")).textContent=\"O-O\",e.appendChild(t),document.getElementById(\"moveHistory\").appendChild(e),_=e}else{let e=document.createElement(\"td\");(e=document.createElement(\"td\")).textContent=\"O-O\",_.appendChild(e),document.getElementById(\"moveHistory\").appendChild(_),_=null}\"white\"===l?(k.white=!0,L.x=e+2,L.y=t,E.wRight=!0):(k.black=!0,W.x=e+2,W.y=t,E.bRight=!0)};A.push(i(\"moveLocation\",e+2,t,n))}}}(e/50,t/50,r)}}(t,l,u,a)};let R=0,_=null;function N(e,t,l,r){for(let u=e+1;u<8;u++){let a=i=>{let n=!1;v.setAttribute(\"x\",i.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",i.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t][u]&&(n=!0,b.removeChild(s[t][u])),s[t][u]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let e=document.createElement(\"tr\"),l=document.createElement(\"td\");l.textContent=++R,e.appendChild(l),(l=document.createElement(\"td\")).textContent=(r?\"Q\":\"R\")+(n?\"x\":\"\")+o(u)+String(8-t),e.appendChild(l),document.getElementById(\"moveHistory\").appendChild(e),_=e}else{let e=document.createElement(\"td\");(e=document.createElement(\"td\")).textContent=(r?\"Q\":\"R\")+(n?\"x\":\"\")+o(u)+String(8-t),_.appendChild(e),document.getElementById(\"moveHistory\").appendChild(_),_=null}\"white\"===l?0===e?E.wLeft=!0:E.wRight=!0:0===e?E.bLeft=!0:E.bRight=!0};if(null!==s[t][u]){if(n(s[t][u])!==l){let n=!1,r=Array.from(s,e=>Array.from(e));r[t][u]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x]&&(n=!0):updateWhite(r)[W.y][W.x]&&(n=!0),n||A.push(i(\"moveLocation\",u,t,a))}break}let d=!1,c=Array.from(s,e=>Array.from(e));c[t][u]=c[t][e],c[t][e]=null,\"white\"===l?updateBlack(c)[L.y][L.x]&&(d=!0):updateWhite(c)[W.y][W.x]&&(d=!0),d||A.push(i(\"moveLocation\",u,t,a))}for(let u=e-1;u>=0;u--){let a=i=>{let n=!1;v.setAttribute(\"x\",i.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",i.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t][u]&&(n=!0,b.removeChild(s[t][u])),s[t][u]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let e=document.createElement(\"tr\"),l=document.createElement(\"td\");l.textContent=++R,e.appendChild(l),(l=document.createElement(\"td\")).textContent=(r?\"Q\":\"R\")+(n?\"x\":\"\")+o(u)+String(8-t),e.appendChild(l),document.getElementById(\"moveHistory\").appendChild(e),_=e}else{let e=document.createElement(\"td\");(e=document.createElement(\"td\")).textContent=(r?\"Q\":\"R\")+(n?\"x\":\"\")+o(u)+String(8-t),_.appendChild(e),document.getElementById(\"moveHistory\").appendChild(_),_=null}\"white\"===l?0===e?E.wLeft=!0:E.wRight=!0:0===e?E.bLeft=!0:E.bRight=!0};if(null!==s[t][u]){if(n(s[t][u])!==l){let n=!1,r=Array.from(s,e=>Array.from(e));r[t][u]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x]&&(n=!0):updateWhite(r)[W.y][W.x]&&(n=!0),n||A.push(i(\"moveLocation\",u,t,a))}break}let d=!1,c=Array.from(s,e=>Array.from(e));c[t][u]=c[t][e],c[t][e]=null,\"white\"===l?updateBlack(c)[L.y][L.x]&&(d=!0):updateWhite(c)[W.y][W.x]&&(d=!0),d||A.push(i(\"moveLocation\",u,t,a))}for(let u=t+1;u<8;u++){let a=i=>{let n=!1;v.setAttribute(\"x\",i.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",i.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[u][e]&&(n=!0,b.removeChild(s[u][e])),s[u][e]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let t=document.createElement(\"tr\"),l=document.createElement(\"td\");l.textContent=++R,t.appendChild(l),(l=document.createElement(\"td\")).textContent=(r?\"Q\":\"R\")+(n?\"x\":\"\")+o(e)+String(8-u),t.appendChild(l),document.getElementById(\"moveHistory\").appendChild(t),_=t}else{let t=document.createElement(\"td\");(t=document.createElement(\"td\")).textContent=(r?\"Q\":\"R\")+(n?\"x\":\"\")+o(e)+String(8-u),_.appendChild(t),document.getElementById(\"moveHistory\").appendChild(_),_=null}\"white\"===l?0===e?E.wLeft=!0:E.wRight=!0:0===e?E.bLeft=!0:E.bRight=!0};if(null!==s[u][e]){if(n(s[u][e])!==l){let n=!1,r=Array.from(s,e=>Array.from(e));r[u][e]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x]&&(n=!0):updateWhite(r)[W.y][W.x]&&(n=!0),n||A.push(i(\"moveLocation\",e,u,a))}break}let d=!1,c=Array.from(s,e=>Array.from(e));c[u][e]=c[t][e],c[t][e]=null,\"white\"===l?updateBlack(c)[L.y][L.x]&&(d=!0):updateWhite(c)[W.y][W.x]&&(d=!0),d||A.push(i(\"moveLocation\",e,u,a))}for(let u=t-1;u>=0;u--){let a=i=>{let n=!1;v.setAttribute(\"x\",i.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",i.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[u][e]&&(n=!0,b.removeChild(s[u][e])),s[u][e]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let t=document.createElement(\"tr\"),l=document.createElement(\"td\");l.textContent=++R,t.appendChild(l),(l=document.createElement(\"td\")).textContent=(r?\"Q\":\"R\")+(n?\"x\":\"\")+o(e)+String(8-u),t.appendChild(l),document.getElementById(\"moveHistory\").appendChild(t),_=t}else{let t=document.createElement(\"td\");(t=document.createElement(\"td\")).textContent=(r?\"Q\":\"R\")+(n?\"x\":\"\")+o(e)+String(8-u),_.appendChild(t),document.getElementById(\"moveHistory\").appendChild(_),_=null}\"white\"===l?0===e?E.wLeft=!0:E.wRight=!0:0===e?E.bLeft=!0:E.bRight=!0};if(null!==s[u][e]){if(n(s[u][e])!==l){let n=!1,r=Array.from(s,e=>Array.from(e));r[u][e]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x]&&(n=!0):updateWhite(r)[W.y][W.x]&&(n=!0),n||A.push(i(\"moveLocation\",e,u,a))}break}let d=!1,c=Array.from(s,e=>Array.from(e));c[u][e]=c[t][e],c[t][e]=null,\"white\"===l?updateBlack(c)[L.y][L.x]&&(d=!0):updateWhite(c)[W.y][W.x]&&(d=!0),d||A.push(i(\"moveLocation\",e,u,a))}}function O(e,t,l,r){for(let u=1;t+u<8&&e+u<8;u++){let a=l=>{let i=!1;v.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t+u][e+u]&&(i=!0,b.removeChild(s[t+u][e+u])),s[t+u][e+u]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++R,l.appendChild(n),(n=document.createElement(\"td\")).textContent=(r?\"Q\":\"B\")+(i?\"x\":\"\")+o(e+u)+String(8-(t+u)),l.appendChild(n),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=(r?\"Q\":\"B\")+(i?\"x\":\"\")+o(e+u)+String(8-(t+u)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}};if(null!==s[t+u][e+u]){if(n(s[t+u][e+u])!==l){let n=!1,r=Array.from(s,e=>Array.from(e));r[t+u][e+u]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x]&&(n=!0):updateWhite(r)[W.y][W.x]&&(n=!0),n||A.push(i(\"moveLocation\",e+u,t+u,a))}break}let d=!1,c=Array.from(s,e=>Array.from(e));c[t+u][e+u]=c[t][e],c[t][e]=null,\"white\"===l?updateBlack(c)[L.y][L.x]&&(d=!0):updateWhite(c)[W.y][W.x]&&(d=!0),d||A.push(i(\"moveLocation\",e+u,t+u,a))}for(let u=1;t-u>=0&&e-u>=0;u++){let a=l=>{let i=!1;v.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t-u][e-u]&&(i=!0,b.removeChild(s[t-u][e-u])),s[t-u][e-u]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++R,l.appendChild(n),(n=document.createElement(\"td\")).textContent=(r?\"Q\":\"B\")+(i?\"x\":\"\")+o(e-u)+String(8-(t-u)),l.appendChild(n),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=(r?\"Q\":\"B\")+(i?\"x\":\"\")+o(e-u)+String(8-(t-u)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}};if(null!==s[t-u][e-u]){if(n(s[t-u][e-u])!==l){let n=!1,r=Array.from(s,e=>Array.from(e));r[t-u][e-u]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x]&&(n=!0):updateWhite(r)[W.y][W.x]&&(n=!0),n||A.push(i(\"moveLocation\",e-u,t-u,a))}break}let d=!1,c=Array.from(s,e=>Array.from(e));c[t-u][e-u]=c[t][e],c[t][e]=null,\"white\"===l?updateBlack(c)[L.y][L.x]&&(d=!0):updateWhite(c)[W.y][W.x]&&(d=!0),d||A.push(i(\"moveLocation\",e-u,t-u,a))}for(let u=1;t+u<8&&e-u>=0;u++){let a=l=>{let i=!1;v.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t+u][e-u]&&(i=!0,b.removeChild(s[t+u][e-u])),s[t+u][e-u]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++R,l.appendChild(n),(n=document.createElement(\"td\")).textContent=(r?\"Q\":\"B\")+(i?\"x\":\"\")+o(e-u)+String(8-(t+u)),l.appendChild(n),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=(r?\"Q\":\"B\")+(i?\"x\":\"\")+o(e-u)+String(8-(t+u)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}};if(null!==s[t+u][e-u]){if(n(s[t+u][e-u])!==l){let n=!1,r=Array.from(s,e=>Array.from(e));r[t+u][e-u]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x]&&(n=!0):updateWhite(r)[W.y][W.x]&&(n=!0),n||A.push(i(\"moveLocation\",e-u,t+u,a))}break}let d=!1,c=Array.from(s,e=>Array.from(e));c[t+u][e-u]=c[t][e],c[t][e]=null,\"white\"===l?updateBlack(c)[L.y][L.x]&&(d=!0):updateWhite(c)[W.y][W.x]&&(d=!0),d||A.push(i(\"moveLocation\",e-u,t+u,a))}for(let u=1;t-u>=0&&e+u<8;u++){let a=l=>{let i=!1;v.setAttribute(\"x\",l.target.getAttribute(\"cx\")-25),v.setAttribute(\"y\",l.target.getAttribute(\"cy\")-25);for(let e=0;e<A.length;)b.removeChild(A.shift());if(null!==s[t-u][e+u]&&(i=!0,b.removeChild(s[t-u][e+u])),s[t-u][e+u]=s[t][e],s[t][e]=null,K=\"white\"===K?\"black\":\"white\",B.x=-1,B.y=-1,Q(),null===_){let l=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++R,l.appendChild(n),(n=document.createElement(\"td\")).textContent=(r?\"Q\":\"B\")+(i?\"x\":\"\")+o(e+u)+String(8-(t-u)),l.appendChild(n),document.getElementById(\"moveHistory\").appendChild(l),_=l}else{let l=document.createElement(\"td\");(l=document.createElement(\"td\")).textContent=(r?\"Q\":\"B\")+(i?\"x\":\"\")+o(e+u)+String(8-(t-u)),_.appendChild(l),document.getElementById(\"moveHistory\").appendChild(_),_=null}};if(null!==s[t-u][e+u]){if(n(s[t-u][e+u])!==l){let n=!1,r=Array.from(s,e=>Array.from(e));r[t-u][e+u]=r[t][e],r[t][e]=null,\"white\"===l?updateBlack(r)[L.y][L.x]&&(n=!0):updateWhite(r)[W.y][W.x]&&(n=!0),n||A.push(i(\"moveLocation\",e+u,t-u,a))}break}let d=!1,c=Array.from(s,e=>Array.from(e));c[t-u][e+u]=c[t][e],c[t][e]=null,\"white\"===l?updateBlack(c)[L.y][L.x]&&(d=!0):updateWhite(c)[W.y][W.x]&&(d=!0),d||A.push(i(\"moveLocation\",e+u,t-u,a))}}function Q(){w=function(e){let t=[[],[],[],[],[],[],[],[]];for(let e=0;e<8;e++)for(let l=0;l<8;l++)t[l][e]=!1;for(let l=0;l<8;l++)for(let i=0;i<8;i++)if(null!==e[i][l]&&\"black\"!==n(e[i][l]))switch(r(e[i][l])){case\"pawn\":u(l,i,t,\"white\");break;case\"knight\":a(l,i,t);break;case\"bishop\":d(l,i,t,e);break;case\"rook\":c(l,i,t,e);break;case\"queen\":c(l,i,t,e),d(l,i,t,e);case\"king\":h(l,i,t)}return t}(s),C=function(e){let t=[[],[],[],[],[],[],[],[]];for(let e=0;e<8;e++)for(let l=0;l<8;l++)t[l][e]=!1;for(let l=0;l<8;l++)for(let i=0;i<8;i++)if(null!==e[i][l]&&\"white\"!==n(e[i][l]))switch(r(e[i][l])){case\"pawn\":u(l,i,t,\"black\");break;case\"knight\":a(l,i,t);break;case\"bishop\":d(l,i,t,e);break;case\"rook\":c(l,i,t,e);break;case\"queen\":c(l,i,t,e),d(l,i,t,e);break;case\"king\":h(l,i,t)}return t}(s)}window.addEventListener(\"load\",e=>{x=document.getElementById(\"board\"),b=document.getElementById(\"g\");for(let e=0;e<64;e++){let t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"rect\");t.setAttribute(\"x\",50*Math.floor(e/8)),t.setAttribute(\"y\",e%8*50),t.setAttribute(\"width\",\"50\"),t.setAttribute(\"height\",\"50\"),t.setAttribute(\"class\",\"tile\"),t.setAttribute(\"fill\",(Math.floor(e/8)+e%8)%2==0?\"white\":\"black\"),b.appendChild(t)}!function(){for(let e=0;e<8;e++)s[6][e]=i(\"Pawn_White.png\",e,6,U),s[1][e]=i(\"Pawn_Black.png\",e,1,U);for(let e=0;e<8;e++)s[2][e]=null,s[3][e]=null,s[4][e]=null,s[5][e]=null;s[0][0]=i(\"Rook_Black.png\",0,0,U),s[7][0]=i(\"Rook_White.png\",0,7,U),s[0][7]=i(\"Rook_Black.png\",7,0,U),s[7][7]=i(\"Rook_White.png\",7,7,U),s[0][6]=i(\"Knight_Black.png\",6,0,U),s[7][6]=i(\"Knight_White.png\",6,7,U),s[0][1]=i(\"Knight_Black.png\",1,0,U),s[7][1]=i(\"Knight_White.png\",1,7,U),s[0][5]=i(\"Bishop_Black.png\",5,0,U),s[7][5]=i(\"Bishop_White.png\",5,7,U),s[0][2]=i(\"Bishop_Black.png\",2,0,U),s[7][2]=i(\"Bishop_White.png\",2,7,U),s[0][4]=i(\"King_Black.png\",4,0,U),s[7][4]=i(\"King_White.png\",4,7,U),s[0][3]=i(\"Queen_Black.png\",3,0,U),s[7][3]=i(\"Queen_White.png\",3,7,U)}(),Q();let t=setInterval(()=>{if(I&&function(){for(let e=0;e<8;e++)for(let t=0;t<8;t++)if(null!==(void 0)[t][e]&&Utilities.getColor((void 0)[t][e])===K)switch(Utilities.getPiece((void 0)[t][e])){case\"pawn\":if(m(e,t,K))return!1;break;case\"knight\":if(f(e,t,K))return!1;break;case\"bishop\":if(g(e,t,K))return!1;break;case\"rook\":if(p(e,t,K))return!1;break;case\"queen\":if(g(e,t,K)||p(e,t,K))return!1;break;case\"king\":if(y(e,t,K))return!1}return!0}()&&(alert(\"Game Over!\\n\"+(\"white\"===K?\"Black\":\"White\")+\" wins!\"),clearInterval(t)),\"white\"===K)if(C[L.y][L.x]){null!==S&&(b.removeChild(S),S=null);let e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");e.setAttribute(\"cx\",50*L.x+25),e.setAttribute(\"cy\",50*L.y+25),e.setAttribute(\"r\",25),e.setAttribute(\"fill\",\"url(#grad1)\"),e.setAttribute(\"id\",\"checkCircle\"),e.addEventListener(\"click\",e=>{H=e}),b.appendChild(e),S=e,I=!0}else null!==S?(b.removeChild(S),S=null,I=!1):I=!1;else if(\"black\"===K)if(w[W.y][W.x]){null!==S&&(b.removeChild(S),S=null);let e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");e.setAttribute(\"cx\",50*W.x+25),e.setAttribute(\"cy\",50*W.y+25),e.setAttribute(\"r\",25),e.setAttribute(\"fill\",\"url(#grad1)\"),e.setAttribute(\"id\",\"checkCircle\"),e.addEventListener(\"click\",e=>{H=e}),b.appendChild(e),S=e,I=!0}else null!==S?(b.removeChild(S),S=null,I=!1):I=!1;null!==H&&(s[\"white\"===K?L.y:W.y][\"white\"===K?L.x:W.x].dispatchEvent(H),H=null);let e=Number(function(e){let t=0;return e.forEach(e=>{e.forEach(e=>{null!==e&&(t+=(\"white\"===n(e)?1:-1)*function(e){switch(e){case\"pawn\":return 1;case\"bishop\":case\"knight\":return 3;case\"rook\":return 5;case\"queen\":return 9;default:return 1e5}}(r(e)))})}),t}(s));document.getElementById(\"materialcounter\").textContent=\"Material: \"+(e>0?\"+\":\"\")+String(e)},250)}),document.addEventListener(\"click\",e=>{if(e.target===document.body||e.target===x||\"tile\"===e.target.getAttribute(\"class\")){v=null;for(let e=0;e<A.length;)b.removeChild(A.shift())}})}]);","extractedComments":[]}