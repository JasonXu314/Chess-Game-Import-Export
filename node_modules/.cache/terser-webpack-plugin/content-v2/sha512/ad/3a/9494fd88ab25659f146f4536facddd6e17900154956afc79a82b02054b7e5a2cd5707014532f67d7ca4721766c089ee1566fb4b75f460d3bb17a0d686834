{"code":"!function(e){var t={};function r(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,r),l.l=!0,l.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var l in e)r.d(n,l,function(t){return e[t]}.bind(null,l));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=1)}([function(e,t){throw new Error(\"Module parse failed: Assigning to rvalue (47:44)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n|         tile.setAttribute('class', 'tile');\\n|         tile.setAttribute('fill', (x/50 + y/50) % 2 == 0 ? 'white' : 'black');\\n>         tile.addEventListener('mouseover', (this, e) => {\\n|             data.tiles.push(this);\\n|             console.log(data.tiles);\")},function(e,t,r){\"use strict\";r.r(t);var n=r(0);function l(e){return e.getAttribute(\"href\").slice(0,e.getAttribute(\"href\").length-4).toLowerCase().split(\"_\")[1]}function o(e){return e.getAttribute(\"href\").slice(0,e.getAttribute(\"href\").length-4).toLowerCase().split(\"_\")[0]}function i(e){switch(e){case 0:return\"a\";case 1:return\"b\";case 2:return\"c\";case 3:return\"d\";case 4:return\"e\";case 5:return\"f\";case 6:return\"g\";case 7:return\"h\"}}function u(e){let t=[[],[],[],[],[],[],[],[]];for(let e=0;e<8;e++)for(let r=0;r<8;r++)t[r][e]=!1;for(let r=0;r<8;r++)for(let n=0;n<8;n++)if(null!==e[n][r]&&\"black\"!==l(e[n][r]))switch(o(e[n][r])){case\"pawn\":m(r,n,t,\"white\");break;case\"knight\":c(r,n,t);break;case\"bishop\":a(r,n,t,e);break;case\"rook\":f(r,n,t,e);break;case\"queen\":f(r,n,t,e),a(r,n,t,e);case\"king\":p(r,n,t)}return t}function d(e){let t=[[],[],[],[],[],[],[],[]];for(let e=0;e<8;e++)for(let r=0;r<8;r++)t[r][e]=!1;for(let r=0;r<8;r++)for(let n=0;n<8;n++)if(null!==e[n][r]&&\"white\"!==l(e[n][r]))switch(o(e[n][r])){case\"pawn\":m(r,n,t,\"black\");break;case\"knight\":c(r,n,t);break;case\"bishop\":a(r,n,t,e);break;case\"rook\":f(r,n,t,e);break;case\"queen\":f(r,n,t,e),a(r,n,t,e);break;case\"king\":p(r,n,t)}return t}function m(e,t,r,n){\"white\"===n?(e-1>=0&&(r[t-1][e-1]=!0),e+1<8&&(r[t-1][e+1]=!0)):(e-1>=0&&(r[t+1][e-1]=!0),e+1<8&&(r[t+1][e+1]=!0))}function c(e,t,r){t+2<8&&e+1<8&&(r[t+2][e+1]=!0),t+2<8&&e-1>=0&&(r[t+2][e-1]=!0),t-2>=0&&e+1<8&&(r[t-2][e+1]=!0),t-2>=0&&e-1>=0&&(r[t-2][e-1]=!0),t+1<8&&e+2<8&&(r[t+1][e+2]=!0),t+1<8&&e-2>=0&&(r[t+1][e-2]=!0),t-1>=0&&e+2<8&&(r[t-1][e+2]=!0),t-1>=0&&e-2>=0&&(r[t-1][e-2]=!0)}function a(e,t,r,n){for(let l=1;e+l<8&&t+l<8&&(r[t+l][e+l]=!0,null===n[t+l][e+l]);l++);for(let l=1;e-l>=0&&t-l>=0&&(r[t-l][e-l]=!0,null===n[t-l][e-l]);l++);for(let l=1;e-l>=0&&t+l<8&&(r[t+l][e-l]=!0,null===n[t+l][e-l]);l++);for(let l=1;e+l<8&&t-l>=0&&(r[t-l][e+l]=!0,null===n[t-l][e+l]);l++);}function f(e,t,r,n){for(let l=1;e+l<8&&(r[t][e+l]=!0,null===n[t][e+l]);l++);for(let l=1;e-l>=0&&(r[t][e-l]=!0,null===n[t][e-l]);l++);for(let l=1;t+l<8&&(r[t+l][e]=!0,null===n[t+l][e]);l++);for(let l=1;t-l>=0&&(r[t-l][e]=!0,null===n[t-l][e]);l++);}function p(e,t,r){t+1<8&&e+1<8&&(r[t+1][e+1]=!0),t+1<8&&e-1>=0&&(r[t+1][e-1]=!0),t-1>=0&&e+1<8&&(r[t-1][e+1]=!0),t-1>=0&&e-1>=0&&(r[t-1][e-1]=!0),t+1<8&&(r[t+1][e]=!0),t-1>=0&&(r[t-1][e]=!0),e+1<8&&(r[t][e+1]=!0),e-1>=0&&(r[t][e-1]=!0)}function h(e,t,r,o){for(let m=e+1;m<8;m++){let c=n=>{let l=!1;T.setAttribute(\"x\",n.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",n.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t][m]&&(l=!0,E.removeChild(b[t][m])),b[t][m]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let e=document.createElement(\"tr\"),r=document.createElement(\"td\");r.textContent=++L.moveCount,e.appendChild(r),(r=document.createElement(\"td\")).textContent=(o?\"Q\":\"R\")+(l?\"x\":\"\")+i(m)+String(8-t),e.appendChild(r),document.getElementById(\"moveHistory\").appendChild(e),L.prevTR=e}else{let e=document.createElement(\"td\");(e=document.createElement(\"td\")).textContent=(o?\"Q\":\"R\")+(l?\"x\":\"\")+i(m)+String(8-t),L.prevTR.appendChild(e),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}\"white\"===r?0===e?O.wLeft=!0:O.wRight=!0:0===e?O.bLeft=!0:O.bRight=!0};if(null!==b[t][m]){if(l(b[t][m])!==r){let l=!1,o=Array.from(b,e=>Array.from(e));o[t][m]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x]&&(l=!0):u(o)[I.y][I.x]&&(l=!0),l||k.push(Object(n.render)(\"moveLocation\",m,t,c))}break}let a=!1,f=Array.from(b,e=>Array.from(e));f[t][m]=f[t][e],f[t][e]=null,\"white\"===r?d(f)[S.y][S.x]&&(a=!0):u(f)[I.y][I.x]&&(a=!0),a||k.push(Object(n.render)(\"moveLocation\",m,t,c))}for(let m=e-1;m>=0;m--){let c=n=>{let l=!1;T.setAttribute(\"x\",n.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",n.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t][m]&&(l=!0,E.removeChild(b[t][m])),b[t][m]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let e=document.createElement(\"tr\"),r=document.createElement(\"td\");r.textContent=++L.moveCount,e.appendChild(r),(r=document.createElement(\"td\")).textContent=(o?\"Q\":\"R\")+(l?\"x\":\"\")+i(m)+String(8-t),e.appendChild(r),document.getElementById(\"moveHistory\").appendChild(e),L.prevTR=e}else{let e=document.createElement(\"td\");(e=document.createElement(\"td\")).textContent=(o?\"Q\":\"R\")+(l?\"x\":\"\")+i(m)+String(8-t),L.prevTR.appendChild(e),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}\"white\"===r?0===e?O.wLeft=!0:O.wRight=!0:0===e?O.bLeft=!0:O.bRight=!0};if(null!==b[t][m]){if(l(b[t][m])!==r){let l=!1,o=Array.from(b,e=>Array.from(e));o[t][m]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x]&&(l=!0):u(o)[I.y][I.x]&&(l=!0),l||k.push(Object(n.render)(\"moveLocation\",m,t,c))}break}let a=!1,f=Array.from(b,e=>Array.from(e));f[t][m]=f[t][e],f[t][e]=null,\"white\"===r?d(f)[S.y][S.x]&&(a=!0):u(f)[I.y][I.x]&&(a=!0),a||k.push(Object(n.render)(\"moveLocation\",m,t,c))}for(let m=t+1;m<8;m++){let c=n=>{let l=!1;T.setAttribute(\"x\",n.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",n.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[m][e]&&(l=!0,E.removeChild(b[m][e])),b[m][e]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let t=document.createElement(\"tr\"),r=document.createElement(\"td\");r.textContent=++L.moveCount,t.appendChild(r),(r=document.createElement(\"td\")).textContent=(o?\"Q\":\"R\")+(l?\"x\":\"\")+i(e)+String(8-m),t.appendChild(r),document.getElementById(\"moveHistory\").appendChild(t),L.prevTR=t}else{let t=document.createElement(\"td\");(t=document.createElement(\"td\")).textContent=(o?\"Q\":\"R\")+(l?\"x\":\"\")+i(e)+String(8-m),L.prevTR.appendChild(t),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}\"white\"===r?0===e?O.wLeft=!0:O.wRight=!0:0===e?O.bLeft=!0:O.bRight=!0};if(null!==b[m][e]){if(l(b[m][e])!==r){let l=!1,o=Array.from(b,e=>Array.from(e));o[m][e]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x]&&(l=!0):u(o)[I.y][I.x]&&(l=!0),l||k.push(Object(n.render)(\"moveLocation\",e,m,c))}break}let a=!1,f=Array.from(b,e=>Array.from(e));f[m][e]=f[t][e],f[t][e]=null,\"white\"===r?d(f)[S.y][S.x]&&(a=!0):u(f)[I.y][I.x]&&(a=!0),a||k.push(Object(n.render)(\"moveLocation\",e,m,c))}for(let m=t-1;m>=0;m--){let c=n=>{let l=!1;T.setAttribute(\"x\",n.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",n.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[m][e]&&(l=!0,E.removeChild(b[m][e])),b[m][e]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let t=document.createElement(\"tr\"),r=document.createElement(\"td\");r.textContent=++L.moveCount,t.appendChild(r),(r=document.createElement(\"td\")).textContent=(o?\"Q\":\"R\")+(l?\"x\":\"\")+i(e)+String(8-m),t.appendChild(r),document.getElementById(\"moveHistory\").appendChild(t),L.prevTR=t}else{let t=document.createElement(\"td\");(t=document.createElement(\"td\")).textContent=(o?\"Q\":\"R\")+(l?\"x\":\"\")+i(e)+String(8-m),L.prevTR.appendChild(t),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}\"white\"===r?0===e?O.wLeft=!0:O.wRight=!0:0===e?O.bLeft=!0:O.bRight=!0};if(null!==b[m][e]){if(l(b[m][e])!==r){let l=!1,o=Array.from(b,e=>Array.from(e));o[m][e]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x]&&(l=!0):u(o)[I.y][I.x]&&(l=!0),l||k.push(Object(n.render)(\"moveLocation\",e,m,c))}break}let a=!1,f=Array.from(b,e=>Array.from(e));f[m][e]=f[t][e],f[t][e]=null,\"white\"===r?d(f)[S.y][S.x]&&(a=!0):u(f)[I.y][I.x]&&(a=!0),a||k.push(Object(n.render)(\"moveLocation\",e,m,c))}}function y(e,t,r,o){for(let m=1;t+m<8&&e+m<8;m++){let c=r=>{let n=!1;T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t+m][e+m]&&(n=!0,E.removeChild(b[t+m][e+m])),b[t+m][e+m]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),l=document.createElement(\"td\");l.textContent=++L.moveCount,r.appendChild(l),(l=document.createElement(\"td\")).textContent=(o?\"Q\":\"B\")+(n?\"x\":\"\")+i(e+m)+String(8-(t+m)),r.appendChild(l),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=(o?\"Q\":\"B\")+(n?\"x\":\"\")+i(e+m)+String(8-(t+m)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};if(null!==b[t+m][e+m]){if(l(b[t+m][e+m])!==r){let l=!1,o=Array.from(b,e=>Array.from(e));o[t+m][e+m]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x]&&(l=!0):u(o)[I.y][I.x]&&(l=!0),l||k.push(Object(n.render)(\"moveLocation\",e+m,t+m,c))}break}let a=!1,f=Array.from(b,e=>Array.from(e));f[t+m][e+m]=f[t][e],f[t][e]=null,\"white\"===r?d(f)[S.y][S.x]&&(a=!0):u(f)[I.y][I.x]&&(a=!0),a||k.push(Object(n.render)(\"moveLocation\",e+m,t+m,c))}for(let m=1;t-m>=0&&e-m>=0;m++){let c=r=>{let n=!1;T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t-m][e-m]&&(n=!0,E.removeChild(b[t-m][e-m])),b[t-m][e-m]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),l=document.createElement(\"td\");l.textContent=++L.moveCount,r.appendChild(l),(l=document.createElement(\"td\")).textContent=(o?\"Q\":\"B\")+(n?\"x\":\"\")+i(e-m)+String(8-(t-m)),r.appendChild(l),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=(o?\"Q\":\"B\")+(n?\"x\":\"\")+i(e-m)+String(8-(t-m)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};if(null!==b[t-m][e-m]){if(l(b[t-m][e-m])!==r){let l=!1,o=Array.from(b,e=>Array.from(e));o[t-m][e-m]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x]&&(l=!0):u(o)[I.y][I.x]&&(l=!0),l||k.push(Object(n.render)(\"moveLocation\",e-m,t-m,c))}break}let a=!1,f=Array.from(b,e=>Array.from(e));f[t-m][e-m]=f[t][e],f[t][e]=null,\"white\"===r?d(f)[S.y][S.x]&&(a=!0):u(f)[I.y][I.x]&&(a=!0),a||k.push(Object(n.render)(\"moveLocation\",e-m,t-m,c))}for(let m=1;t+m<8&&e-m>=0;m++){let c=r=>{let n=!1;T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t+m][e-m]&&(n=!0,E.removeChild(b[t+m][e-m])),b[t+m][e-m]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),l=document.createElement(\"td\");l.textContent=++L.moveCount,r.appendChild(l),(l=document.createElement(\"td\")).textContent=(o?\"Q\":\"B\")+(n?\"x\":\"\")+i(e-m)+String(8-(t+m)),r.appendChild(l),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=(o?\"Q\":\"B\")+(n?\"x\":\"\")+i(e-m)+String(8-(t+m)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};if(null!==b[t+m][e-m]){if(l(b[t+m][e-m])!==r){let l=!1,o=Array.from(b,e=>Array.from(e));o[t+m][e-m]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x]&&(l=!0):u(o)[I.y][I.x]&&(l=!0),l||k.push(Object(n.render)(\"moveLocation\",e-m,t+m,c))}break}let a=!1,f=Array.from(b,e=>Array.from(e));f[t+m][e-m]=f[t][e],f[t][e]=null,\"white\"===r?d(f)[S.y][S.x]&&(a=!0):u(f)[I.y][I.x]&&(a=!0),a||k.push(Object(n.render)(\"moveLocation\",e-m,t+m,c))}for(let m=1;t-m>=0&&e+m<8;m++){let c=r=>{let n=!1;T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t-m][e+m]&&(n=!0,E.removeChild(b[t-m][e+m])),b[t-m][e+m]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),l=document.createElement(\"td\");l.textContent=++L.moveCount,r.appendChild(l),(l=document.createElement(\"td\")).textContent=(o?\"Q\":\"B\")+(n?\"x\":\"\")+i(e+m)+String(8-(t-m)),r.appendChild(l),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=(o?\"Q\":\"B\")+(n?\"x\":\"\")+i(e+m)+String(8-(t-m)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};if(null!==b[t-m][e+m]){if(l(b[t-m][e+m])!==r){let l=!1,o=Array.from(b,e=>Array.from(e));o[t-m][e+m]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x]&&(l=!0):u(o)[I.y][I.x]&&(l=!0),l||k.push(Object(n.render)(\"moveLocation\",e+m,t-m,c))}break}let a=!1,f=Array.from(b,e=>Array.from(e));f[t-m][e+m]=f[t][e],f[t][e]=null,\"white\"===r?d(f)[S.y][S.x]&&(a=!0):u(f)[I.y][I.x]&&(a=!0),a||k.push(Object(n.render)(\"moveLocation\",e+m,t-m,c))}}function v(e,t,r){let n=\"white\"===r;if(null===b[n?t-1:t+1][e]){let r=Array.from(b,e=>Array.from(e));if(r[n?t-1:t+1][e]=r[t][e],r[t][e]=null,n){if(!d(r)[S.y][S.x])return console.log(\"up1\",e,t),!0}else if(!u(r)[I.y][I.x])return console.log(\"up1\",e,t),!0;if(null===b[n?t-2:t+2][e])if((r=Array.from(b,e=>Array.from(e)))[n?t-2:t+2][e]=r[t][e],r[t][e]=null,n){if(!d(r)[S.y][S.x])return console.log(\"up2\",e,t),!0}else if(!u(r)[I.y][I.x])return console.log(\"up2\",e,t),!0}if(e+1<8&&null!==b[n?t-1:t+1][e+1]&&l(b[n?t-1:t+1][e+1])!==r){let r=Array.from(b,e=>Array.from(e));if(r[n?t-1:t+1][e+1]=r[t][e],r[t][e]=null,n){if(!d(r)[S.y][S.x])return console.log(\"up1right1\",e,t),!0}else if(!u(r)[I.y][I.x])return console.log(\"up1right1\",e,t),!0}if(e-1>=0&&null!==b[n?t-1:t+1][e-1]&&l(b[n?t-1:t+1][e-1])!==r){let r=Array.from(b,e=>Array.from(e));if(r[n?t-1:t+1][e-1]=r[t][e],r[t][e]=null,n){if(!d(r)[S.y][S.x])return console.log(\"up1left1\",e,t),!0}else if(!u(r)[I.y][I.x])return console.log(\"up1left1\",e,t),!0}if(j.x===e-1&&j.y===t&&null===b[n?t-1:t+1][e-1]){let r=Array.from(b,e=>Array.from(e));if(r[n?t-1:t+1][e-1]=r[t][e],r[t][e]=null,r[t][e-1]=null,n){if(!d(r)[S.y][S.x])return console.log(\"epleft\",e,t),!0}else if(!u(r)[I.y][I.x])return console.log(\"epleft\",e,t),!0}if(j.x===e+1&&j.y===t&&null==b[n?t-1:t+1][e+1]){let r=Array.from(b,e=>Array.from(e));if(r[n?t-1:t+1][e-1]=r[t][e],r[t][e]=null,r[t][e+1]=null,n){if(!d(r)[S.y][S.x])return console.log(\"epright\",e,t),!0}else if(!u(r)[I.y][I.x])return console.log(\"epright\",e,t),!0}return!1}function C(e,t,r){if(t<=5&&e<=6&&(null===b[t+2][e+1]||l(b[t+2][e+1])!==r)){let n=Array.from(b,e=>Array.from(e));if(n[t+2][e+1]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y][S.x])return!0}else if(!u(n)[I.y][I.x])return!0}if(t>=2&&e>=1&&(null===b[t-2][e-1]||l(b[t-2][e-1])!==r)){let n=Array.from(b,e=>Array.from(e));if(n[t-2][e-1]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y][S.x])return!0}else if(!u(n)[I.y][I.x])return!0}if(t<=5&&e>=1&&(null===b[t+2][e-1]||l(b[t+2][e-1])!==r)){let n=Array.from(b,e=>Array.from(e));if(n[t+2][e-1]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y][S.x])return!0}else if(!u(n)[I.y][I.x])return!0}if(t>=2&&e<=6&&(null===b[t-2][e+1]||l(b[t-2][e+1])!==r)){let n=Array.from(b,e=>Array.from(e));if(n[t-2][e+1]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y][S.x])return!0}else if(!u(n)[I.y][I.x])return!0}if(t<=6&&e<=5&&(null===b[t+1][e+2]||l(b[t+1][e+2])!==r)){let n=Array.from(b,e=>Array.from(e));if(n[t+1][e+2]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y][S.x])return!0}else if(!u(n)[I.y][I.x])return!0}if(t>=1&&e>=2&&(null===b[t-1][e-2]||l(b[t-1][e-2])!==r)){let n=Array.from(b,e=>Array.from(e));if(n[t-1][e-2]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y][S.x])return!0}else if(!u(n)[I.y][I.x])return!0}if(t>=1&&e<=5&&(null===b[t-1][e+2]||l(b[t-1][e+2])!==r)){let n=Array.from(b,e=>Array.from(e));if(n[t-1][e+2]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y][S.x])return!0}else if(!u(n)[I.y][I.x])return!0}if(t<=6&&e>=2&&(null===b[t+1][e-2]||l(b[t+1][e-2])!==r)){let n=Array.from(b,e=>Array.from(e));if(n[t+1][e-2]=n[t][e],n[t][XMLHttpRequestUpload]=null,\"white\"===r){if(!d(n)[S.y][S.x])return!0}else if(!u(n)[I.y][I.x])return!0}return!1}function x(e,t,r){for(let n=1;t+n<8&&e+n<8;n++){if(null===b[t+n][e+n]||l(b[t+n][e+n])!==r){let l=Array.from(b,e=>Array.from(e));if(l[t+n][e+n]=l[t][e],l[t][e]=null,\"white\"===r){if(!d(l)[S.y][S.x])return!0}else if(!u(l)[I.y][I.x])return!0}if(null!==b[t+n][e+1])break}for(let n=1;t-n>=0&&e-n>=0;n++){if(null===b[t-n][e-n]||l(b[t-n][e-n])!==r){let l=Array.from(b,e=>Array.from(e));if(l[t-n][e-n]=l[t][e],l[t][e]=null,\"white\"===r){if(!d(l)[S.y][S.x])return!0}else if(!u(l)[I.y][I.x])return!0}if(null!==b[t-n][e-n])break}for(let n=1;t+n<8&&e-n>=0;n++){if(null===b[t+n][e-n]||l(b[t+n][e-n])!==r){let l=Array.from(b,e=>Array.from(e));if(l[t+n][e-n]=l[t][e],l[t][e]=null,\"white\"===r){if(!d(l)[S.y][S.x])return!0}else if(!u(l)[I.y][I.x])return!0}if(null===b[t+n][e-n])break}for(let n=1;t-n>=0&&e+n<8;n++){if(null===b[t-n][e+n]||l(b[t-n][e+n])!==r){let l=Array.from(b,e=>Array.from(e));if(l[t-n][e+n]=l[t][e],l[t][e]=null,\"white\"===r){if(!d(l)[S.y][S.x])return!0}else if(!u(l)[I.y][I.x])return!0}if(null!==b[t-n][e-n])break}return!1}function s(e,t,r){for(let n=e+1;n<8;n++){if(null!==b[t][n]){if(l(b[t][n])!==r){let l=Array.from(b,e=>Array.from(e));if(l[t][n]=l[t][e],l[t][e]=null,\"white\"===r){if(!d(l)[S.y][S.x])return!0}else if(!u(l)[I.y][I.x])return!0}break}let o=Array.from(b,e=>Array.from(e));if(o[t][n]=o[t][e],o[t][e]=null,\"white\"===r){if(!d(o)[S.y][S.x])return!0}else if(!u(o)[I.y][I.x])return!0}for(let n=e-1;n>=0;n--){if(null!==b[t][n]){if(l(b[t][n])!==r){let l=Array.from(b,e=>Array.from(e));if(l[t][n]=l[t][e],l[t][e]=null,\"white\"===r){if(!d(l)[S.y][S.x])return!0}else if(!u(l)[I.y][I.x])return!0}break}let o=Array.from(b,e=>Array.from(e));if(o[t][n]=o[t][e],o[t][e]=null,\"white\"===r){if(!d(o)[S.y][S.x])return!0}else if(!u(o)[I.y][I.x])return!0}for(let n=t+1;n<8;n++){if(null!==b[n][e]){if(l(b[n][e])!==r){let l=Array.from(b,e=>Array.from(e));if(l[n][e]=l[t][e],l[t][e]=null,\"white\"===r){if(!d(l)[S.y][S.x])return!0}else if(!u(l)[I.y][I.x])return!0}break}let o=Array.from(b,e=>Array.from(e));if(o[n][e]=o[t][e],o[t][e]=null,\"white\"===r){if(!d(o)[S.y][S.x])return!0}else if(!u(o)[I.y][I.x])return!0}for(let n=t-1;n>=0;n--){if(null!==b[n][e]){if(l(b[n][e])!==r){let l=Array.from(b,e=>Array.from(e));if(l[n][e]=l[t][e],l[t][e]=null,\"white\"===r){if(!d(l)[S.y][S.x])return!0}else if(!u(l)[I.y][I.x])return!0}break}let o=Array.from(b,e=>Array.from(e));if(o[n][e]=o[t][e],o[t][e]=null,\"white\"===r){if(!d(o)[S.y][S.x])return!0}else if(!u(o)[I.y][I.x])return!0}return!1}function g(e,t,r){if(t+1<8&&e+1<8&&null!==b[t+1][e+1]&&l(b[t+1][e+1])!==r){let n=Array.from(b,e=>Array.from(e));if(n[t+1][e+1]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y+1][S.x+1])return!0}else if(!u(n)[I.y+1][I.x+1])return!0}else if(t+1<8&&e+1<8&&null===b[t+1][e+1]){let n=Array.from(b,e=>Array.from(e));if(n[t+1][e+1]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y+1][S.x+1])return!0}else if(!u(n)[I.y+1][I.x+1])return!0}if(t-1>=0&&e-1>=0&&null!==b[t-1][e-1]&&l(b[t-1][e-1])!==r){let n=Array.from(b,e=>Array.from(e));if(n[t-1][e-1]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y-1][S.x-1])return!0}else if(!u(n)[I.y-1][I.x-1])return!0}else if(t-1>=0&&e-1>=0&&null===b[t-1][e-1]){let n=Array.from(b,e=>Array.from(e));if(n[t-1][e-1]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y-1][S.x-1])return!0}else if(!u(n)[I.y-1][I.x-1])return!0}if(t-1>=0&&e+1<8&&null!==b[t-1][e+1]&&l(b[t-1][e+1])!==r){let n=Array.from(b,e=>Array.from(e));if(n[t-1][e-1]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y-1][S.x-1])return!0}else if(!u(n)[I.y-1][I.x-1])return!0}else if(t-1>=0&&e+1<8&&null===b[t-1][e+1]){let n=Array.from(b,e=>Array.from(e));if(n[t-1][e+1]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y-1][S.x+1])return!0}else if(!u(n)[I.y-1][I.x+1])return!0}if(t+1<8&&e-1>=0&&null!==b[t+1][e-1]&&l(b[t+1][e-1])!==r){let n=Array.from(b,e=>Array.from(e));if(n[t+1][e-1]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y+1][S.x-1])return!0}else if(!u(n)[I.y+1][I.x-1])return!0}else if(t+1<8&&e-1>=0&&null===b[t+1][e-1]){let n=Array.from(b,e=>Array.from(e));if(n[t+1][e-1]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y+1][S.x-1])return!0}else if(!u(n)[I.y+1][I.x-1])return!0}if(t+1<8&&null!==b[t+1][e]&&l(b[t+1][e])!==r){let n=Array.from(b,e=>Array.from(e));if(n[t+1][e]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y+1][S.x])return!0}else if(!u(n)[I.y+1][I.x])return!0}else if(t+1<8&&null===b[t+1][e]){let n=Array.from(b,e=>Array.from(e));if(n[t+1][e]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y+1][S.x])return!0}else if(!u(n)[I.y+1][I.x])return!0}if(t-1>=0&&null!==b[t-1][e]&&l(b[t-1][e])!==r){let n=Array.from(b,e=>Array.from(e));if(n[t-1][e]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y-1][S.x])return!0}else if(!u(n)[I.y-1][I.x])return!0}else if(t-1>=0&&null===b[t-1][e]){let n=Array.from(b,e=>Array.from(e));if(n[t-1][e]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y-1][S.x])return!0}else if(!u(n)[I.y-1][I.x])return!0}if(e+1<8&&null!==b[t][e+1]&&l(b[t][e+1])!==r){let n=Array.from(b,e=>Array.from(e));if(n[t][e+1]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y][S.x+1])return!0}else if(!u(n)[I.y][I.x+1])return!0}else if(e+1<8&&null===b[t][e+1]){let n=Array.from(b,e=>Array.from(e));if(n[t][e+1]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y][S.x+1])return!0}else if(!u(n)[I.y][I.x+1])return!0}if(e-1>=0&&null!==b[t][e-1]&&l(b[t][e-1])!==r){let n=Array.from(b,e=>Array.from(e));if(n[t][e-1]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y][S.x-1])return!0}else if(!u(n)[I.y][I.x-1])return!0}else if(e-1>=0&&null===b[t][e-1]){let n=Array.from(b,e=>Array.from(e));if(n[t][e-1]=n[t][e],n[t][e]=null,\"white\"===r){if(!d(n)[S.y][S.x-1])return!0}else if(!u(n)[I.y][I.x-1])return!0}return!1}r.d(t,\"board\",function(){return b}),r.d(t,\"g\",function(){return E}),r.d(t,\"shownPiece\",function(){return T}),r.d(t,\"shownLocations\",function(){return k}),r.d(t,\"kingMoved\",function(){return B}),r.d(t,\"rookMoved\",function(){return O}),r.d(t,\"epMove\",function(){return j}),r.d(t,\"blackKing\",function(){return I}),r.d(t,\"whiteKing\",function(){return S}),r.d(t,\"pieceBehavior\",function(){return H}),r.d(t,\"data\",function(){return L}),r.d(t,\"updateControls\",function(){return _});const b=[[],[],[],[],[],[],[],[]];var A,E,w=[[],[],[],[],[],[],[],[]],R=[[],[],[],[],[],[],[],[]],T=null;const k=[],B={white:!1,black:!1},O={bLeft:!1,bRight:!1,wLeft:!1,wRight:!1},j={x:-1,y:-1},I={x:4,y:0},S={x:4,y:7},H=e=>{let t=Number(e.target.getAttribute(\"x\")),r=Number(e.target.getAttribute(\"y\")),m=o(e.target),c=l(e.target);for(let e=0;e<k.length;)E.removeChild(k.shift());T=e.target,function(e,t,r,o){if(o!==L.moveColor)return;switch(r){case\"pawn\":!function(e,t,r){let o=\"white\"===r;if(null===b[o?t-1:t+1][e]){let r=!1,l=Array.from(b,e=>Array.from(e));if(l[o?t-1:t+1][e]=l[t][e],l[t][e]=null,o?d(l)[S.y][S.x]&&(r=!0):u(l)[I.y][I.x]&&(r=!0),!r)if(t===(o?1:6)){let r=r=>{for(let e=0;e<k.length;)E.removeChild(k.shift());if(E.removeChild(b[t][e]),b[t][e]=null,b[o?t-1:t+1][e]=Object(n.render)(o?\"Queen_White.png\":\"Queen_Black.png\",e,o?t-1:t+1,H),L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++L.moveCount,r.appendChild(n),(n=document.createElement(\"td\")).textContent=i(e)+String(8-(t-1))+\"=Q\",r.appendChild(n),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=i(e)+String(8-(t+1))+\"=Q\",L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};k.push(Object(n.render)(\"moveLocation\",e,t,r))}else{let r=r=>{T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(b[o?t-1:t+1][e]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++L.moveCount,r.appendChild(n),(n=document.createElement(\"td\")).textContent=i(e)+String(8-(t-1)),r.appendChild(n),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=i(e)+String(8-(t+1)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};k.push(Object(n.render)(\"moveLocation\",e,o?t-1:t+1,r))}if(r=!1,(l=Array.from(b,e=>Array.from(e)))[o?t-2:t+2][e]=l[t][e],l[t][e]=null,o?d(l)[S.y][S.x]&&(r=!0):u(l)[I.y][I.x]&&(r=!0),!r&&t===(o?6:1)&&null===b[o?t-2:t+2][e]){let r=r=>{T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(b[o?t-2:t+2][e]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=e,j.y=o?t-2:t+2,_(),null===L.prevTR){let r=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++L.moveCount,r.appendChild(n),(n=document.createElement(\"td\")).textContent=i(e)+String(8-(t-2)),r.appendChild(n),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=i(e)+String(8-(t+2)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};k.push(Object(n.render)(\"moveLocation\",e,o?t-2:t+2,r))}}if(e+1<8&&null!==b[o?t-1:t+1][e+1]&&l(b[o?t-1:t+1][e+1])!==r){let r=!1,l=Array.from(b,e=>Array.from(e));if(l[o?t-1:t+1][e+1]=l[t][e],l[t][e]=null,o?d(l)[S.y][S.x]&&(r=!0):u(l)[I.y][I.x]&&(r=!0),!r)if(t===(o?1:6)){let r=r=>{for(let e=0;e<k.length;)E.removeChild(k.shift());E.removeChild(b[t][e]),b[t][e]=null;let l=Object(n.render)(o?\"Queen_White.png\":\"Queen_Black.png\",e+1,o?t-1:t+1,H);if(E.appendChild(l),E.removeChild(b[o?t-1:t+1][e+1]),b[o?t-1:t+1][e+1]=l,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++L.moveCount,r.appendChild(n),(n=document.createElement(\"td\")).textContent=i(e)+\"x\"+i(e+1)+String(8-(t-1)+\"=Q\"),r.appendChild(n),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=i(e)+\"x\"+i(e+1)+String(8-(t+1)+\"=Q\"),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};k.push(Object(n.render)(\"moveLocation\",e+1,o?t-1:t+1,r))}else{let r=r=>{T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());let n=b[o?t-1:t+1][e+1];if(E.removeChild(n),b[o?t-1:t+1][e+1]=null,b[o?t-1:t+1][e+1]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++L.moveCount,r.appendChild(n),(n=document.createElement(\"td\")).textContent=i(e)+\"x\"+i(e+1)+String(8-(t-1)),r.appendChild(n),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=i(e)+\"x\"+i(e+1)+String(8-(t+1)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};k.push(Object(n.render)(\"moveLocation\",e+1,o?t-1:t+1,r))}}if(e-1>=0&&null!==b[o?t-1:t+1][e-1]&&l(b[o?t-1:t+1][e-1])!==r){let r=!1,l=Array.from(b,e=>Array.from(e));if(l[o?t-1:t+1][e-1]=l[t][e],l[t][e]=null,o?d(l)[S.y][S.x]&&(r=!0):u(l)[I.y][I.x]&&(r=!0),!r)if(t===(o?1:6)){let r=r=>{for(let e=0;e<k.length;)E.removeChild(k.shift());E.removeChild(b[t][e]),b[t][e]=null;let l=Object(n.render)(o?\"Queen_White.png\":\"Queen_Black.png\",e-1,o?t-1:t+1,H);if(E.appendChild(l),E.removeChild(b[o?t-1:t+1][e-1]),b[o?t-1:t+1][e-1]=l,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++L.moveCount,r.appendChild(n),(n=document.createElement(\"td\")).textContent=i(e)+\"x\"+i(e-1)+String(8-(t-1)+\"=Q\"),r.appendChild(n),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=i(e)+\"x\"+i(e-1)+String(8-(t+1)+\"=Q\"),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};k.push(Object(n.render)(\"moveLocation\",e-1,o?t-1:t+1,r))}else{let r=r=>{T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(E.removeChild(b[o?t-1:t+1][e-1]),b[o?t-1:t+1][e-1]=null,b[o?t-1:t+1][e-1]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++L.moveCount,r.appendChild(n),(n=document.createElement(\"td\")).textContent=i(e)+\"x\"+i(e-1)+String(8-(t-1)),r.appendChild(n),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=i(e)+\"x\"+i(e-1)+String(8-(t+1)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};k.push(Object(n.render)(\"moveLocation\",e-1,o?t-1:t+1,r))}}if(j.x===e-1&&j.y===t&&null===b[o?t-1:t+1][e-1]){let r=!1,l=Array.from(b,e=>Array.from(e));if(l[o?t-1:t+1][e-1]=l[t][e],l[t][e]=null,l[t][e-1]=null,o?d(l)[S.y][S.x]&&(r=!0):u(l)[I.y][I.x]&&(r=!0),!r){let r=r=>{T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(E.removeChild(b[t][e-1]),b[t][e-1]=null,b[o?t-1:t+1][e-1]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++L.moveCount,r.appendChild(n),(n=document.createElement(\"td\")).textContent=i(e)+\"x\"+i(e-1)+String(8-(t-1)),r.appendChild(n),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=i(e)+\"x\"+i(e-1)+String(8-(t+1)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};k.push(Object(n.render)(\"moveLocation\",e-1,o?t-1:t+1,r))}}if(j.x===e+1&&j.y===t&&null==b[o?t-1:t+1][e+1]){let r=!1,l=Array.from(b,e=>Array.from(e));if(l[o?t-1:t+1][e-1]=l[t][e],l[t][e]=null,l[t][e+1]=null,o?d(l)[S.y][S.x]&&(r=!0):u(l)[I.y][I.x]&&(r=!0),!r){let r=r=>{T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(E.removeChild(b[t][e+1]),b[t][e+1]=null,b[o?t-1:t+1][e+1]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++L.moveCount,r.appendChild(n),(n=document.createElement(\"td\")).textContent=i(e)+\"x\"+i(e+1)+String(8-(t-1)),r.appendChild(n),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=i(e)+\"x\"+i(e+1)+String(8-(t+1)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};k.push(Object(n.render)(\"moveLocation\",e+1,o?t-1:t+1,r))}}}(e/50,t/50,o);break;case\"knight\":!function(e,t,r){if(t<=5&&e<=6&&(null===b[t+2][e+1]||l(b[t+2][e+1])!==r)){let l=!1,o=Array.from(b,e=>Array.from(e));if(o[t+2][e+1]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x]&&(l=!0):u(o)[I.y][I.x]&&(l=!0),!l){let r=r=>{let n=!1;T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t+2][e+1]&&(n=!0,E.removeChild(b[t+2][e+1])),b[t+2][e+1]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),l=document.createElement(\"td\");l.textContent=++L.moveCount,r.appendChild(l),(l=document.createElement(\"td\")).textContent=\"N\"+(n?\"x\":\"\")+i(e+1)+String(8-(t+2)),r.appendChild(l),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=\"N\"+(n?\"x\":\"\")+i(e+1)+String(8-(t+2)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};k.push(Object(n.render)(\"moveLocation\",e+1,t+2,r))}}if(t>=2&&e>=1&&(null===b[t-2][e-1]||l(b[t-2][e-1])!==r)){let l=!1,o=Array.from(b,e=>Array.from(e));if(o[t-2][e-1]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x]&&(l=!0):u(o)[I.y][I.x]&&(l=!0),!l){let r=r=>{let n=!1;T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t-2][e-1]&&(n=!0,E.removeChild(b[t-2][e-1])),b[t-2][e-1]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),l=document.createElement(\"td\");l.textContent=++L.moveCount,r.appendChild(l),(l=document.createElement(\"td\")).textContent=\"N\"+(n?\"x\":\"\")+i(e-1)+String(8-(t-2)),r.appendChild(l),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=\"N\"+(n?\"x\":\"\")+i(e-1)+String(8-(t-2)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};k.push(Object(n.render)(\"moveLocation\",e-1,t-2,r))}}if(t<=5&&e>=1&&(null===b[t+2][e-1]||l(b[t+2][e-1])!==r)){let l=!1,o=Array.from(b,e=>Array.from(e));if(o[t+2][e-1]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x]&&(l=!0):u(o)[I.y][I.x]&&(l=!0),!l){let r=r=>{let n=!1;T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t+2][e-1]&&(n=!0,E.removeChild(b[t+2][e-1])),b[t+2][e-1]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),l=document.createElement(\"td\");l.textContent=++L.moveCount,r.appendChild(l),(l=document.createElement(\"td\")).textContent=\"N\"+(n?\"x\":\"\")+i(e-1)+String(8-(t+2)),r.appendChild(l),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=\"N\"+(n?\"x\":\"\")+i(e-1)+String(8-(t+2)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};k.push(Object(n.render)(\"moveLocation\",e-1,t+2,r))}}if(t>=2&&e<=6&&(null===b[t-2][e+1]||l(b[t-2][e+1])!==r)){let l=!1,o=Array.from(b,e=>Array.from(e));if(o[t-2][e+1]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x]&&(l=!0):u(o)[I.y][I.x]&&(l=!0),!l){let r=r=>{let n=!1;T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t-2][e+1]&&(n=!0,E.removeChild(b[t-2][e+1])),b[t-2][e+1]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),l=document.createElement(\"td\");l.textContent=++L.moveCount,r.appendChild(l),(l=document.createElement(\"td\")).textContent=\"N\"+(n?\"x\":\"\")+i(e+1)+String(8-(t-2)),r.appendChild(l),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=\"N\"+(n?\"x\":\"\")+i(e+1)+String(8-(t-2)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};k.push(Object(n.render)(\"moveLocation\",e+1,t-2,r))}}if(t<=6&&e<=5&&(null===b[t+1][e+2]||l(b[t+1][e+2])!==r)){let l=!1,o=Array.from(b,e=>Array.from(e));if(o[t+1][e+2]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x]&&(l=!0):u(o)[I.y][I.x]&&(l=!0),!l){let r=r=>{let n=!1;T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t+1][e+2]&&(n=!0,E.removeChild(b[t+1][e+2])),b[t+1][e+2]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),l=document.createElement(\"td\");l.textContent=++L.moveCount,r.appendChild(l),(l=document.createElement(\"td\")).textContent=\"N\"+(n?\"x\":\"\")+i(e+2)+String(8-(t+1)),r.appendChild(l),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=\"N\"+(n?\"x\":\"\")+i(e+2)+String(8-(t+1)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};k.push(Object(n.render)(\"moveLocation\",e+2,t+1,r))}}if(t>=1&&e>=2&&(null===b[t-1][e-2]||l(b[t-1][e-2])!==r)){let l=!1,o=Array.from(b,e=>Array.from(e));if(o[t-1][e-2]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x]&&(l=!0):u(o)[I.y][I.x]&&(l=!0),!l){let r=r=>{let n=!1;T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t-1][e-2]&&(n=!0,E.removeChild(b[t-1][e-2])),b[t-1][e-2]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),l=document.createElement(\"td\");l.textContent=++L.moveCount,r.appendChild(l),(l=document.createElement(\"td\")).textContent=\"N\"+(n?\"x\":\"\")+i(e-2)+String(8-(t-1)),r.appendChild(l),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=\"N\"+(n?\"x\":\"\")+i(e-2)+String(8-(t-1)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};k.push(Object(n.render)(\"moveLocation\",e-2,t-1,r))}}if(t>=1&&e<=5&&(null===b[t-1][e+2]||l(b[t-1][e+2])!==r)){let l=!1,o=Array.from(b,e=>Array.from(e));if(o[t-1][e+2]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x]&&(l=!0):u(o)[I.y][I.x]&&(l=!0),!l){let r=r=>{let n=!1;T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t-1][e+2]&&(n=!0,E.removeChild(b[t-1][e+2])),b[t-1][e+2]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),l=document.createElement(\"td\");l.textContent=++L.moveCount,r.appendChild(l),(l=document.createElement(\"td\")).textContent=\"N\"+(n?\"x\":\"\")+i(e+2)+String(8-(t-1)),r.appendChild(l),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=\"N\"+(n?\"x\":\"\")+i(e+2)+String(8-(t-1)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};k.push(Object(n.render)(\"moveLocation\",e+2,t-1,r))}}if(t<=6&&e>=2&&(null===b[t+1][e-2]||l(b[t+1][e-2])!==r)){let l=!1,o=Array.from(b,e=>Array.from(e));if(o[t+1][e-2]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x]&&(l=!0):u(o)[I.y][I.x]&&(l=!0),!l){let r=r=>{let n=!1;T.setAttribute(\"x\",r.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",r.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t+1][e-2]&&(n=!0,E.removeChild(b[t+1][e-2])),b[t+1][e-2]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),l=document.createElement(\"td\");l.textContent=++L.moveCount,r.appendChild(l),(l=document.createElement(\"td\")).textContent=\"N\"+(n?\"x\":\"\")+i(e-2)+String(8-(t+1)),r.appendChild(l),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=\"N\"+(n?\"x\":\"\")+i(e-2)+String(8-(t+1)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}};k.push(Object(n.render)(\"moveLocation\",e-2,t+1,r))}}}(e/50,t/50,o);break;case\"rook\":h(e/50,t/50,o,!1);break;case\"bishop\":y(e/50,t/50,o,!1);break;case\"queen\":h(e/50,t/50,o,!0),y(e/50,t/50,o,!0);break;case\"king\":!function(e,t,r){if(t+1<8&&e+1<8&&(null!==b[t+1][e+1]&&l(b[t+1][e+1])!==r||null===b[t+1][e+1])){let l=!1,o=Array.from(b,e=>Array.from(e));if(o[t+1][e+1]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y+1][S.x+1]&&(l=!0):u(o)[I.y+1][I.x+1]&&(l=!0),!l){let l=n=>{let l=!1;T.setAttribute(\"x\",n.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",n.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t+1][e+1]&&(l=!0,E.removeChild(b[t+1][e+1])),b[t+1][e+1]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++L.moveCount,r.appendChild(n),(n=document.createElement(\"td\")).textContent=\"K\"+(l?\"x\":\"\")+i(e+1)+String(8-(t+1)),r.appendChild(n),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=\"K\"+(l?\"x\":\"\")+i(e+1)+String(8-(t+1)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}\"white\"===r?(B.white=!0,S.x=e+1,S.y=t+1):(B.black=!0,I.x=e+1,I.y=t+1)};k.push(Object(n.render)(\"moveLocation\",e+1,t+1,l))}}if(t-1>=0&&e-1>=0&&(null!==b[t-1][e-1]&&l(b[t-1][e-1])!==r||null===b[t-1][e-1])){let l=!1,o=Array.from(b,e=>Array.from(e));if(o[t-1][e-1]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y-1][S.x-1]&&(l=!0):u(o)[I.y-1][I.x-1]&&(l=!0),!l){let l=n=>{let l=!1;T.setAttribute(\"x\",n.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",n.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t-1][e-1]&&(l=!0,E.removeChild(b[t-1][e-1])),b[t-1][e-1]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++L.moveCount,r.appendChild(n),(n=document.createElement(\"td\")).textContent=\"K\"+(l?\"x\":\"\")+i(e-1)+String(8-(t-1)),r.appendChild(n),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=\"K\"+(l?\"x\":\"\")+i(e-1)+String(8-(t-1)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}\"white\"===r?(B.white=!0,S.x=e-1,S.y=t-1):(B.black=!0,I.x=e-1,I.y=t-1)};k.push(Object(n.render)(\"moveLocation\",e-1,t-1,l))}}if(t-1>=0&&e+1<8&&(null!==b[t-1][e+1]&&l(b[t-1][e+1])!==r||null===b[t-1][e+1])){let l=!1,o=Array.from(b,e=>Array.from(e));if(o[t-1][e+1]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y-1][S.x-1]&&(l=!0):u(o)[I.y-1][I.x-1]&&(l=!0),!l){let l=n=>{let l=!1;T.setAttribute(\"x\",n.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",n.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t-1][e+1]&&(l=!0,E.removeChild(b[t-1][e+1])),b[t-1][e+1]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++L.moveCount,r.appendChild(n),(n=document.createElement(\"td\")).textContent=\"K\"+(l?\"x\":\"\")+i(e+1)+String(8-(t-1)),r.appendChild(n),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=\"K\"+(l?\"x\":\"\")+i(e+1)+String(8-(t-1)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}\"white\"===r?(B.white=!0,S.x=e+1,S.y=t-1):(B.black=!0,I.x=e+1,I.y=t-1)};k.push(Object(n.render)(\"moveLocation\",e+1,t-1,l))}}if(t+1<8&&e-1>=0&&(null!==b[t+1][e-1]&&l(b[t+1][e-1])!==r||null===b[t+1][e-1])){let l=!1,o=Array.from(b,e=>Array.from(e));if(o[t+1][e-1]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y+1][S.x-1]&&(l=!0):u(o)[I.y+1][I.x-1]&&(l=!0),!l){let l=n=>{let l=!0;T.setAttribute(\"x\",n.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",n.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t+1][e-1]&&(l=!1,E.removeChild(b[t+1][e-1])),b[t+1][e-1]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++L.moveCount,r.appendChild(n),(n=document.createElement(\"td\")).textContent=\"K\"+(l?\"x\":\"\")+i(e-1)+String(8-(t+1)),r.appendChild(n),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=\"K\"+(l?\"x\":\"\")+i(e-1)+String(8-(t+1)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}\"white\"===r?(B.white=!0,S.x=e-1,S.y=t+1):(B.black=!0,I.x=e-1,I.y=t+1)};k.push(Object(n.render)(\"moveLocation\",e-1,t+1,l))}}if(t+1<8&&(null!==b[t+1][e]&&l(b[t+1][e])!==r||null===b[t+1][e])){let l=!1,o=Array.from(b,e=>Array.from(e));if(o[t+1][e]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y+1][S.x]&&(l=!0):u(o)[I.y+1][I.x]&&(l=!0),!l){let l=n=>{let l=!1;T.setAttribute(\"x\",n.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",n.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t+1][e]&&(l=!0,E.removeChild(b[t+1][e])),b[t+1][e]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++L.moveCount,r.appendChild(n),(n=document.createElement(\"td\")).textContent=\"K\"+(l?\"x\":\"\")+i(e)+String(8-(t+1)),r.appendChild(n),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=\"K\"+(l?\"x\":\"\")+i(e)+String(8-(t+1)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}\"white\"===r?(B.white=!0,S.x=e,S.y=t+1):(B.black=!0,I.x=e,I.y=t+1)};k.push(Object(n.render)(\"moveLocation\",e,t+1,l))}}if(t-1>=0&&(null!==b[t-1][e]&&l(b[t-1][e])!==r||null===b[t-1][e])){let l=!1,o=Array.from(b,e=>Array.from(e));if(o[t-1][e]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y-1][S.x]&&(l=!0):u(o)[I.y-1][I.x]&&(l=!0),!l){let l=n=>{let l=!1;T.setAttribute(\"x\",n.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",n.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t-1][e]&&(l=!0,E.removeChild(b[t-1][e])),b[t-1][e]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++L.moveCount,r.appendChild(n),(n=document.createElement(\"td\")).textContent=\"K\"+(l?\"x\":\"\")+i(e)+String(8-(t-1)),r.appendChild(n),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=\"K\"+(l?\"x\":\"\")+i(e)+String(8-(t-1)),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}\"white\"===r?(B.white=!0,S.x=e,S.y=t-1):(B.black=!0,I.x=e,I.y=t-1)};k.push(Object(n.render)(\"moveLocation\",e,t-1,l))}}if(e+1<8&&(null!==b[t][e+1]&&l(b[t][e+1])!==r||null===b[t][e+1])){let l=!1,o=Array.from(b,e=>Array.from(e));if(o[t][e+1]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x+1]&&(l=!0):u(o)[I.y][I.x+1]&&(l=!0),!l){let l=n=>{let l=!1;T.setAttribute(\"x\",n.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",n.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t][e+1]&&(l=!0,E.removeChild(b[t][e+1])),b[t][e+1]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++L.moveCount,r.appendChild(n),(n=document.createElement(\"td\")).textContent=\"K\"+(l?\"x\":\"\")+i(e+1)+String(8-t),r.appendChild(n),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=\"K\"+(l?\"x\":\"\")+i(e+1)+String(8-t),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}\"white\"===r?(B.white=!0,S.x=e+1,S.y=t):(B.black=!0,I.x=e+1,I.y=t)};k.push(Object(n.render)(\"moveLocation\",e+1,t,l))}}if(e-1>=0&&(null!==b[t][e-1]&&l(b[t][e-1])!==r||null===b[t][e-1])){let l=!1,o=Array.from(b,e=>Array.from(e));if(o[t][e-1]=o[t][e],o[t][e]=null,\"white\"===r?d(o)[S.y][S.x-1]&&(l=!0):u(o)[I.y][I.x-1]&&(l=!0),!l){let l=n=>{let l=!1;T.setAttribute(\"x\",n.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",n.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());if(null!==b[t][e-1]&&(l=!0,E.removeChild(b[t][e-1])),b[t][e-1]=b[t][e],b[t][e]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let r=document.createElement(\"tr\"),n=document.createElement(\"td\");n.textContent=++L.moveCount,r.appendChild(n),(n=document.createElement(\"td\")).textContent=\"K\"+(l?\"x\":\"\")+i(e-1)+String(8-t),r.appendChild(n),document.getElementById(\"moveHistory\").appendChild(r),L.prevTR=r}else{let r=document.createElement(\"td\");(r=document.createElement(\"td\")).textContent=\"K\"+(l?\"x\":\"\")+i(e-1)+String(8-t),L.prevTR.appendChild(r),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}\"white\"===r?(B.white=!0,S.x=e-1,S.y=t):(B.black=!0,I.x=e-1,I.y=t)};k.push(Object(n.render)(\"moveLocation\",e-1,t,l))}}let o=\"white\"===r?B.white:B.black;if(!o&&!L.inCheck){if(!(o=\"white\"===r?O.wLeft:O.bLeft)&&null===b[\"white\"===r?7:0][1]&&null===b[\"white\"===r?7:0][2]&&null===b[\"white\"===r?7:0][3]){let l=n=>{T.setAttribute(\"x\",n.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",n.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());let l=b[\"white\"===r?7:0][0];if(l.setAttribute(\"x\",50*(e-1)),b[t][e-2]=b[t][e],b[t][e-1]=l,b[t][e]=null,b[\"white\"===r?7:0][0]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let e=document.createElement(\"tr\"),t=document.createElement(\"td\");t.textContent=++L.moveCount,e.appendChild(t),(t=document.createElement(\"td\")).textContent=\"O-O-O\",e.appendChild(t),document.getElementById(\"moveHistory\").appendChild(e),L.prevTR=e}else{let e=document.createElement(\"td\");(e=document.createElement(\"td\")).textContent=\"O-O-O\",L.prevTR.appendChild(e),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}\"white\"===r?(B.white=!0,S.x=e-2,S.y=t,O.wLeft=!0):(B.black=!0,I.x=e-2,I.y=t,O.bLeft=!0)};k.push(Object(n.render)(\"moveLocation\",e-2,t,l))}if(!(o=(\"white\"===r?O.wRight:O.bRight)||(\"white\"===r?B.white:B.black))&&null===b[\"white\"===r?7:0][5]&&null===b[\"white\"===r?7:0][6]){let l=n=>{T.setAttribute(\"x\",n.target.getAttribute(\"cx\")-25),T.setAttribute(\"y\",n.target.getAttribute(\"cy\")-25);for(let e=0;e<k.length;)E.removeChild(k.shift());let l=b[\"white\"===r?7:0][7];if(l.setAttribute(\"x\",50*(e+1)),b[t][e+2]=b[t][e],b[t][e+1]=l,b[t][e]=null,b[\"white\"===r?7:0][7]=null,L.moveColor=\"white\"===L.moveColor?\"black\":\"white\",j.x=-1,j.y=-1,_(),null===L.prevTR){let e=document.createElement(\"tr\"),t=document.createElement(\"td\");t.textContent=++L.moveCount,e.appendChild(t),(t=document.createElement(\"td\")).textContent=\"O-O\",e.appendChild(t),document.getElementById(\"moveHistory\").appendChild(e),L.prevTR=e}else{let e=document.createElement(\"td\");(e=document.createElement(\"td\")).textContent=\"O-O\",L.prevTR.appendChild(e),document.getElementById(\"moveHistory\").appendChild(L.prevTR),L.prevTR=null}\"white\"===r?(B.white=!0,S.x=e+2,S.y=t,O.wRight=!0):(B.black=!0,I.x=e+2,I.y=t,O.bRight=!0)};k.push(Object(n.render)(\"moveLocation\",e+2,t,l))}}}(e/50,t/50,o)}}(t,r,m,c)},L={moveCount:0,prevTR:null,moveColor:\"white\",inCheck:!1,clickEvent:null,check:null,tiles:[]};function _(){w=u(b),R=d(b)}window.addEventListener(\"load\",e=>{A=document.getElementById(\"board\"),E=document.getElementById(\"g\");for(let e=0;e<64;e++)Object(n.render)(\"tile\",50*Math.floor(e/8),e%8*50);!function(){for(let e=0;e<8;e++)b[6][e]=Object(n.render)(\"Pawn_White.png\",e,6,H),b[1][e]=Object(n.render)(\"Pawn_Black.png\",e,1,H);for(let e=0;e<8;e++)b[2][e]=null,b[3][e]=null,b[4][e]=null,b[5][e]=null;b[0][0]=Object(n.render)(\"Rook_Black.png\",0,0,H),b[7][0]=Object(n.render)(\"Rook_White.png\",0,7,H),b[0][7]=Object(n.render)(\"Rook_Black.png\",7,0,H),b[7][7]=Object(n.render)(\"Rook_White.png\",7,7,H),b[0][6]=Object(n.render)(\"Knight_Black.png\",6,0,H),b[7][6]=Object(n.render)(\"Knight_White.png\",6,7,H),b[0][1]=Object(n.render)(\"Knight_Black.png\",1,0,H),b[7][1]=Object(n.render)(\"Knight_White.png\",1,7,H),b[0][5]=Object(n.render)(\"Bishop_Black.png\",5,0,H),b[7][5]=Object(n.render)(\"Bishop_White.png\",5,7,H),b[0][2]=Object(n.render)(\"Bishop_Black.png\",2,0,H),b[7][2]=Object(n.render)(\"Bishop_White.png\",2,7,H),b[0][4]=Object(n.render)(\"King_Black.png\",4,0,H),b[7][4]=Object(n.render)(\"King_White.png\",4,7,H),b[0][3]=Object(n.render)(\"Queen_Black.png\",3,0,H),b[7][3]=Object(n.render)(\"Queen_White.png\",3,7,H)}(),_();let t=setInterval(()=>{if(L.inCheck&&function(){for(let e=0;e<8;e++)for(let t=0;t<8;t++)if(null!==b[t][e]&&l(b[t][e])===L.moveColor)switch(o(b[t][e])){case\"pawn\":if(v(e,t,L.moveColor))return!1;break;case\"knight\":if(C(e,t,L.moveColor))return!1;break;case\"bishop\":if(x(e,t,L.moveColor))return!1;break;case\"rook\":if(s(e,t,L.moveColor))return!1;break;case\"queen\":if(x(e,t,L.moveColor)||s(e,t,L.moveColor))return!1;break;case\"king\":if(g(e,t,L.moveColor))return!1}return!0}()&&(alert(\"Game Over!\\n\"+(\"white\"===L.moveColor?\"Black\":\"White\")+\" wins!\"),clearInterval(t)),null!==L.clickEvent&&(b[\"white\"===L.moveColor?S.y:I.y][\"white\"===L.moveColor?S.x:I.x].dispatchEvent(L.clickEvent),L.clickEvent=null),\"white\"===L.moveColor)if(R[S.y][S.x]){if(null!==L.check)return;Object(n.render)(\"checkCircle\",S.x,S.y)}else null!==L.check?(E.removeChild(L.check),L.check=null,L.inCheck=!1):L.inCheck=!1;else if(\"black\"===L.moveColor)if(w[I.y][I.x]){if(null!==L.check)return;Object(n.render)(\"checkCircle\",I.x,I.y)}else null!==L.check?(E.removeChild(L.check),L.check=null,L.inCheck=!1):L.inCheck=!1;let e=Number(function(e){let t=0;return e.forEach(e=>{e.forEach(e=>{null!==e&&(t+=(\"white\"===l(e)?1:-1)*function(e){switch(e){case\"pawn\":return 1;case\"bishop\":case\"knight\":return 3;case\"rook\":return 5;case\"queen\":return 9;default:return 1e5}}(o(e)))})}),t}(b));document.getElementById(\"materialcounter\").textContent=\"Material: \"+(e>0?\"+\":\"\")+String(e)},150)}),document.addEventListener(\"click\",e=>{if(e.target===document.body||e.target===A||\"tile\"===e.target.getAttribute(\"class\")){T=null;for(let e=0;e<k.length;)E.removeChild(k.shift())}})}]);","extractedComments":[]}